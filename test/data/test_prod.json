{"user":[{"dateCreated":"2020-02-23T05:56:49.777Z","teamIds":[],"teamIdsInactive":[],"teamIdsInvited":[],"accessRightIds":[],"emailConfirmed":true,"hasAcceptedTerms":true,"email":"admin@saasglue.com","passwordHash":"$2b$10$k0vE.MriptxGbPPaYgJjCOl8AIAGGxZ8YRtmHu.BPtFjx703mntCy","lastLogin":"2019-12-05T04:01:06.808Z","id":"5de8810275ad92e5bb8de78a","version":0},{"dateCreated":"2020-02-23T05:56:49.777Z","teamIds":[],"teamIdsInactive":[],"teamIdsInvited":[],"accessRightIds":[],"emailConfirmed":true,"hasAcceptedTerms":true,"email":"scheduler@saasglue.com","passwordHash":"$2b$10$bULADyD3uugVcvP5fC7uUOMdoKo6XQ/PKp6smjOTbAYtJvb8P8SOy","lastLogin":"2019-11-27T16:52:17.056Z","id":"5ddea9c1f9ba5c1987c51e50","version":0},{"dateCreated":"2020-02-23T05:56:49.777Z","teamIds":["5de95c0453162e8891f5a830"],"teamIdsInactive":[],"teamIdsInvited":[],"accessRightIds":[],"emailConfirmed":true,"hasAcceptedTerms":true,"email":"testuser@saasglue.com","name":"Skippy","passwordHash":"$2b$10$uDZiqzJUKLFL1fLqCsGREuxnSwnELpHh3cSIDazCKKXsQm0CekOXa","lastLogin":"2020-01-16T00:21:30.475Z","id":"5e1fac8a7e501cfd86cee31d","version":0},{"dateCreated":"2020-04-17T14:49:42.177Z","teamIds":["5e99cbcb2317950015edb655"],"teamIdsInactive":[],"teamIdsInvited":[],"accessRightIds":[],"emailConfirmed":true,"hasAcceptedTerms":true,"email":"demo@saasglue.com","companyName":"saas glue","name":"Demo User","passwordHash":"$2b$10$S5A1oihalwc3mjuPtCX6F.5Kogg1/9tTDkiI.yVbcn9Wx/MoN8z0u","id":"5e99cb8e2317950015edb654","version":0}],"team":[{"billing_address1":"","billing_address2":"","billing_city":"","billing_state":"","billing_zip":"","billing_email":"rich@wifunds.com","isActive":true,"paymentStatus":0,"paymentStatusDate":"2020-01-16T00:00:12.170Z","jobStorageSpaceHighWatermark":0,"paidStorageMB":0,"pricingTier":1,"notes":[],"name":"TestTeam","rmqPassword":"testorg_rmqpassword","inviteLink":"http://","ownerId":"5e1fac8a7e501cfd86cee31d","agent_install":{"v0_0_0_223":{"linux":{"status":"ready","lastUpdateTime":1591067793424,"location":"agent/production/5de95c0453162e8891f5a830/linux/v0.0.0.223/sg-agent.gz"}},"v0_0_0_222":{"macos":{"status":"ready","lastUpdateTime":1591108954860,"location":"agent/production/5de95c0453162e8891f5a830/macos/v0.0.0.222/sg-agent.gz"}}},"agent_stub_install":{"linux":{"status":"ready","lastUpdateTime":1591069188813,"location":"agent-stub/production/5de95c0453162e8891f5a830/linux/v0.0.0.217/sg-agent-launcher.gz"}},"id":"5de95c0453162e8891f5a830","version":0}],"agent":[{"numActiveTasks":0,"lastHeartbeatTime":1591120440011,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"richwood-macbook.local","ipAddress":"192.168.10.41,10.211.55.2,10.37.129.2","name":"richwood-macbook.local","reportedVersion":"v0.0.0.223","targetVersion":"v0.0.0.223","tags":{},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":686,"running":1,"blocked":0,"sleeping":684,"unknown":0,"list":[{"pid":6701,"parentPid":6698,"name":"com.docker.hyperkit","pcpu":13.7,"pcpuu":0,"pcpus":0,"pmem":0.1,"priority":31,"mem_vsz":6822304,"mem_rss":25920,"nice":0,"started":"2020-05-02 21:06:45","state":"sleeping","tty":"","user":"richwood","command":"com.docker.hyperkit"},{"pid":1320,"parentPid":1120,"name":"Postman Helper","pcpu":9,"pcpuu":0,"pcpus":0,"pmem":2.7,"priority":31,"mem_vsz":117372584,"mem_rss":91260,"nice":0,"started":"2020-05-01 12:32:23","state":"sleeping","tty":"","user":"richwood","command":"Postman Helper"},{"pid":63326,"parentPid":63325,"name":"node","pcpu":4.4,"pcpuu":0,"pcpus":0,"pmem":0,"priority":31,"mem_vsz":6711516,"mem_rss":7944,"nice":0,"started":"2020-05-25 09:51:46","state":"sleeping","tty":"ttys006","user":"richwood","command":"node"},{"pid":64135,"parentPid":1117,"name":"Google Chrome Helper (Renderer)","pcpu":4,"pcpuu":0,"pcpus":0,"pmem":0.4,"priority":31,"mem_vsz":10611784,"mem_rss":146192,"nice":0,"started":"2020-06-01 17:21:27","state":"sleeping","tty":"","user":"richwood","command":"Google Chrome Helper (Renderer)"},{"pid":64703,"parentPid":1117,"name":"Google Chrome Helper (Renderer)","pcpu":3.3,"pcpuu":0,"pcpus":0,"pmem":0.5,"priority":31,"mem_vsz":14130792,"mem_rss":179128,"nice":0,"started":"2020-06-01 21:02:19","state":"sleeping","tty":"","user":"richwood","command":"Google Chrome Helper (Renderer)"},{"pid":1263,"parentPid":1117,"name":"Google Chrome Helper","pcpu":3.1,"pcpuu":0,"pcpus":0,"pmem":0.2,"priority":31,"mem_vsz":6273700,"mem_rss":61448,"nice":0,"started":"2020-05-01 12:32:17","state":"sleeping","tty":"","user":"richwood","command":"Google Chrome Helper"},{"pid":63016,"parentPid":63015,"name":"node","pcpu":2,"pcpuu":0,"pcpus":0,"pmem":0,"priority":31,"mem_vsz":6669000,"mem_rss":12336,"nice":0,"started":"2020-05-25 09:45:40","state":"sleeping","tty":"ttys004","user":"richwood","command":"node"},{"pid":8140,"parentPid":7613,"name":"prl_vm_app","pcpu":1.7,"pcpuu":0,"pcpus":0,"pmem":5.3,"priority":63,"mem_vsz":8547252,"mem_rss":1793020,"nice":0,"started":"2020-05-20 10:34:23","state":"sleeping","tty":"","user":"richwood","command":"prl_vm_app"},{"pid":15792,"parentPid":1117,"name":"Google Chrome Helper (Renderer)","pcpu":1.5,"pcpuu":0,"pcpus":0,"pmem":0.8,"priority":97,"mem_vsz":10821464,"mem_rss":253984,"nice":0,"started":"2020-05-03 20:29:09","state":"sleeping","tty":"","user":"richwood","command":"Google Chrome Helper (Renderer)"},{"pid":57742,"parentPid":57741,"name":"sg-agent","pcpu":1.2,"pcpuu":0,"pcpus":0,"pmem":0.2,"priority":31,"mem_vsz":6648168,"mem_rss":66220,"nice":0,"started":"2020-06-01 09:26:34","state":"sleeping","tty":"ttys002","user":"richwood","command":"sg-agent"}]},"time":{"current":1591067123383,"uptime":2709483,"timezone":"GMT-0600","timezoneName":"Mountain Daylight Time"},"osInfo":{"platform":"darwin","distro":"Mac OS X","release":"10.15.4","codename":"macOS","kernel":"19.4.0","arch":"x64","hostname":"richwood-macbook.local","codepage":"UTF-8","logofile":"apple","serial":"AB0AA7EE-3D03-3C21-91AD-5719D79D7AF6","build":"19E287","servicepack":""},"cpuCurrentspeed":{"min":2.9,"max":2.9,"avg":2.9,"cores":[2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9,2.9]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0.16,"currentload":8.148284674748895,"currentload_user":4.3561741605634765,"currentload_system":3.7921105141854192,"currentload_nice":0,"currentload_idle":91.8517153252511,"currentload_irq":0,"raw_currentload":31799860,"raw_currentload_user":17000600,"raw_currentload_system":14799260,"raw_currentload_nice":0,"raw_currentload_idle":358464610,"raw_currentload_irq":0,"cpus":[{"load":24.623200250410637,"load_user":13.147665406619033,"load_system":11.475534843791605,"load_nice":0,"load_idle":75.37679974958937,"load_irq":0,"raw_load":8008100,"raw_load_user":4275960,"raw_load_system":3732140,"raw_load_nice":0,"raw_load_idle":24514480,"raw_load_irq":0},{"load":1.3428764177334838,"load_user":0.3613863608550279,"load_system":0.9814900568784557,"load_nice":0,"load_idle":98.65712358226652,"load_irq":0,"raw_load":436730,"raw_load_user":117530,"raw_load_system":319200,"raw_load_nice":0,"raw_load_idle":32085250,"raw_load_irq":0},{"load":20.020748961245136,"load_user":10.95713039529108,"load_system":9.063618565954053,"load_nice":0,"load_idle":79.97925103875487,"load_irq":0,"raw_load":6511170,"raw_load_user":3563490,"raw_load_system":2947680,"raw_load_nice":0,"raw_load_idle":26010940,"raw_load_irq":0},{"load":1.0461549814817377,"load_user":0.3173548941561007,"load_system":0.7288000873256371,"load_nice":0,"load_idle":98.95384501851827,"load_irq":0,"raw_load":340230,"raw_load_user":103210,"raw_load_system":237020,"raw_load_nice":0,"raw_load_idle":32181720,"raw_load_irq":0},{"load":16.159539562186808,"load_user":8.903363836702992,"load_system":7.256175725483817,"load_nice":0,"load_idle":83.84046043781319,"load_irq":0,"raw_load":5255420,"raw_load_user":2895560,"raw_load_system":2359860,"raw_load_nice":0,"raw_load_idle":27266670,"raw_load_irq":0},{"load":0.8667991925453424,"load_user":0.28657568196248995,"load_system":0.5802235105828525,"load_nice":0,"load_idle":99.13320080745466,"load_irq":0,"raw_load":281900,"raw_load_user":93200,"raw_load_system":188700,"raw_load_nice":0,"raw_load_idle":32240050,"raw_load_irq":0},{"load":12.982980157456298,"load_user":7.16910747296295,"load_system":5.813872684493346,"load_nice":0,"load_idle":87.0170198425437,"load_irq":0,"raw_load":4222330,"raw_load_user":2331540,"raw_load_system":1890790,"raw_load_nice":0,"raw_load_idle":28299710,"raw_load_irq":0},{"load":0.7290462992060129,"load_user":0.2604088194000727,"load_system":0.4686374798059402,"load_nice":0,"load_idle":99.27095370079398,"load_irq":0,"raw_load":237100,"raw_load_user":84690,"raw_load_system":152410,"raw_load_nice":0,"raw_load_idle":32284840,"raw_load_irq":0},{"load":10.646325166763933,"load_user":5.846039083673155,"load_system":4.800286083090779,"load_nice":0,"load_idle":89.35367483323606,"load_irq":0,"raw_load":3462400,"raw_load_user":1901250,"raw_load_system":1561150,"raw_load_nice":0,"raw_load_idle":29059620,"raw_load_irq":0},{"load":0.5956292234988658,"load_user":0.2355335218626458,"load_system":0.36009570163622,"load_nice":0,"load_idle":99.40437077650114,"load_irq":0,"raw_load":193710,"raw_load_user":76600,"raw_load_system":117110,"raw_load_nice":0,"raw_load_idle":32328200,"raw_load_irq":0},{"load":8.259334684009188,"load_user":4.571276234941343,"load_system":3.6880584490678463,"load_nice":0,"load_idle":91.74066531599081,"load_irq":0,"raw_load":2686100,"raw_load_user":1486670,"raw_load_system":1199430,"raw_load_nice":0,"raw_load_idle":29835890,"raw_load_irq":0},{"load":0.5063355750015912,"load_user":0.2180068759799163,"load_system":0.28832869902167496,"load_nice":0,"load_idle":99.4936644249984,"load_irq":0,"raw_load":164670,"raw_load_user":70900,"raw_load_system":93770,"raw_load_nice":0,"raw_load_idle":32357240,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/disk1s4","type":"HFS","size":1000240963584,"used":11189489664,"use":1.12,"mount":"/"},{"fs":"/dev/disk1s1","type":"HFS","size":1000240963584,"used":138480816128,"use":13.84,"mount":"/System/Volumes/Data"},{"fs":"/dev/disk1s5","type":"HFS","size":1000240963584,"used":13958672384,"use":1.4,"mount":"/private/var/vm"},{"fs":"/dev/disk1s3","type":"HFS","size":1000240963584,"used":528072704,"use":0.05,"mount":"/Volumes/Recovery"},{"fs":"/dev/disk2s1","type":"HFS","size":471150592,"used":421986304,"use":89.57,"mount":"15"}],"networkConnections":[{"protocol":"tcp6","localaddress":"fe80::5817:478d:","localport":"1024","peeraddress":"fe80::df23:c401:","peerport":"1024","state":"SYN_SENT"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51291","peeraddress":"162.125.36.2","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51289","peeraddress":"54.149.94.178","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51284","peeraddress":"162.125.35.134","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51281","peeraddress":"3.226.33.140","peerport":"443","state":"CLOSE_WAIT"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51280","peeraddress":"172.217.4.165","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51279","peeraddress":"172.217.4.165","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51273","peeraddress":"52.44.123.220","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"631","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"::1","localport":"631","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51267","peeraddress":"34.224.222.109","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51264","peeraddress":"52.21.209.244","peerport":"80","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51244","peeraddress":"34.224.222.109","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51236","peeraddress":"172.217.4.165","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51232","peeraddress":"35.153.105.141","peerport":"33228","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51231","peeraddress":"52.73.1.28","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51216","peeraddress":"198.252.206.25","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51215","peeraddress":"198.252.206.25","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51210","peeraddress":"162.125.2.7","peerport":"443","state":"CLOSE_WAIT"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51206","peeraddress":"35.153.105.141","peerport":"33228","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51199","peeraddress":"34.205.52.100","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51168","peeraddress":"192.168.10.22","peerport":"49591","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"51181","peeraddress":"fe80::aede:48ff:","peerport":"49177","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51168","peeraddress":"192.168.10.25","peerport":"49805","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51169","peeraddress":"74.125.137.188","peerport":"5228","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"*","localport":"51168","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp4","localaddress":"*","localport":"51168","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51148","peeraddress":"34.198.55.217","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51145","peeraddress":"52.20.167.72","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51142","peeraddress":"162.125.2.13","peerport":"443","state":"CLOSE_WAIT"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51092","peeraddress":"162.125.35.135","peerport":"443","state":"CLOSE_WAIT"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51009","peeraddress":"34.198.95.38","peerport":"22","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"50787","peeraddress":"3.92.89.230","peerport":"443","state":"LAST_ACK"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49155","peeraddress":"fe80::aede:48ff:","peerport":"49198","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"::1","localport":"5672","peeraddress":"::1","peerport":"50536","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"::1","localport":"50536","peeraddress":"::1","peerport":"5672","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"50534","peeraddress":"127.0.0.1","peerport":"50535","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"50535","peeraddress":"127.0.0.1","peerport":"50534","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"::1","localport":"27017","peeraddress":"::1","peerport":"60678","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"::1","localport":"60678","peeraddress":"::1","peerport":"27017","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"5672","peeraddress":"127.0.0.1","peerport":"60677","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"60677","peeraddress":"127.0.0.1","peerport":"5672","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"5672","peeraddress":"127.0.0.1","peerport":"60676","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"60676","peeraddress":"127.0.0.1","peerport":"5672","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"5672","peeraddress":"127.0.0.1","peerport":"60675","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"60675","peeraddress":"127.0.0.1","peerport":"5672","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"5672","peeraddress":"127.0.0.1","peerport":"60674","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"60674","peeraddress":"127.0.0.1","peerport":"5672","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"5672","peeraddress":"127.0.0.1","peerport":"60673","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"60673","peeraddress":"127.0.0.1","peerport":"5672","state":"ESTABLISHED"},{"protocol":"tcp46","localaddress":"*","localport":"3000","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"9364","peeraddress":"127.0.0.1","peerport":"60672","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"60672","peeraddress":"127.0.0.1","peerport":"9364","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"9364","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"58792","peeraddress":"fe80::aede:48ff:","peerport":"49157","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"53925","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"53475","peeraddress":"127.0.0.1","peerport":"53476","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"53476","peeraddress":"127.0.0.1","peerport":"53475","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"51780","peeraddress":"127.0.0.1","peerport":"51781","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"51781","peeraddress":"127.0.0.1","peerport":"51780","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"51742","peeraddress":"127.0.0.1","peerport":"51743","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"51743","peeraddress":"127.0.0.1","peerport":"51742","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"50146","peeraddress":"127.0.0.1","peerport":"50147","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"50147","peeraddress":"127.0.0.1","peerport":"50146","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"60966","peeraddress":"127.0.0.1","peerport":"60967","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"60967","peeraddress":"127.0.0.1","peerport":"60966","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"60914","peeraddress":"127.0.0.1","peerport":"60915","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"60915","peeraddress":"127.0.0.1","peerport":"60914","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"59385","peeraddress":"172.217.4.138","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"59357","peeraddress":"127.0.0.1","peerport":"59358","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"59358","peeraddress":"127.0.0.1","peerport":"59357","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"59198","peeraddress":"140.82.112.25","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"57927","peeraddress":"17.57.144.100","peerport":"5223","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"54480","peeraddress":"127.0.0.1","peerport":"54481","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"54481","peeraddress":"127.0.0.1","peerport":"54480","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"50621","peeraddress":"127.0.0.1","peerport":"50622","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"50622","peeraddress":"127.0.0.1","peerport":"50621","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"50081","peeraddress":"127.0.0.1","peerport":"50082","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"50082","peeraddress":"127.0.0.1","peerport":"50081","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"50062","peeraddress":"162.125.2.13","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"63915","peeraddress":"127.0.0.1","peerport":"63916","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"63916","peeraddress":"127.0.0.1","peerport":"63915","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"27017","peeraddress":"127.0.0.1","peerport":"63914","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"63914","peeraddress":"127.0.0.1","peerport":"27017","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"27017","peeraddress":"127.0.0.1","peerport":"63913","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"63913","peeraddress":"127.0.0.1","peerport":"27017","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"5672","peeraddress":"127.0.0.1","peerport":"63907","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"63907","peeraddress":"127.0.0.1","peerport":"5672","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"61734","peeraddress":"162.125.2.13","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"17603","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"17600","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"*","localport":"17500","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp4","localaddress":"*","localport":"17500","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"59655","peeraddress":"162.125.2.13","peerport":"443","state":"CLOSE_WAIT"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"62274","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"61512","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"::1","localport":"27017","peeraddress":"::1","peerport":"60762","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"::1","localport":"60762","peeraddress":"::1","peerport":"27017","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"::1","localport":"27017","peeraddress":"::1","peerport":"60758","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"::1","localport":"60758","peeraddress":"::1","peerport":"27017","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"54436","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"51500","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49971","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"61991","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"61970","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"55097","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"59576","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"57403","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"54831","peeraddress":"127.0.0.1","peerport":"55899","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"54831","peeraddress":"127.0.0.1","peerport":"55898","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"55899","peeraddress":"127.0.0.1","peerport":"54831","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"55898","peeraddress":"127.0.0.1","peerport":"54831","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"55451","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"54831","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"53290","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"51355","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"64123","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::c5a9:c1:e9","localport":"36205","peeraddress":"fe80::32ee:8bb8:","peerport":"1025","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::c5a9:c1:e9","localport":"1024","peeraddress":"fe80::32ee:8bb8:","peerport":"1024","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"61770","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49919","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"58764","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"57650","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"58227","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"57445","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::9384:eb95:","localport":"1025","peeraddress":"fe80::804f:fe5e:","peerport":"21293","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::9384:eb95:","localport":"1024","peeraddress":"fe80::804f:fe5e:","peerport":"1024","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"51383","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"*","localport":"8080","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"64441","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"54939","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"56595","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp46","localaddress":"*","localport":"27017","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp46","localaddress":"*","localport":"15670","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp46","localaddress":"*","localport":"61614","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp46","localaddress":"*","localport":"61613","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp46","localaddress":"*","localport":"15674","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp46","localaddress":"*","localport":"5672","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp46","localaddress":"*","localport":"5671","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp46","localaddress":"*","localport":"15672","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"52500","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"52439","peeraddress":"fe80::aede:48ff:","peerport":"49162","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"52276","peeraddress":"fe80::aede:48ff:","peerport":"49174","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49289","peeraddress":"fe80::aede:48ff:","peerport":"49163","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49174","peeraddress":"fe80::aede:48ff:","peerport":"49175","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49160","peeraddress":"fe80::aede:48ff:","peerport":"49165","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49159","peeraddress":"fe80::aede:48ff:","peerport":"49158","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49158","peeraddress":"fe80::aede:48ff:","peerport":"49152","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49157","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49156","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49155","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49154","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49153","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"fe80::aede:48ff:","localport":"49152","peeraddress":"fe80::aede:48ff:","peerport":"59602","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51299","peeraddress":"35.153.105.141","peerport":"33228","state":"TIME_WAIT"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51298","peeraddress":"35.153.105.141","peerport":"33228","state":"TIME_WAIT"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51296","peeraddress":"35.153.105.141","peerport":"33228","state":"TIME_WAIT"},{"protocol":"tcp4","localaddress":"192.168.10.41","localport":"51297","peeraddress":"35.153.105.141","peerport":"33228","state":"TIME_WAIT"}],"users":[{"user":"richwood","tty":"ttys007","date":"2020-05-01","time":"12:32","ip":"","command":"-zsh"},{"user":"richwood","tty":"ttys018","date":"2020-05-16","time":"23:38","ip":"","command":"ssh -i /Users/richwood/dev/kik"},{"user":"richwood","tty":"ttys014","date":"2020-05-01","time":"12:32","ip":"","command":"-zsh"},{"user":"richwood","tty":"ttys002","date":"2020-05-27","time":"14:52","ip":"","command":"w -ih"},{"user":"richwood","tty":"ttys012","date":"2020-05-01","time":"12:32","ip":"","command":"-zsh"},{"user":"richwood","tty":"ttys015","date":"2020-05-01","time":"12:32","ip":"","command":"-zsh"},{"user":"richwood","tty":"ttys010","date":"2020-05-01","time":"12:32","ip":"","command":"/System/Library/Frameworks/Pyt"},{"user":"richwood","tty":"ttys009","date":"2020-05-01","time":"12:32","ip":"","command":"node test/dist/test/src/RunWor"},{"user":"richwood","tty":"ttys013","date":"2020-05-01","time":"12:32","ip":"","command":"-zsh"},{"user":"richwood","tty":"ttys003","date":"2020-05-27","time":"15:06","ip":"","command":"-zsh"},{"user":"richwood","tty":"ttys006","date":"2020-05-01","time":"12:32","ip":"","command":"node /Users/richwood/dev/Kiki/"},{"user":"richwood","tty":"ttys005","date":"2020-05-01","time":"12:32","ip":"","command":"node /Users/richwood/dev/Kiki/"},{"user":"richwood","tty":"ttys004","date":"2020-05-01","time":"12:32","ip":"","command":"node /Users/richwood/dev/Kiki/"},{"user":"richwood","tty":"ttys008","date":"2020-05-01","time":"12:32","ip":"","command":"/usr/local/Cellar/node@10/10."},{"user":"richwood","tty":"console","date":"2020-05-01","time":"12:28","ip":"","command":"-"}],"mem":{"total":34359738368,"free":464777216,"used":33894961152,"active":11022004224,"available":23337734144,"buffcache":22872956928,"swaptotal":12884901888,"swapused":11495538688,"swapfree":1389363200},"battery":{"hasbattery":true,"cyclecount":110,"ischarging":false,"maxcapacity":6933,"currentcapacity":6867,"percent":100,"timeremaining":0,"acconnected":true,"type":"Li-ion","model":"","manufacturer":"Apple","serial":"D868272A1TLJ65H3F"},"inetLatency":23.09,"networkStats":[{"iface":"en0","operstate":"up","rx_bytes":19297245349,"rx_dropped":267,"rx_errors":0,"tx_bytes":7884334053,"tx_dropped":267,"tx_errors":11940,"rx_sec":11400.234105245563,"tx_sec":4634.04650459011,"ms":41926442}],"fsStats":{"rx":679951037440,"wx":677050269696,"tx":1357001307136,"rx_sec":316019.0101516129,"wx_sec":361349.2543285513,"tx_sec":677368.2644801643,"ms":41926441},"disksIO":{"rIO":26259514,"wIO":20103286,"tIO":46362800,"rIO_sec":20.097508395716204,"wIO_sec":15.528291561880962,"tIO_sec":35.62579995759717,"ms":41926441}},"createDate":"2020-06-02T03:05:23.899Z","timezone":"America/Denver","id":"5ed51ddbcd2de1001528eb94","version":0},{"numActiveTasks":0,"lastHeartbeatTime":1591138089937,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"Barts-MacBook-Pro-2.local","ipAddress":"192.168.0.4","name":"Barts-MacBook-Pro-2.local","reportedVersion":"v0.0.0.222","targetVersion":"v0.0.0.222","tags":{},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":468,"running":1,"blocked":0,"sleeping":466,"unknown":0,"list":[{"pid":34394,"parentPid":29131,"name":"sg-agent","pcpu":39.1,"pcpuu":0,"pcpus":0,"pmem":0.4,"priority":31,"mem_vsz":5013736,"mem_rss":68688,"nice":0,"started":"2020-06-02 08:43:42","state":"sleeping","tty":"ttys002","user":"root","command":"sg-agent"},{"pid":15899,"parentPid":1,"name":"Spotify","pcpu":9.4,"pcpuu":0,"pcpus":0,"pmem":0.4,"priority":28,"mem_vsz":5334552,"mem_rss":75060,"nice":0,"started":"2020-05-17 08:10:35","state":"sleeping","tty":"","user":"bartwood","command":"Spotify"},{"pid":1335,"parentPid":1,"name":"XprotectService","pcpu":9.1,"pcpuu":0,"pcpus":0,"pmem":0,"priority":4,"mem_vsz":4392020,"mem_rss":7676,"nice":0,"started":"2020-03-20 16:57:45","state":"sleeping","tty":"","user":"root","command":"XprotectService"},{"pid":171,"parentPid":1,"name":"syspolicyd","pcpu":3.4,"pcpuu":0,"pcpus":0,"pmem":0.1,"priority":37,"mem_vsz":4425816,"mem_rss":18868,"nice":0,"started":"2020-03-20 14:06:02","state":"sleeping","tty":"","user":"root","command":"syspolicyd"},{"pid":348,"parentPid":1,"name":"Finder","pcpu":2.8,"pcpuu":0,"pcpus":0,"pmem":0.3,"priority":4,"mem_vsz":5178640,"mem_rss":47716,"nice":0,"started":"2020-03-20 14:06:08","state":"sleeping","tty":"","user":"bartwood","command":"Finder"},{"pid":29131,"parentPid":29130,"name":"sg-agent-launcher","pcpu":1.6,"pcpuu":0,"pcpus":0,"pmem":0.3,"priority":31,"mem_vsz":4990800,"mem_rss":58476,"nice":0,"started":"2020-05-31 09:01:11","state":"sleeping","tty":"ttys002","user":"root","command":"sg-agent-launcher"},{"pid":15906,"parentPid":15899,"name":"Spotify Helper (Renderer)","pcpu":0.9,"pcpuu":0,"pcpus":0,"pmem":0.8,"priority":31,"mem_vsz":5047248,"mem_rss":128272,"nice":0,"started":"2020-05-17 08:10:36","state":"sleeping","tty":"","user":"bartwood","command":"Spotify Helper (Renderer)"},{"pid":561,"parentPid":339,"name":"Postman Helper","pcpu":0.4,"pcpuu":0,"pcpus":0,"pmem":1.1,"priority":31,"mem_vsz":7791696,"mem_rss":192520,"nice":0,"started":"2020-03-20 14:06:24","state":"sleeping","tty":"","user":"bartwood","command":"Postman Helper"},{"pid":29239,"parentPid":1,"name":"Google Chrome","pcpu":0.4,"pcpuu":0,"pcpus":0,"pmem":2,"priority":55,"mem_vsz":5323436,"mem_rss":337584,"nice":0,"started":"2020-05-31 09:04:33","state":"sleeping","tty":"","user":"bartwood","command":"Google Chrome"},{"pid":1,"parentPid":0,"name":"launchd","pcpu":0.3,"pcpuu":0,"pcpus":0,"pmem":0.1,"priority":37,"mem_vsz":4373588,"mem_rss":12580,"nice":0,"started":"2020-03-20 14:05:56","state":"sleeping","tty":"","user":"root","command":"launchd"}]},"time":{"current":1591109025732,"uptime":6373945,"timezone":"GMT-0600","timezoneName":"Mountain Daylight Time"},"osInfo":{"platform":"darwin","distro":"Mac OS X","release":"10.15.3","codename":"macOS","kernel":"19.3.0","arch":"x64","hostname":"Barts-MacBook-Pro-2.local","codepage":"UTF-8","logofile":"apple","serial":"A8DDE75C-CD97-3C37-B35D-1070CC50D2CE","build":"19D76","servicepack":""},"cpuCurrentspeed":{"min":2.5,"max":2.5,"avg":2.5,"cores":[2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.5]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0.22,"currentload":10.75727958165827,"currentload_user":4.510797302148027,"currentload_system":6.246482279510243,"currentload_nice":0,"currentload_idle":89.24272041834172,"currentload_irq":0,"raw_currentload":1504785630,"raw_currentload_user":630994380,"raw_currentload_system":873791250,"raw_currentload_nice":0,"raw_currentload_idle":12483747610,"raw_currentload_irq":0,"cpus":[{"load":24.464390633522836,"load_user":9.856560586520736,"load_system":14.607830047002102,"load_nice":0,"load_idle":75.53560936647716,"load_irq":0,"raw_load":427831820,"raw_load_user":172370950,"raw_load_system":255460870,"raw_load_nice":0,"raw_load_idle":1320962280,"raw_load_irq":0},{"load":2.0285484710022743,"load_user":0.8581648241256725,"load_system":1.170383646876602,"load_nice":0,"load_idle":97.97145152899772,"load_irq":0,"raw_load":35469780,"raw_load_user":15005270,"raw_load_system":20464510,"raw_load_nice":0,"raw_load_idle":1713060290,"raw_load_irq":0},{"load":21.375927389943108,"load_user":8.659238208090779,"load_system":12.716689181852328,"load_nice":0,"load_idle":78.6240726100569,"load_irq":0,"raw_load":373774210,"raw_load_user":151413310,"raw_load_system":222360900,"raw_load_nice":0,"raw_load_idle":1374801200,"raw_load_irq":0},{"load":1.6406467491793908,"load_user":0.7563544703023742,"load_system":0.8842922788770167,"load_nice":0,"load_idle":98.35935325082062,"load_irq":0,"raw_load":28687060,"raw_load_user":13225020,"raw_load_system":15462040,"raw_load_nice":0,"raw_load_idle":1719834370,"raw_load_irq":0},{"load":18.300118565225233,"load_user":7.650115220180412,"load_system":10.650003345044821,"load_nice":0,"load_idle":81.69988143477477,"load_irq":0,"raw_load":319987920,"raw_load_user":133766590,"raw_load_system":186221330,"raw_load_nice":0,"raw_load_idle":1428568620,"raw_load_irq":0},{"load":1.4539139131465522,"load_user":0.7229000802133132,"load_system":0.7310138329332391,"load_nice":0,"load_idle":98.54608608685345,"load_irq":0,"raw_load":25421870,"raw_load_user":12640000,"raw_load_system":12781870,"raw_load_nice":0,"raw_load_idle":1723090870,"raw_load_irq":0},{"load":15.441103691335153,"load_user":6.86045715414951,"load_system":8.580646537185645,"load_nice":0,"load_idle":84.55889630866484,"load_irq":0,"raw_load":269993700,"raw_load_user":119957760,"raw_load_system":150035940,"raw_load_nice":0,"raw_load_idle":1478545170,"raw_load_irq":0},{"load":1.3508272740204301,"load_user":0.7215013190017835,"load_system":0.6293259550186465,"load_nice":0,"load_idle":98.64917272597957,"load_irq":0,"raw_load":23619270,"raw_load_user":12615480,"raw_load_system":11003790,"raw_load_nice":0,"raw_load_idle":1724884810,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/disk1s5","type":"HFS","size":500068036608,"used":10995318784,"use":2.2,"mount":"/"},{"fs":"/dev/disk1s1","type":"HFS","size":500068036608,"used":81359376384,"use":16.27,"mount":"/System/Volumes/Data"},{"fs":"/dev/disk1s4","type":"HFS","size":500068036608,"used":4526723072,"use":0.91,"mount":"/private/var/vm"},{"fs":"/dev/disk1s3","type":"HFS","size":500068036608,"used":526602240,"use":0.11,"mount":"/Volumes/Recovery"},{"fs":"/dev/disk2s2","type":"HFS","size":23166976,"used":23166976,"use":100,"mount":"VPN"}],"networkConnections":[{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"50029","peeraddress":"3.216.129.32","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"50022","peeraddress":"17.248.133.173","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::b30:e003:5","localport":"1024","peeraddress":"fe80::a52a:d594:","peerport":"1024","state":"SYN_SENT"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"63196","peeraddress":"35.186.224.47","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"63194","peeraddress":"35.190.244.227","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"63151","peeraddress":"34.224.222.109","peerport":"5671","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"63150","peeraddress":"34.224.222.109","peerport":"5671","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"63149","peeraddress":"34.224.222.109","peerport":"5671","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"63148","peeraddress":"34.224.222.109","peerport":"5671","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"63011","peeraddress":"35.153.105.141","peerport":"33228","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"62985","peeraddress":"35.153.105.141","peerport":"33228","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"62962","peeraddress":"35.153.105.141","peerport":"33228","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"62948","peeraddress":"172.217.212.188","peerport":"5228","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"62939","peeraddress":"35.153.105.141","peerport":"33228","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"62934","peeraddress":"35.186.224.53","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"62931","peeraddress":"34.224.222.109","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"62913","peeraddress":"192.168.0.7","peerport":"8009","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"62912","peeraddress":"35.153.105.141","peerport":"33228","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"62911","peeraddress":"35.153.105.141","peerport":"33228","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"62904","peeraddress":"34.224.222.109","peerport":"5671","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"62905","peeraddress":"52.72.157.214","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"8080","peeraddress":"127.0.0.1","peerport":"59905","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"127.0.0.1","localport":"59905","peeraddress":"127.0.0.1","peerport":"8080","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"8080","peeraddress":"192.168.0.4","peerport":"59897","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"59897","peeraddress":"192.168.0.4","peerport":"8080","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::a7e7:4d3b:","localport":"1025","peeraddress":"fe80::69eb:622e:","peerport":"53423","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::a7e7:4d3b:","localport":"1024","peeraddress":"fe80::69eb:622e:","peerport":"1024","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"*","localport":"56433","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp4","localaddress":"*","localport":"8080","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp46","localaddress":"*","localport":"3000","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"54446","peeraddress":"17.57.144.100","peerport":"5223","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"*","localport":"57621","peeraddress":"*","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"fe80::873c:d49c:","localport":"1025","peeraddress":"fe80::d914:1192:","peerport":"32812","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::873c:d49c:","localport":"1024","peeraddress":"fe80::d914:1192:","peerport":"1024","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::d37f:c125:","localport":"15735","peeraddress":"fe80::2e9e:659b:","peerport":"1025","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"fe80::d37f:c125:","localport":"1024","peeraddress":"fe80::2e9e:659b:","peerport":"1024","state":"ESTABLISHED"},{"protocol":"tcp4","localaddress":"192.168.0.4","localport":"49993","peeraddress":"52.216.225.160","peerport":"443","state":"TIME_WAIT"}],"users":[{"user":"bartwood","tty":"ttys000","date":"2020-03-20","time":"14:06","ip":"","command":"/usr/local/bin/node"},{"user":"bartwood","tty":"ttys002","date":"2020-04-16","time":"14:14","ip":"","command":"w -ih"},{"user":"bartwood","tty":"ttys001","date":"2020-03-20","time":"14:06","ip":"","command":"node server/dist/api/StartServ"},{"user":"bartwood","tty":"ttys003","date":"2020-03-20","time":"14:06","ip":"","command":"-bash"},{"user":"bartwood","tty":"ttys004","date":"2020-04-16","time":"19:30","ip":"","command":"-bash"},{"user":"bartwood","tty":"console","date":"2020-03-20","time":"14:06","ip":"","command":"-"}],"mem":{"total":17179869184,"free":1339731968,"used":15840137216,"active":5042765824,"available":12137103360,"buffcache":10797371392,"swaptotal":3221225472,"swapused":1773142016,"swapfree":1448083456},"battery":{"hasbattery":true,"cyclecount":151,"ischarging":false,"maxcapacity":7219,"currentcapacity":7159,"percent":100,"timeremaining":0,"acconnected":true,"type":"Li-ion","model":"","manufacturer":"Apple","serial":"C0153950204FWLMBE"},"inetLatency":19.336,"networkStats":[{"iface":"en0","operstate":"up","rx_bytes":41811044882,"rx_dropped":5282,"rx_errors":0,"tx_bytes":12347394454,"tx_dropped":5282,"tx_errors":0,"rx_sec":-1,"tx_sec":-1,"ms":0}],"fsStats":{"rx":537356310016,"wx":774296326144,"tx":1311652636160,"rx_sec":-1,"wx_sec":-1,"tx_sec":-1,"ms":0},"disksIO":{"rIO":18249916,"wIO":46443493,"tIO":64693409,"rIO_sec":-1,"wIO_sec":-1,"tIO_sec":-1,"ms":0}},"createDate":"2020-06-02T04:07:36.433Z","timezone":"America/Denver","id":"5ea0b74220015000155ba5fa","version":0},{"numActiveTasks":0,"lastHeartbeatTime":1591117056344,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"ip-172-31-87-203","ipAddress":"172.31.87.203","name":"ip-172-31-87-203","reportedVersion":"v0.0.0.223","targetVersion":"v0.0.0.223","tags":{"agentbuilder":"true"},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":75,"running":1,"blocked":0,"sleeping":48,"unknown":0,"list":[{"pid":2859,"parentPid":2834,"name":"sg-agent","pcpu":9.523809523809524,"pcpuu":6.666666666666667,"pcpus":2.857142857142857,"pmem":12.4,"priority":19,"mem_vsz":1103056,"mem_rss":74096,"nice":0,"started":"2020-06-02 16:56:59","state":"sleeping","tty":"","user":"ec2-user","command":"/home/ec2-user/sg-agent /tmp/app.guKwKCv0xp.KikiAgentLauncherProc"},{"pid":7,"parentPid":2,"name":"ksoftirqd","pcpu":0.4761904761904762,"pcpuu":0.4761904761904762,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:55:52","state":"sleeping","tty":"","user":"root","command":"ksoftirqd/0"},{"pid":1451,"parentPid":2,"name":"scsi_eh_1","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:55:53","state":"sleeping","tty":"","user":"root","command":"scsi_eh_1"},{"pid":4,"parentPid":2,"name":"kworker","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 16:55:52","state":"unknown","tty":"","user":"root","command":"kworker/0:0H"},{"pid":5,"parentPid":2,"name":"u30:0","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:55:52","state":"unknown","tty":"","user":"root","command":"kworker/u30:0"},{"pid":6,"parentPid":2,"name":"mm_percpu_wq","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 16:55:52","state":"unknown","tty":"","user":"root","command":"mm_percpu_wq"},{"pid":1,"parentPid":0,"name":"init","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0.4,"priority":19,"mem_vsz":19696,"mem_rss":2620,"nice":0,"started":"2020-06-02 16:55:52","state":"sleeping","tty":"","user":"root","command":"/sbin/init"},{"pid":8,"parentPid":2,"name":"rcu_sched","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:55:52","state":"unknown","tty":"","user":"root","command":"rcu_sched"},{"pid":9,"parentPid":2,"name":"rcu_bh","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:55:52","state":"unknown","tty":"","user":"root","command":"rcu_bh"},{"pid":10,"parentPid":2,"name":"migration","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":139,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:55:52","state":"sleeping","tty":"","user":"root","command":"migration/0"}]},"time":{"current":1591117026273,"uptime":73,"timezone":"GMT+0000","timezoneName":"Coordinated Universal Time"},"osInfo":{"platform":"linux","distro":"Amazon Linux AMI","release":"2018.03","codename":"","kernel":"4.14.154-99.181.amzn1.x86_64","arch":"x64","hostname":"ip-172-31-87-203","codepage":"UTF-8","logofile":"amazon linux ami","serial":"e938414c9ad827c6ffae5b695df3af92","build":"","servicepack":""},"cpuCurrentspeed":{"min":2.5,"max":2.5,"avg":2.5,"cores":[2.5]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0.76,"currentload":9.137055837563452,"currentload_user":2.5380710659898478,"currentload_system":6.598984771573605,"currentload_nice":0,"currentload_idle":90.86294416243655,"currentload_irq":0,"raw_currentload":1800,"raw_currentload_user":500,"raw_currentload_system":1300,"raw_currentload_nice":0,"raw_currentload_idle":17900,"raw_currentload_irq":0,"cpus":[{"load":9.137055837563452,"load_user":2.5380710659898478,"load_system":6.598984771573605,"load_nice":0,"load_idle":90.86294416243655,"load_irq":0,"raw_load":1800,"raw_load_user":500,"raw_load_system":1300,"raw_load_nice":0,"raw_load_idle":17900,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/xvda1","type":"ext4","size":105620189184,"used":1622544384,"use":1.54,"mount":"/"}],"networkConnections":[{"protocol":"tcp","localaddress":"0.0.0.0","localport":"47175","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"111","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"22","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"127.0.0.1","localport":"25","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"172.31.87.203","localport":"34138","peeraddress":"52.216.206.67","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.203","localport":"41112","peeraddress":"34.192.173.218","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.203","localport":"37660","peeraddress":"52.216.8.251","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.203","localport":"40362","peeraddress":"52.217.40.52","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.203","localport":"50522","peeraddress":"52.219.116.234","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.203","localport":"34134","peeraddress":"52.216.206.67","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.203","localport":"34136","peeraddress":"52.216.206.67","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.203","localport":"44104","peeraddress":"169.254.169.254","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.203","localport":"40360","peeraddress":"52.217.40.52","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.203","localport":"47308","peeraddress":"52.218.184.163","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"::","localport":"45347","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"111","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"22","peeraddress":"::","peerport":"*","state":"LISTEN"}],"users":[],"mem":{"total":611102720,"free":48406528,"used":562696192,"active":306565120,"available":302264320,"buffcache":256131072,"swaptotal":0,"swapused":0,"swapfree":0},"battery":{"hasbattery":false,"cyclecount":0,"ischarging":false,"maxcapacity":0,"currentcapacity":0,"percent":0,"timeremaining":-1,"acconnected":true,"type":"","model":"","manufacturer":"","serial":""},"inetLatency":0.741,"networkStats":[{"iface":"eth0","operstate":"up","rx_bytes":74978512,"rx_dropped":0,"rx_errors":0,"tx_bytes":620397,"tx_dropped":0,"tx_errors":0,"rx_sec":12285.102332222752,"tx_sec":6071.394574012375,"ms":2101}],"fsStats":{"rx":233177600,"wx":309731328,"tx":542908928,"rx_sec":4081.714000996512,"wx_sec":0,"tx_sec":4081.714000996512,"ms":2007},"disksIO":{"rIO":8707,"wIO":4206,"tIO":12913,"rIO_sec":0,"wIO_sec":0,"tIO_sec":0,"ms":2007}},"createDate":"2020-06-02T16:57:04.261Z","timezone":"Africa/Abidjan","id":"5ed684e0759b110015403b37","version":0},{"numActiveTasks":0,"lastHeartbeatTime":1591117439583,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"ip-172-31-92-27","ipAddress":"172.31.92.27","name":"ip-172-31-92-27","reportedVersion":"v0.0.0.223","targetVersion":"v0.0.0.223","tags":{"agentbuilder":"true"},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":75,"running":1,"blocked":0,"sleeping":48,"unknown":0,"list":[{"pid":2881,"parentPid":2856,"name":"sg-agent","pcpu":9.844559585492227,"pcpuu":7.772020725388601,"pcpus":2.072538860103627,"pmem":12.4,"priority":19,"mem_vsz":1103824,"mem_rss":74528,"nice":0,"started":"2020-06-02 17:02:23","state":"sleeping","tty":"","user":"ec2-user","command":"/home/ec2-user/sg-agent /tmp/app.h9T3EMD2tY.KikiAgentLauncherProc"},{"pid":1454,"parentPid":2,"name":"scsi_tmf_1","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 17:01:24","state":"unknown","tty":"","user":"root","command":"scsi_tmf_1"},{"pid":3,"parentPid":2,"name":"kworker","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:22","state":"unknown","tty":"","user":"root","command":"kworker/0:0"},{"pid":4,"parentPid":2,"name":"kworker","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 17:01:22","state":"unknown","tty":"","user":"root","command":"kworker/0:0H"},{"pid":5,"parentPid":2,"name":"u30:0","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:22","state":"unknown","tty":"","user":"root","command":"kworker/u30:0"},{"pid":6,"parentPid":2,"name":"mm_percpu_wq","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 17:01:22","state":"unknown","tty":"","user":"root","command":"mm_percpu_wq"},{"pid":7,"parentPid":2,"name":"ksoftirqd","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:22","state":"sleeping","tty":"","user":"root","command":"ksoftirqd/0"},{"pid":8,"parentPid":2,"name":"rcu_sched","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:22","state":"unknown","tty":"","user":"root","command":"rcu_sched"},{"pid":9,"parentPid":2,"name":"rcu_bh","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:22","state":"unknown","tty":"","user":"root","command":"rcu_bh"},{"pid":10,"parentPid":2,"name":"migration","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":139,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:22","state":"sleeping","tty":"","user":"root","command":"migration/0"}]},"time":{"current":1591117349371,"uptime":66,"timezone":"GMT+0000","timezoneName":"Coordinated Universal Time"},"osInfo":{"platform":"linux","distro":"Amazon Linux AMI","release":"2018.03","codename":"","kernel":"4.14.154-99.181.amzn1.x86_64","arch":"x64","hostname":"ip-172-31-92-27","codepage":"UTF-8","logofile":"amazon linux ami","serial":"e938414c9ad827c6ffae5b695df3af92","build":"","servicepack":""},"cpuCurrentspeed":{"min":2.5,"max":2.5,"avg":2.5,"cores":[2.5]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0.65,"currentload":10.638297872340425,"currentload_user":6.382978723404255,"currentload_system":4.25531914893617,"currentload_nice":0,"currentload_idle":89.36170212765957,"currentload_irq":0,"raw_currentload":2000,"raw_currentload_user":1200,"raw_currentload_system":800,"raw_currentload_nice":0,"raw_currentload_idle":16800,"raw_currentload_irq":0,"cpus":[{"load":10.638297872340425,"load_user":6.382978723404255,"load_system":4.25531914893617,"load_nice":0,"load_idle":89.36170212765957,"load_irq":0,"raw_load":2000,"raw_load_user":1200,"raw_load_system":800,"raw_load_nice":0,"raw_load_idle":16800,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/xvda1","type":"ext4","size":105620189184,"used":1622540288,"use":1.54,"mount":"/"}],"networkConnections":[{"protocol":"tcp","localaddress":"0.0.0.0","localport":"111","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"36917","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"22","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"127.0.0.1","localport":"25","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"172.31.92.27","localport":"40260","peeraddress":"52.216.129.179","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.92.27","localport":"56136","peeraddress":"52.216.169.163","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.92.27","localport":"56134","peeraddress":"52.216.169.163","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.92.27","localport":"40264","peeraddress":"52.216.129.179","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.92.27","localport":"40266","peeraddress":"52.216.129.179","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.92.27","localport":"59454","peeraddress":"34.236.84.159","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.92.27","localport":"40262","peeraddress":"52.216.129.179","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.92.27","localport":"54012","peeraddress":"52.216.98.35","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"::","localport":"111","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"22","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"37093","peeraddress":"::","peerport":"*","state":"LISTEN"}],"users":[],"mem":{"total":611102720,"free":47546368,"used":563556352,"active":307195904,"available":301486080,"buffcache":256360448,"swaptotal":0,"swapused":0,"swapfree":0},"battery":{"hasbattery":false,"cyclecount":0,"ischarging":false,"maxcapacity":0,"currentcapacity":0,"percent":0,"timeremaining":-1,"acconnected":true,"type":"","model":"","manufacturer":"","serial":""},"inetLatency":0.991,"networkStats":[{"iface":"eth0","operstate":"up","rx_bytes":74993423,"rx_dropped":0,"rx_errors":0,"tx_bytes":405556,"tx_dropped":0,"tx_errors":0,"rx_sec":13117.46198217095,"tx_sec":6340.849501835343,"ms":1907}],"fsStats":{"rx":233267712,"wx":326627328,"tx":559895040,"rx_sec":4406.670252824099,"wx_sec":50676.70790747714,"tx_sec":55083.37816030124,"ms":1859},"disksIO":{"rIO":8713,"wIO":4328,"tIO":13041,"rIO_sec":0,"wIO_sec":1.0758472296933836,"tIO_sec":1.0758472296933836,"ms":1859}},"createDate":"2020-06-02T17:02:27.650Z","timezone":"Africa/Abidjan","id":"5ed68623759b110015403b4c","version":0},{"numActiveTasks":0,"lastHeartbeatTime":1591117439601,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"ip-172-31-91-43","ipAddress":"172.31.91.43","name":"ip-172-31-91-43","reportedVersion":"v0.0.0.223","targetVersion":"v0.0.0.223","tags":{"agentbuilder":"true"},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":76,"running":1,"blocked":0,"sleeping":48,"unknown":0,"list":[{"pid":2858,"parentPid":2833,"name":"sg-agent","pcpu":9.79381443298969,"pcpuu":8.24742268041237,"pcpus":1.5463917525773196,"pmem":12.4,"priority":19,"mem_vsz":1103824,"mem_rss":74568,"nice":0,"started":"2020-06-02 17:02:24","state":"sleeping","tty":"","user":"ec2-user","command":"/home/ec2-user/sg-agent /tmp/app.WCNMJgMpRx.KikiAgentLauncherProc"},{"pid":7,"parentPid":2,"name":"ksoftirqd","pcpu":0.5154639175257731,"pcpuu":0.5154639175257731,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:23","state":"sleeping","tty":"","user":"root","command":"ksoftirqd/0"},{"pid":1451,"parentPid":2,"name":"u30:2","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:24","state":"unknown","tty":"","user":"root","command":"kworker/u30:2"},{"pid":4,"parentPid":2,"name":"kworker","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 17:01:23","state":"unknown","tty":"","user":"root","command":"kworker/0:0H"},{"pid":5,"parentPid":2,"name":"u30:0","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:23","state":"unknown","tty":"","user":"root","command":"kworker/u30:0"},{"pid":6,"parentPid":2,"name":"mm_percpu_wq","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 17:01:23","state":"unknown","tty":"","user":"root","command":"mm_percpu_wq"},{"pid":1,"parentPid":0,"name":"init","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0.4,"priority":19,"mem_vsz":19696,"mem_rss":2532,"nice":0,"started":"2020-06-02 17:01:23","state":"sleeping","tty":"","user":"root","command":"/sbin/init"},{"pid":8,"parentPid":2,"name":"rcu_sched","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:23","state":"unknown","tty":"","user":"root","command":"rcu_sched"},{"pid":9,"parentPid":2,"name":"rcu_bh","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:23","state":"unknown","tty":"","user":"root","command":"rcu_bh"},{"pid":10,"parentPid":2,"name":"migration","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":139,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:01:23","state":"sleeping","tty":"","user":"root","command":"migration/0"}]},"time":{"current":1591117349421,"uptime":65,"timezone":"GMT+0000","timezoneName":"Coordinated Universal Time"},"osInfo":{"platform":"linux","distro":"Amazon Linux AMI","release":"2018.03","codename":"","kernel":"4.14.154-99.181.amzn1.x86_64","arch":"x64","hostname":"ip-172-31-91-43","codepage":"UTF-8","logofile":"amazon linux ami","serial":"e938414c9ad827c6ffae5b695df3af92","build":"","servicepack":""},"cpuCurrentspeed":{"min":2.5,"max":2.5,"avg":2.5,"cores":[2.5]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0.71,"currentload":10.81081081081081,"currentload_user":5.9459459459459465,"currentload_system":4.864864864864865,"currentload_nice":0,"currentload_idle":89.1891891891892,"currentload_irq":0,"raw_currentload":2000,"raw_currentload_user":1100,"raw_currentload_system":900,"raw_currentload_nice":0,"raw_currentload_idle":16500,"raw_currentload_irq":0,"cpus":[{"load":10.81081081081081,"load_user":5.9459459459459465,"load_system":4.864864864864865,"load_nice":0,"load_idle":89.1891891891892,"load_irq":0,"raw_load":2000,"raw_load_user":1100,"raw_load_system":900,"raw_load_nice":0,"raw_load_idle":16500,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/xvda1","type":"ext4","size":105620189184,"used":1622540288,"use":1.54,"mount":"/"}],"networkConnections":[{"protocol":"tcp","localaddress":"0.0.0.0","localport":"111","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"22","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"127.0.0.1","localport":"25","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"59197","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"172.31.91.43","localport":"49886","peeraddress":"169.254.169.254","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.91.43","localport":"49884","peeraddress":"169.254.169.254","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.91.43","localport":"54546","peeraddress":"52.217.17.44","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.91.43","localport":"42114","peeraddress":"52.217.39.164","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.91.43","localport":"42112","peeraddress":"52.217.39.164","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.91.43","localport":"54550","peeraddress":"52.217.17.44","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.91.43","localport":"53214","peeraddress":"34.195.100.73","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.91.43","localport":"55744","peeraddress":"52.216.143.60","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.91.43","localport":"54544","peeraddress":"52.217.17.44","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.91.43","localport":"54548","peeraddress":"52.217.17.44","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"::","localport":"111","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"54961","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"22","peeraddress":"::","peerport":"*","state":"LISTEN"}],"users":[],"mem":{"total":611102720,"free":47648768,"used":563453952,"active":307150848,"available":301432832,"buffcache":256303104,"swaptotal":0,"swapused":0,"swapfree":0},"battery":{"hasbattery":false,"cyclecount":0,"ischarging":false,"maxcapacity":0,"currentcapacity":0,"percent":0,"timeremaining":-1,"acconnected":true,"type":"","model":"","manufacturer":"","serial":""},"inetLatency":0.92,"networkStats":[{"iface":"eth0","operstate":"up","rx_bytes":75077065,"rx_dropped":0,"rx_errors":0,"tx_bytes":443685,"tx_dropped":0,"tx_errors":0,"rx_sec":13296.103896103896,"tx_sec":6580.779220779221,"ms":1925}],"fsStats":{"rx":233275904,"wx":309678080,"tx":542953984,"rx_sec":4406.670252824099,"wx_sec":48473.37278106509,"tx_sec":52880.04303388919,"ms":1859},"disksIO":{"rIO":8708,"wIO":4200,"tIO":12908,"rIO_sec":0,"wIO_sec":1.0758472296933836,"tIO_sec":1.0758472296933836,"ms":1859}},"createDate":"2020-06-02T17:02:27.774Z","timezone":"Africa/Abidjan","id":"5ed68623759b110015403b4d","version":0},{"numActiveTasks":0,"lastHeartbeatTime":1591119799602,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"ip-172-31-90-235","ipAddress":"172.31.90.235","name":"ip-172-31-90-235","reportedVersion":"v0.0.0.223","targetVersion":"v0.0.0.223","tags":{"agentbuilder":"true"},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":73,"running":1,"blocked":0,"sleeping":48,"unknown":0,"list":[{"pid":1,"parentPid":0,"name":"init","pcpu":115.23178807947019,"pcpuu":90.06622516556291,"pcpus":25.165562913907287,"pmem":0.4,"priority":19,"mem_vsz":19696,"mem_rss":2604,"nice":0,"started":"2020-06-02 17:27:08","state":"sleeping","tty":"","user":"root","command":"/sbin/init"},{"pid":3015,"parentPid":2827,"name":"sg-agent","pcpu":12.582781456953644,"pcpuu":9.933774834437086,"pcpus":2.6490066225165565,"pmem":12.6,"priority":19,"mem_vsz":1103824,"mem_rss":75484,"nice":0,"started":"2020-06-02 17:43:15","state":"sleeping","tty":"","user":"ec2-user","command":"/home/ec2-user/sg-agent /tmp/app.Lik8U9Nfbb.KikiAgentLauncherProc"},{"pid":2741,"parentPid":1,"name":"sshd","pcpu":1.3245033112582782,"pcpuu":1.3245033112582782,"pcpus":0,"pmem":0.4,"priority":19,"mem_vsz":80544,"mem_rss":2720,"nice":0,"started":"2020-06-02 17:28:07","state":"sleeping","tty":"","user":"root","command":"/usr/sbin/sshd"},{"pid":4,"parentPid":2,"name":"kworker","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 17:27:08","state":"unknown","tty":"","user":"root","command":"kworker/0:0H"},{"pid":6,"parentPid":2,"name":"mm_percpu_wq","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 17:27:08","state":"unknown","tty":"","user":"root","command":"mm_percpu_wq"},{"pid":7,"parentPid":2,"name":"ksoftirqd","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:27:08","state":"sleeping","tty":"","user":"root","command":"ksoftirqd/0"},{"pid":8,"parentPid":2,"name":"rcu_sched","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:27:08","state":"unknown","tty":"","user":"root","command":"rcu_sched"},{"pid":9,"parentPid":2,"name":"rcu_bh","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:27:08","state":"unknown","tty":"","user":"root","command":"rcu_bh"},{"pid":10,"parentPid":2,"name":"migration","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":139,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:27:08","state":"sleeping","tty":"","user":"root","command":"migration/0"},{"pid":11,"parentPid":2,"name":"watchdog","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":139,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:27:08","state":"sleeping","tty":"","user":"root","command":"watchdog/0"}]},"time":{"current":1591119800783,"uptime":972,"timezone":"GMT+0000","timezoneName":"Coordinated Universal Time"},"osInfo":{"platform":"linux","distro":"Amazon Linux AMI","release":"2018.03","codename":"","kernel":"4.14.154-99.181.amzn1.x86_64","arch":"x64","hostname":"ip-172-31-90-235","codepage":"UTF-8","logofile":"amazon linux ami","serial":"e938414c9ad827c6ffae5b695df3af92","build":"","servicepack":""},"cpuCurrentspeed":{"min":2.5,"max":2.5,"avg":2.5,"cores":[2.5]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0.08,"currentload":14.084507042253522,"currentload_user":7.042253521126761,"currentload_system":7.042253521126761,"currentload_nice":0,"currentload_idle":85.91549295774648,"currentload_irq":0,"raw_currentload":2000,"raw_currentload_user":1000,"raw_currentload_system":1000,"raw_currentload_nice":0,"raw_currentload_idle":12200,"raw_currentload_irq":0,"cpus":[{"load":14.084507042253522,"load_user":7.042253521126761,"load_system":7.042253521126761,"load_nice":0,"load_idle":85.91549295774648,"load_irq":0,"raw_load":2000,"raw_load_user":1000,"raw_load_system":1000,"raw_load_nice":0,"raw_load_idle":12200,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/xvda1","type":"ext4","size":105620189184,"used":1661886464,"use":1.57,"mount":"/"}],"networkConnections":[{"protocol":"tcp","localaddress":"0.0.0.0","localport":"54895","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"111","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"22","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"127.0.0.1","localport":"25","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"172.31.90.235","localport":"36724","peeraddress":"52.216.106.59","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"::","localport":"111","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"33841","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"22","peeraddress":"::","peerport":"*","state":"LISTEN"}],"users":[],"mem":{"total":611102720,"free":52076544,"used":559026176,"active":279703552,"available":356032512,"buffcache":279322624,"swaptotal":0,"swapused":0,"swapfree":0},"battery":{"hasbattery":false,"cyclecount":0,"ischarging":false,"maxcapacity":0,"currentcapacity":0,"percent":0,"timeremaining":-1,"acconnected":true,"type":"","model":"","manufacturer":"","serial":""},"inetLatency":0.585,"networkStats":[{"iface":"eth0","operstate":"up","rx_bytes":89555304,"rx_dropped":0,"rx_errors":0,"tx_bytes":1386214,"tx_dropped":0,"tx_errors":0,"rx_sec":15863.26530612245,"tx_sec":7695.238095238095,"ms":1470}],"fsStats":{"rx":239219200,"wx":366678016,"tx":605897216,"rx_sec":5868.194842406877,"wx_sec":67484.24068767909,"tx_sec":73352.43553008598,"ms":1396},"disksIO":{"rIO":8952,"wIO":5055,"tIO":14007,"rIO_sec":0,"wIO_sec":1.4326647564469914,"tIO_sec":1.4326647564469914,"ms":1396}},"createDate":"2020-06-02T17:43:19.402Z","timezone":"Africa/Abidjan","id":"5ed68fb7759b110015403b5e","version":0},{"numActiveTasks":0,"lastHeartbeatTime":1591119997706,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"ip-172-31-84-218","ipAddress":"172.31.84.218","name":"ip-172-31-84-218","reportedVersion":"v0.0.0.223","targetVersion":"v0.0.0.223","tags":{"agentbuilder":"true"},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":76,"running":1,"blocked":0,"sleeping":48,"unknown":0,"list":[{"pid":2843,"parentPid":2818,"name":"sg-agent","pcpu":10.465116279069768,"pcpuu":9.30232558139535,"pcpus":1.1627906976744187,"pmem":12.5,"priority":19,"mem_vsz":1103824,"mem_rss":74612,"nice":0,"started":"2020-06-02 17:45:01","state":"sleeping","tty":"","user":"ec2-user","command":"/home/ec2-user/sg-agent /tmp/app.bucO1vn3fu.KikiAgentLauncherProc"},{"pid":1457,"parentPid":2,"name":"u30:2","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:43:56","state":"unknown","tty":"","user":"root","command":"kworker/u30:2"},{"pid":3,"parentPid":2,"name":"kworker","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:43:55","state":"unknown","tty":"","user":"root","command":"kworker/0:0"},{"pid":4,"parentPid":2,"name":"kworker","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 17:43:55","state":"unknown","tty":"","user":"root","command":"kworker/0:0H"},{"pid":5,"parentPid":2,"name":"u30:0","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:43:55","state":"unknown","tty":"","user":"root","command":"kworker/u30:0"},{"pid":6,"parentPid":2,"name":"mm_percpu_wq","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 17:43:55","state":"unknown","tty":"","user":"root","command":"mm_percpu_wq"},{"pid":7,"parentPid":2,"name":"ksoftirqd","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:43:55","state":"sleeping","tty":"","user":"root","command":"ksoftirqd/0"},{"pid":8,"parentPid":2,"name":"rcu_sched","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:43:55","state":"unknown","tty":"","user":"root","command":"rcu_sched"},{"pid":9,"parentPid":2,"name":"rcu_bh","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:43:55","state":"unknown","tty":"","user":"root","command":"rcu_bh"},{"pid":10,"parentPid":2,"name":"migration","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":139,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 17:43:55","state":"sleeping","tty":"","user":"root","command":"migration/0"}]},"time":{"current":1591119907503,"uptime":71,"timezone":"GMT+0000","timezoneName":"Coordinated Universal Time"},"osInfo":{"platform":"linux","distro":"Amazon Linux AMI","release":"2018.03","codename":"","kernel":"4.14.154-99.181.amzn1.x86_64","arch":"x64","hostname":"ip-172-31-84-218","codepage":"UTF-8","logofile":"amazon linux ami","serial":"e938414c9ad827c6ffae5b695df3af92","build":"","servicepack":""},"cpuCurrentspeed":{"min":2.49,"max":2.49,"avg":2.49,"cores":[2.49]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0.84,"currentload":12.676056338028168,"currentload_user":6.338028169014084,"currentload_system":6.338028169014084,"currentload_nice":0,"currentload_idle":87.32394366197182,"currentload_irq":0,"raw_currentload":1800,"raw_currentload_user":900,"raw_currentload_system":900,"raw_currentload_nice":0,"raw_currentload_idle":12400,"raw_currentload_irq":0,"cpus":[{"load":12.676056338028168,"load_user":6.338028169014084,"load_system":6.338028169014084,"load_nice":0,"load_idle":87.32394366197182,"load_irq":0,"raw_load":1800,"raw_load_user":900,"raw_load_system":900,"raw_load_nice":0,"raw_load_idle":12400,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/xvda1","type":"ext4","size":105620189184,"used":1622544384,"use":1.54,"mount":"/"}],"networkConnections":[{"protocol":"tcp","localaddress":"0.0.0.0","localport":"37743","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"111","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"22","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"127.0.0.1","localport":"25","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"172.31.84.218","localport":"59534","peeraddress":"52.216.109.227","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.84.218","localport":"59532","peeraddress":"52.216.109.227","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.84.218","localport":"39734","peeraddress":"52.216.78.12","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.84.218","localport":"39740","peeraddress":"52.216.78.12","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.84.218","localport":"48822","peeraddress":"169.254.169.254","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.84.218","localport":"60642","peeraddress":"52.216.25.220","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.84.218","localport":"39464","peeraddress":"52.21.209.244","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.84.218","localport":"39738","peeraddress":"52.216.78.12","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.84.218","localport":"39736","peeraddress":"52.216.78.12","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"::","localport":"111","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"53329","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"22","peeraddress":"::","peerport":"*","state":"LISTEN"}],"users":[],"mem":{"total":611102720,"free":47120384,"used":563982336,"active":307433472,"available":301006848,"buffcache":256548864,"swaptotal":0,"swapused":0,"swapfree":0},"battery":{"hasbattery":false,"cyclecount":0,"ischarging":false,"maxcapacity":0,"currentcapacity":0,"percent":0,"timeremaining":-1,"acconnected":true,"type":"","model":"","manufacturer":"","serial":""},"inetLatency":0.56,"networkStats":[{"iface":"eth0","operstate":"up","rx_bytes":74944054,"rx_dropped":0,"rx_errors":0,"tx_bytes":665032,"tx_dropped":0,"tx_errors":0,"rx_sec":15230.16826923077,"tx_sec":7555.288461538462,"ms":1664}],"fsStats":{"rx":233198080,"wx":309649408,"tx":542847488,"rx_sec":5872.401433691756,"wx_sec":0,"tx_sec":5872.401433691756,"ms":1395},"disksIO":{"rIO":8713,"wIO":4213,"tIO":12926,"rIO_sec":0,"wIO_sec":0,"tIO_sec":0,"ms":1395}},"createDate":"2020-06-02T17:45:06.127Z","timezone":"Africa/Abidjan","id":"5ed69022759b110015403b64","version":0},{"numActiveTasks":0,"lastHeartbeatTime":1591139285776,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","name":"ip-172-31-93-56.ec2.internal","reportedVersion":"v0.0.0.223","targetVersion":"v0.0.0.223","tags":{"ec2admin":"true"},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":92,"running":1,"blocked":0,"sleeping":55,"unknown":0,"list":[{"pid":1,"parentPid":0,"name":"systemd","pcpu":0.21248802251912224,"pcpuu":0.1770384134691309,"pcpus":0.035449609049991324,"pmem":0.4,"priority":19,"mem_vsz":117536,"mem_rss":4044,"nice":0,"started":"2019-07-03 22:23:10","state":"sleeping","tty":"","user":"root","command":"/usr/lib/systemd/systemd --switched-root --system --deserialize 22"},{"pid":1864,"parentPid":2,"name":"xvda1","pcpu":0.010517488223360117,"pcpuu":3.8190619229588387e-7,"pcpus":0.010517106317167822,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2019-07-03 22:23:12","state":"sleeping","tty":"","user":"root","command":"xfsaild/xvda1"},{"pid":3188,"parentPid":1,"name":"sshd","pcpu":0.00829344015315266,"pcpuu":0.00486656117093694,"pcpus":0.0034268789822157197,"pmem":0.2,"priority":19,"mem_vsz":112928,"mem_rss":2440,"nice":0,"started":"2019-07-03 22:23:18","state":"sleeping","tty":"","user":"root","command":"/usr/sbin/sshd -D"},{"pid":3182,"parentPid":1,"name":"rsyslogd","pcpu":0.004717652474686299,"pcpuu":0.003230648636865144,"pcpus":0.001487003837821155,"pmem":2.2,"priority":19,"mem_vsz":649856,"mem_rss":23160,"nice":0,"started":"2019-07-03 22:23:18","state":"sleeping","tty":"","user":"root","command":"/usr/sbin/rsyslogd -n"},{"pid":10217,"parentPid":10216,"name":"python","pcpu":0.0034918724723955285,"pcpuu":0.00321238657712445,"pcpus":0.0002794858952710787,"pmem":4,"priority":19,"mem_vsz":1022404,"mem_rss":40636,"nice":0,"started":"2020-05-26 03:56:30","state":"sleeping","tty":"","user":"ec2-user","command":"python server/src/workers/JobScheduler.py"},{"pid":3200,"parentPid":1,"name":"crond","pcpu":0.002954495741090466,"pcpuu":0.0018349550977474595,"pcpus":0.0011195406433430065,"pmem":0.2,"priority":19,"mem_vsz":135152,"mem_rss":2232,"nice":0,"started":"2019-07-03 22:23:18","state":"sleeping","tty":"","user":"root","command":"/usr/sbin/crond -n"},{"pid":2889,"parentPid":1,"name":"dhclient","pcpu":0.0024187855095336034,"pcpuu":0.0020103194775007785,"pcpus":0.0004084660320328249,"pmem":0.3,"priority":19,"mem_vsz":105452,"mem_rss":3640,"nice":0,"started":"2019-07-03 22:23:15","state":"sleeping","tty":"","user":"root","command":"/sbin/dhclient -q -lf /var/lib/dhclient/dhclient--eth0.lease -pf /var/run/dhclient-eth0.pid -H ip-172-31-93-56 eth0"},{"pid":4888,"parentPid":1,"name":"systemd-journald","pcpu":0.0017462139861557978,"pcpuu":0.0007872822560455876,"pcpus":0.0009589317301102102,"pmem":2,"priority":19,"mem_vsz":57552,"mem_rss":20288,"nice":0,"started":"2019-07-17 21:58:25","state":"sleeping","tty":"","user":"root","command":"/usr/lib/systemd/systemd-journald"},{"pid":8,"parentPid":2,"name":"rcu_sched","pcpu":0.001634732096750154,"pcpuu":0.000057424803823399265,"pcpus":0.0015773072929267547,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2019-07-03 22:23:10","state":"unknown","tty":"","user":"root","command":"rcu_sched"},{"pid":26211,"parentPid":1,"name":"sg-agent-launcher","pcpu":0.0015472061412248883,"pcpuu":0.0010769407435296384,"pcpus":0.00047026539769524976,"pmem":9.6,"priority":19,"mem_vsz":1254516,"mem_rss":96864,"nice":0,"started":"2020-05-27 23:13:48","state":"sleeping","tty":"","user":"ec2-user","command":"./sg-agent-launcher"}]},"time":{"current":1591067842454,"uptime":28875252,"timezone":"GMT+0000","timezoneName":"Coordinated Universal Time"},"osInfo":{"platform":"linux","distro":"Amazon Linux","release":"2","codename":"","kernel":"4.14.123-111.109.amzn2.x86_64","arch":"x64","hostname":"ip-172-31-93-56.ec2.internal","codepage":"UTF-8","logofile":"amazon linux","serial":"1e6f8fad3bb3493a8b69e361bda29599","build":"","servicepack":""},"cpuCurrentspeed":{"min":2.4,"max":2.4,"avg":2.4,"cores":[2.4]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0,"currentload":0.07327039751847782,"currentload_user":0.04486761524253361,"currentload_system":0.0281990810191777,"currentload_nice":0.00020370125676650403,"currentload_idle":99.92672960248153,"currentload_irq":0,"raw_currentload":210997300,"raw_currentload_user":129205600,"raw_currentload_system":81205100,"raw_currentload_nice":586600,"raw_currentload_idle":287759734600,"raw_currentload_irq":0,"cpus":[{"load":0.07327039751847782,"load_user":0.04486761524253361,"load_system":0.0281990810191777,"load_nice":0.00020370125676650403,"load_idle":99.92672960248153,"load_irq":0,"raw_load":210997300,"raw_load_user":129205600,"raw_load_system":81205100,"raw_load_nice":586600,"raw_load_idle":287759734600,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/xvda1","type":"xfs","size":8577331200,"used":4363055104,"use":50.87,"mount":"/"}],"networkConnections":[{"protocol":"tcp","localaddress":"0.0.0.0","localport":"111","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"22","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"127.0.0.1","localport":"25","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"172.31.93.56","localport":"40230","peeraddress":"52.217.12.108","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.93.56","localport":"58952","peeraddress":"34.224.222.109","peerport":"5671","state":"ESTABLISHED"},{"protocol":"tcp","localaddress":"172.31.93.56","localport":"22","peeraddress":"96.60.74.166","peerport":"36306","state":"ESTABLISHED"},{"protocol":"tcp","localaddress":"172.31.93.56","localport":"56348","peeraddress":"35.153.105.141","peerport":"33228","state":"ESTABLISHED"},{"protocol":"tcp","localaddress":"172.31.93.56","localport":"56344","peeraddress":"35.153.105.141","peerport":"33228","state":"ESTABLISHED"},{"protocol":"tcp","localaddress":"172.31.93.56","localport":"45512","peeraddress":"34.224.222.109","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.93.56","localport":"45576","peeraddress":"34.224.222.109","peerport":"443","state":"ESTABLISHED"},{"protocol":"tcp6","localaddress":"::","localport":"111","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp6","localaddress":"::","localport":"22","peeraddress":"::","peerport":"*","state":"LISTEN"}],"users":[{"user":"ec2-user","tty":"pts/1","date":"2020-06-02","time":"02:15","ip":"h96-60-74-166.stgrut.broadband.dynamic.tds.net","command":"node"}],"mem":{"total":1031507968,"free":117805056,"used":913702912,"active":501043200,"available":484261888,"buffcache":412659712,"swaptotal":0,"swapused":0,"swapfree":0},"battery":{"hasbattery":false,"cyclecount":0,"ischarging":false,"maxcapacity":0,"currentcapacity":0,"percent":0,"timeremaining":-1,"acconnected":true,"type":"","model":"","manufacturer":"","serial":""},"inetLatency":0.636,"networkStats":[{"iface":"eth0","operstate":"up","rx_bytes":11468170246,"rx_dropped":0,"rx_errors":0,"tx_bytes":3402466441,"tx_dropped":0,"tx_errors":0,"rx_sec":-1,"tx_sec":-1,"ms":0}],"fsStats":{"rx":47655425536,"wx":135066587136,"tx":182722012672,"rx_sec":-1,"wx_sec":-1,"tx_sec":-1,"ms":0},"disksIO":{"rIO":613118,"wIO":20554240,"tIO":21167358,"rIO_sec":-1,"wIO_sec":-1,"tIO_sec":-1,"ms":0}},"createDate":"2020-06-02T03:05:25.198Z","timezone":"Africa/Abidjan","id":"5e9bf416ed382e0015d511e7","version":0},{"numActiveTasks":0,"lastHeartbeatTime":1591069980046,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"ip-172-31-94-250","ipAddress":"172.31.94.250","name":"ip-172-31-94-250","reportedVersion":"v0.0.0.223","targetVersion":"v0.0.0.223","tags":{"agentbuilder":"true"},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":80,"running":1,"blocked":0,"sleeping":55,"unknown":0,"list":[{"pid":1,"parentPid":0,"name":"init","pcpu":2.1614932691862885,"pcpuu":1.5751491881389648,"pcpus":0.5863440810473239,"pmem":0.4,"priority":19,"mem_vsz":19696,"mem_rss":2692,"nice":0,"started":"2020-06-02 03:38:38","state":"sleeping","tty":"","user":"root","command":"/sbin/init"},{"pid":2905,"parentPid":2904,"name":"-bash","pcpu":0.21626497663875655,"pcpuu":0.17810056899662302,"pcpus":0.03816440764213351,"pmem":0.5,"priority":19,"mem_vsz":115412,"mem_rss":3412,"nice":0,"started":"2020-06-02 03:45:03","state":"sleeping","tty":"pts/0","user":"ec2-user","command":"-bash"},{"pid":2972,"parentPid":2971,"name":"-bash","pcpu":0.09020678169958829,"pcpuu":0.06938983207660637,"pcpus":0.020816949622981914,"pmem":0.5,"priority":19,"mem_vsz":115412,"mem_rss":3396,"nice":0,"started":"2020-06-02 03:51:08","state":"sleeping","tty":"pts/0","user":"root","command":"-bash"},{"pid":3338,"parentPid":3329,"name":"sg-agent","pcpu":0.06707683767405283,"pcpuu":0.060137854466392186,"pcpus":0.006938983207660637,"pmem":12.3,"priority":19,"mem_vsz":1103824,"mem_rss":73496,"nice":0,"started":"2020-06-02 03:52:59","state":"sleeping","tty":"","user":"ec2-user","command":"/home/ec2-user/sg-agent /tmp/app.LEN4fmzJv9.KikiAgentLauncherProc"},{"pid":1567,"parentPid":1,"name":"udevd","pcpu":0.049729379654901235,"pcpuu":0.033538418837026414,"pcpus":0.01619096081787482,"pmem":0.3,"priority":19,"mem_vsz":10932,"mem_rss":2176,"nice":0,"started":"2020-06-02 03:38:44","state":"sleeping","tty":"","user":"root","command":"/sbin/udevd -d"},{"pid":3329,"parentPid":1,"name":"sg-agent-launcher","pcpu":0.02891243003191932,"pcpuu":0.026599435629365776,"pcpus":0.0023129944025535457,"pmem":7.1,"priority":19,"mem_vsz":992724,"mem_rss":42884,"nice":0,"started":"2020-06-02 03:52:58","state":"sleeping","tty":"","user":"ec2-user","command":"/home/ec2-user/sg-agent-launcher"},{"pid":2904,"parentPid":2902,"name":"sshd","pcpu":0.009251977610214183,"pcpuu":0.005782486006383865,"pcpus":0.0034694916038303185,"pmem":0.7,"priority":19,"mem_vsz":119992,"mem_rss":4224,"nice":0,"started":"2020-06-02 03:45:02","state":"sleeping","tty":"","user":"ec2-user","command":"sshd: ec2-user@pts/0"},{"pid":8,"parentPid":2,"name":"rcu_sched","pcpu":0.005782486006383865,"pcpuu":0.005782486006383865,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 03:38:38","state":"unknown","tty":"","user":"root","command":"rcu_sched"},{"pid":2765,"parentPid":1,"name":"ntpd","pcpu":0.005782486006383864,"pcpuu":0.0011564972012767728,"pcpus":0.004625988805107091,"pmem":0.8,"priority":19,"mem_vsz":116436,"mem_rss":5256,"nice":0,"started":"2020-06-02 03:39:46","state":"sleeping","tty":"","user":"ntp","command":"ntpd -u ntp:ntp -p /var/run/ntpd.pid -g"},{"pid":1539,"parentPid":2,"name":"kworker","pcpu":0.004625988805107091,"pcpuu":0,"pcpus":0.004625988805107091,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 03:38:41","state":"unknown","tty":"","user":"root","command":"kworker/0:2"}]},"time":{"current":1591069981251,"uptime":862,"timezone":"GMT+0000","timezoneName":"Coordinated Universal Time"},"osInfo":{"platform":"linux","distro":"Amazon Linux AMI","release":"2018.03","codename":"","kernel":"4.14.154-99.181.amzn1.x86_64","arch":"x64","hostname":"ip-172-31-94-250","codepage":"UTF-8","logofile":"amazon linux ami","serial":"e938414c9ad827c6ffae5b695df3af92","build":"","servicepack":""},"cpuCurrentspeed":{"min":2.5,"max":2.5,"avg":2.5,"cores":[2.5]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0.05,"currentload":2.6326075170526897,"currentload_user":2.0047154943073644,"currentload_system":0.6278920227453254,"currentload_nice":0,"currentload_idle":97.36739248294731,"currentload_irq":0,"raw_currentload":208800,"raw_currentload_user":159000,"raw_currentload_system":49800,"raw_currentload_nice":0,"raw_currentload_idle":7722500,"raw_currentload_irq":0,"cpus":[{"load":2.6326075170526897,"load_user":2.0047154943073644,"load_system":0.6278920227453254,"load_nice":0,"load_idle":97.36739248294731,"load_irq":0,"raw_load":208800,"raw_load_user":159000,"raw_load_system":49800,"raw_load_nice":0,"raw_load_idle":7722500,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/xvda1","type":"ext4","size":105620189184,"used":1622630400,"use":1.54,"mount":"/"}],"networkConnections":[{"protocol":"tcp","localaddress":"0.0.0.0","localport":"22","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"127.0.0.1","localport":"25","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"111","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"41937","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"172.31.94.250","localport":"37842","peeraddress":"3.82.182.253","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.94.250","localport":"22","peeraddress":"96.60.74.166","peerport":"35343","state":"ESTABLISHED"},{"protocol":"tcp","localaddress":"172.31.94.250","localport":"54380","peeraddress":"52.216.240.76","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.94.250","localport":"51204","peeraddress":"34.224.222.109","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"::","localport":"22","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"41231","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"111","peeraddress":"::","peerport":"*","state":"LISTEN"}],"users":[{"user":"ec2-user","tty":"pts/0","date":"2020-06-02","time":"03:45","ip":"h96-60-74-166.stgrut.broadband.dynamic.tds.net","command":"sshd: ec2-user"}],"mem":{"total":611102720,"free":132890624,"used":478212096,"active":221884416,"available":401444864,"buffcache":256327680,"swaptotal":0,"swapused":0,"swapfree":0},"battery":{"hasbattery":false,"cyclecount":0,"ischarging":false,"maxcapacity":0,"currentcapacity":0,"percent":0,"timeremaining":-1,"acconnected":true,"type":"","model":"","manufacturer":"","serial":""},"inetLatency":0.924,"networkStats":[{"iface":"eth0","operstate":"up","rx_bytes":89389220,"rx_dropped":0,"rx_errors":0,"tx_bytes":1170743,"tx_dropped":0,"tx_errors":0,"rx_sec":-1,"tx_sec":-1,"ms":0}],"fsStats":{"rx":245182976,"wx":398086144,"tx":643269120,"rx_sec":-1,"wx_sec":-1,"tx_sec":-1,"ms":0},"disksIO":{"rIO":9883,"wIO":5096,"tIO":14979,"rIO_sec":-1,"wIO_sec":-1,"tIO_sec":-1,"ms":0}},"createDate":"2020-06-02T03:52:36.240Z","timezone":"Africa/Abidjan","id":"5ed5cd04759b110015403a36","version":0},{"numActiveTasks":0,"lastHeartbeatTime":1591071236731,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"ip-172-31-83-213","ipAddress":"172.31.83.213","name":"ip-172-31-83-213","reportedVersion":"v0.0.0.223","targetVersion":"v0.0.0.223","tags":{"agentbuilder":"true"},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":75,"running":1,"blocked":0,"sleeping":48,"unknown":0,"list":[{"pid":2864,"parentPid":2839,"name":"sg-agent","pcpu":12.244897959183673,"pcpuu":9.523809523809524,"pcpus":2.7210884353741496,"pmem":12.5,"priority":19,"mem_vsz":1103824,"mem_rss":74684,"nice":0,"started":"2020-06-02 04:09:51","state":"sleeping","tty":"","user":"ec2-user","command":"/home/ec2-user/sg-agent /tmp/app.MUNt2W3HXv.KikiAgentLauncherProc"},{"pid":7,"parentPid":2,"name":"ksoftirqd","pcpu":0.6802721088435374,"pcpuu":0.6802721088435374,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 04:08:37","state":"sleeping","tty":"","user":"root","command":"ksoftirqd/0"},{"pid":1454,"parentPid":2,"name":"scsi_tmf_1","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 04:08:38","state":"unknown","tty":"","user":"root","command":"scsi_tmf_1"},{"pid":4,"parentPid":2,"name":"kworker","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 04:08:37","state":"unknown","tty":"","user":"root","command":"kworker/0:0H"},{"pid":5,"parentPid":2,"name":"u30:0","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 04:08:37","state":"unknown","tty":"","user":"root","command":"kworker/u30:0"},{"pid":6,"parentPid":2,"name":"mm_percpu_wq","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 04:08:37","state":"unknown","tty":"","user":"root","command":"mm_percpu_wq"},{"pid":1,"parentPid":0,"name":"init","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0.4,"priority":19,"mem_vsz":19696,"mem_rss":2576,"nice":0,"started":"2020-06-02 04:08:37","state":"sleeping","tty":"","user":"root","command":"/sbin/init"},{"pid":8,"parentPid":2,"name":"rcu_sched","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 04:08:37","state":"unknown","tty":"","user":"root","command":"rcu_sched"},{"pid":9,"parentPid":2,"name":"rcu_bh","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 04:08:37","state":"unknown","tty":"","user":"root","command":"rcu_bh"},{"pid":10,"parentPid":2,"name":"migration","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":139,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 04:08:37","state":"sleeping","tty":"","user":"root","command":"migration/0"}]},"time":{"current":1591070996318,"uptime":78,"timezone":"GMT+0000","timezoneName":"Coordinated Universal Time"},"osInfo":{"platform":"linux","distro":"Amazon Linux AMI","release":"2018.03","codename":"","kernel":"4.14.154-99.181.amzn1.x86_64","arch":"x64","hostname":"ip-172-31-83-213","codepage":"UTF-8","logofile":"amazon linux ami","serial":"e938414c9ad827c6ffae5b695df3af92","build":"","servicepack":""},"cpuCurrentspeed":{"min":2.5,"max":2.5,"avg":2.5,"cores":[2.5]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0.78,"currentload":13.23529411764706,"currentload_user":5.88235294117647,"currentload_system":7.352941176470589,"currentload_nice":0,"currentload_idle":86.76470588235294,"currentload_irq":0,"raw_currentload":1800,"raw_currentload_user":800,"raw_currentload_system":1000,"raw_currentload_nice":0,"raw_currentload_idle":11800,"raw_currentload_irq":0,"cpus":[{"load":13.23529411764706,"load_user":5.88235294117647,"load_system":7.352941176470589,"load_nice":0,"load_idle":86.76470588235294,"load_irq":0,"raw_load":1800,"raw_load_user":800,"raw_load_system":1000,"raw_load_nice":0,"raw_load_idle":11800,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/xvda1","type":"ext4","size":105620189184,"used":1622540288,"use":1.54,"mount":"/"}],"networkConnections":[{"protocol":"tcp","localaddress":"0.0.0.0","localport":"22","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"127.0.0.1","localport":"25","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"111","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"48273","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"172.31.83.213","localport":"52744","peeraddress":"52.216.106.236","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.83.213","localport":"52746","peeraddress":"52.216.106.236","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.83.213","localport":"36502","peeraddress":"169.254.169.254","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.83.213","localport":"36046","peeraddress":"34.239.100.11","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.83.213","localport":"51962","peeraddress":"52.216.200.11","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.83.213","localport":"51964","peeraddress":"52.216.200.11","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.83.213","localport":"51960","peeraddress":"52.216.200.11","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.83.213","localport":"51734","peeraddress":"52.216.142.140","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.83.213","localport":"51966","peeraddress":"52.216.200.11","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"::","localport":"22","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"44633","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"111","peeraddress":"::","peerport":"*","state":"LISTEN"}],"users":[],"mem":{"total":611102720,"free":47788032,"used":563314688,"active":307384320,"available":301445120,"buffcache":255930368,"swaptotal":0,"swapused":0,"swapfree":0},"battery":{"hasbattery":false,"cyclecount":0,"ischarging":false,"maxcapacity":0,"currentcapacity":0,"percent":0,"timeremaining":-1,"acconnected":true,"type":"","model":"","manufacturer":"","serial":""},"inetLatency":0.694,"networkStats":[{"iface":"eth0","operstate":"up","rx_bytes":74930190,"rx_dropped":0,"rx_errors":0,"tx_bytes":916705,"tx_dropped":0,"tx_errors":0,"rx_sec":9000.69492703266,"tx_sec":6906.184850590687,"ms":1439}],"fsStats":{"rx":233144832,"wx":308039680,"tx":541184512,"rx_sec":5940.536620739666,"wx_sec":0,"tx_sec":5940.536620739666,"ms":1379},"disksIO":{"rIO":8705,"wIO":4146,"tIO":12851,"rIO_sec":0,"wIO_sec":0,"tIO_sec":0,"ms":1379}},"createDate":"2020-06-02T04:09:54.957Z","timezone":"Africa/Abidjan","id":"5ed5d112759b110015403a48","version":0},{"numActiveTasks":0,"lastHeartbeatTime":1591073508119,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"ip-172-31-80-129","ipAddress":"172.31.80.129","name":"ip-172-31-80-129","reportedVersion":"v0.0.0.223","targetVersion":"v0.0.0.223","tags":{"agentbuilder":"true"},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":75,"running":1,"blocked":0,"sleeping":48,"unknown":0,"list":[{"pid":2834,"parentPid":2809,"name":"sg-agent","pcpu":13.245033112582782,"pcpuu":10.596026490066226,"pcpus":2.6490066225165565,"pmem":12.3,"priority":19,"mem_vsz":1103056,"mem_rss":74000,"nice":0,"started":"2020-06-02 04:47:11","state":"sleeping","tty":"","user":"ec2-user","command":"/home/ec2-user/sg-agent /tmp/app.bKu9AQCSzh.KikiAgentLauncherProc"},{"pid":7,"parentPid":2,"name":"ksoftirqd","pcpu":0.6622516556291391,"pcpuu":0,"pcpus":0.6622516556291391,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 04:45:59","state":"sleeping","tty":"","user":"root","command":"ksoftirqd/0"},{"pid":1458,"parentPid":2,"name":"scsi_tmf_1","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 04:46:01","state":"unknown","tty":"","user":"root","command":"scsi_tmf_1"},{"pid":4,"parentPid":2,"name":"kworker","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 04:45:59","state":"unknown","tty":"","user":"root","command":"kworker/0:0H"},{"pid":5,"parentPid":2,"name":"u30:0","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 04:45:59","state":"unknown","tty":"","user":"root","command":"kworker/u30:0"},{"pid":6,"parentPid":2,"name":"mm_percpu_wq","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 04:45:59","state":"unknown","tty":"","user":"root","command":"mm_percpu_wq"},{"pid":1,"parentPid":0,"name":"init","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0.4,"priority":19,"mem_vsz":19696,"mem_rss":2576,"nice":0,"started":"2020-06-02 04:45:59","state":"sleeping","tty":"","user":"root","command":"/sbin/init"},{"pid":8,"parentPid":2,"name":"rcu_sched","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 04:45:59","state":"unknown","tty":"","user":"root","command":"rcu_sched"},{"pid":9,"parentPid":2,"name":"rcu_bh","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 04:45:59","state":"unknown","tty":"","user":"root","command":"rcu_bh"},{"pid":10,"parentPid":2,"name":"migration","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":139,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 04:45:59","state":"sleeping","tty":"","user":"root","command":"migration/0"}]},"time":{"current":1591073237805,"uptime":78,"timezone":"GMT+0000","timezoneName":"Coordinated Universal Time"},"osInfo":{"platform":"linux","distro":"Amazon Linux AMI","release":"2018.03","codename":"","kernel":"4.14.154-99.181.amzn1.x86_64","arch":"x64","hostname":"ip-172-31-80-129","codepage":"UTF-8","logofile":"amazon linux ami","serial":"e938414c9ad827c6ffae5b695df3af92","build":"","servicepack":""},"cpuCurrentspeed":{"min":2.5,"max":2.5,"avg":2.5,"cores":[2.5]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0.78,"currentload":12.76595744680851,"currentload_user":7.092198581560284,"currentload_system":5.673758865248227,"currentload_nice":0,"currentload_idle":87.2340425531915,"currentload_irq":0,"raw_currentload":1800,"raw_currentload_user":1000,"raw_currentload_system":800,"raw_currentload_nice":0,"raw_currentload_idle":12300,"raw_currentload_irq":0,"cpus":[{"load":12.76595744680851,"load_user":7.092198581560284,"load_system":5.673758865248227,"load_nice":0,"load_idle":87.2340425531915,"load_irq":0,"raw_load":1800,"raw_load_user":1000,"raw_load_system":800,"raw_load_nice":0,"raw_load_idle":12300,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/xvda1","type":"ext4","size":105620189184,"used":1622540288,"use":1.54,"mount":"/"}],"networkConnections":[{"protocol":"tcp","localaddress":"0.0.0.0","localport":"22","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"127.0.0.1","localport":"25","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"33895","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"111","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"172.31.80.129","localport":"35434","peeraddress":"52.216.128.51","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.80.129","localport":"33454","peeraddress":"52.216.112.187","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.80.129","localport":"35224","peeraddress":"52.219.112.66","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.80.129","localport":"33456","peeraddress":"52.216.112.187","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.80.129","localport":"54182","peeraddress":"52.218.208.186","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.80.129","localport":"48968","peeraddress":"3.82.182.253","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.80.129","localport":"56970","peeraddress":"52.216.140.172","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.80.129","localport":"33452","peeraddress":"52.216.112.187","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.80.129","localport":"56972","peeraddress":"52.216.140.172","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"::","localport":"22","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"52987","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"111","peeraddress":"::","peerport":"*","state":"LISTEN"}],"users":[],"mem":{"total":611102720,"free":48148480,"used":562954240,"active":307003392,"available":301826048,"buffcache":255950848,"swaptotal":0,"swapused":0,"swapfree":0},"battery":{"hasbattery":false,"cyclecount":0,"ischarging":false,"maxcapacity":0,"currentcapacity":0,"percent":0,"timeremaining":-1,"acconnected":true,"type":"","model":"","manufacturer":"","serial":""},"inetLatency":0.814,"networkStats":[{"iface":"eth0","operstate":"up","rx_bytes":74949346,"rx_dropped":0,"rx_errors":0,"tx_bytes":474616,"tx_dropped":0,"tx_errors":0,"rx_sec":17101.36054421769,"tx_sec":8219.047619047618,"ms":1470}],"fsStats":{"rx":233140736,"wx":325189632,"tx":558330368,"rx_sec":5805.811481218993,"wx_sec":69669.73777462792,"tx_sec":75475.54925584691,"ms":1411},"disksIO":{"rIO":8701,"wIO":4304,"tIO":13005,"rIO_sec":0,"wIO_sec":1.4174344436569808,"tIO_sec":1.4174344436569808,"ms":1411}},"createDate":"2020-06-02T04:47:16.414Z","timezone":"Africa/Abidjan","id":"5ed5d9d4759b110015403a54","version":0},{"numActiveTasks":0,"lastHeartbeatTime":1591115320717,"offline":false,"cron":"","_teamId":"5de95c0453162e8891f5a830","machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","name":"ip-172-31-87-230","reportedVersion":"v0.0.0.223","targetVersion":"v0.0.0.223","tags":{"agentbuilder":"true"},"propertyOverrides":{"trackSysInfo":false,"maxActiveTasks":10},"sysInfo":{"processes":{"all":75,"running":1,"blocked":0,"sleeping":48,"unknown":0,"list":[{"pid":2858,"parentPid":2833,"name":"sg-agent","pcpu":11.538461538461538,"pcpuu":8.974358974358974,"pcpus":2.564102564102564,"pmem":12.4,"priority":19,"mem_vsz":1103800,"mem_rss":74520,"nice":0,"started":"2020-06-02 16:13:33","state":"sleeping","tty":"","user":"ec2-user","command":"/home/ec2-user/sg-agent /tmp/app.9J34re1B2l.KikiAgentLauncherProc"},{"pid":1453,"parentPid":2,"name":"scsi_tmf_1","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 16:12:18","state":"unknown","tty":"","user":"root","command":"scsi_tmf_1"},{"pid":3,"parentPid":2,"name":"kworker","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:12:16","state":"unknown","tty":"","user":"root","command":"kworker/0:0"},{"pid":4,"parentPid":2,"name":"kworker","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 16:12:16","state":"unknown","tty":"","user":"root","command":"kworker/0:0H"},{"pid":5,"parentPid":2,"name":"u30:0","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:12:16","state":"unknown","tty":"","user":"root","command":"kworker/u30:0"},{"pid":6,"parentPid":2,"name":"mm_percpu_wq","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":39,"mem_vsz":0,"mem_rss":0,"nice":-20,"started":"2020-06-02 16:12:16","state":"unknown","tty":"","user":"root","command":"mm_percpu_wq"},{"pid":7,"parentPid":2,"name":"ksoftirqd","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:12:16","state":"sleeping","tty":"","user":"root","command":"ksoftirqd/0"},{"pid":8,"parentPid":2,"name":"rcu_sched","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:12:16","state":"unknown","tty":"","user":"root","command":"rcu_sched"},{"pid":9,"parentPid":2,"name":"rcu_bh","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":19,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:12:16","state":"unknown","tty":"","user":"root","command":"rcu_bh"},{"pid":10,"parentPid":2,"name":"migration","pcpu":0,"pcpuu":0,"pcpus":0,"pmem":0,"priority":139,"mem_vsz":0,"mem_rss":0,"nice":0,"started":"2020-06-02 16:12:16","state":"sleeping","tty":"","user":"root","command":"migration/0"}]},"time":{"current":1591114419314,"uptime":82,"timezone":"GMT+0000","timezoneName":"Coordinated Universal Time"},"osInfo":{"platform":"linux","distro":"Amazon Linux AMI","release":"2018.03","codename":"","kernel":"4.14.154-99.181.amzn1.x86_64","arch":"x64","hostname":"ip-172-31-87-230","codepage":"UTF-8","logofile":"amazon linux ami","serial":"e938414c9ad827c6ffae5b695df3af92","build":"","servicepack":""},"cpuCurrentspeed":{"min":2.5,"max":2.5,"avg":2.5,"cores":[2.5]},"cpuTemperature":{"main":-1,"cores":[],"max":-1},"currentLoad":{"avgload":0.95,"currentload":12.5,"currentload_user":5.555555555555555,"currentload_system":6.944444444444445,"currentload_nice":0,"currentload_idle":87.5,"currentload_irq":0,"raw_currentload":1800,"raw_currentload_user":800,"raw_currentload_system":1000,"raw_currentload_nice":0,"raw_currentload_idle":12600,"raw_currentload_irq":0,"cpus":[{"load":12.5,"load_user":5.555555555555555,"load_system":6.944444444444445,"load_nice":0,"load_idle":87.5,"load_irq":0,"raw_load":1800,"raw_load_user":800,"raw_load_system":1000,"raw_load_nice":0,"raw_load_idle":12600,"raw_load_irq":0}]},"fsSize":[{"fs":"/dev/xvda1","type":"ext4","size":105620189184,"used":1622540288,"use":1.54,"mount":"/"}],"networkConnections":[{"protocol":"tcp","localaddress":"0.0.0.0","localport":"22","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"127.0.0.1","localport":"25","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"44873","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"0.0.0.0","localport":"111","peeraddress":"0.0.0.0","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"172.31.87.230","localport":"43538","peeraddress":"52.216.30.108","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.230","localport":"44302","peeraddress":"52.45.27.151","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.230","localport":"40716","peeraddress":"52.217.43.188","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.230","localport":"41490","peeraddress":"52.216.250.108","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.230","localport":"41492","peeraddress":"52.216.250.108","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.230","localport":"43534","peeraddress":"52.216.30.108","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.230","localport":"43536","peeraddress":"52.216.30.108","peerport":"80","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"172.31.87.230","localport":"39604","peeraddress":"52.216.102.75","peerport":"443","state":"TIME_WAIT"},{"protocol":"tcp","localaddress":"::","localport":"22","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"51911","peeraddress":"::","peerport":"*","state":"LISTEN"},{"protocol":"tcp","localaddress":"::","localport":"111","peeraddress":"::","peerport":"*","state":"LISTEN"}],"users":[],"mem":{"total":611102720,"free":45268992,"used":565833728,"active":306749440,"available":302043136,"buffcache":259084288,"swaptotal":0,"swapused":0,"swapfree":0},"battery":{"hasbattery":false,"cyclecount":0,"ischarging":false,"maxcapacity":0,"currentcapacity":0,"percent":0,"timeremaining":-1,"acconnected":true,"type":"","model":"","manufacturer":"","serial":""},"inetLatency":0.923,"networkStats":[{"iface":"eth0","operstate":"up","rx_bytes":74942838,"rx_dropped":0,"rx_errors":0,"tx_bytes":935323,"tx_dropped":0,"tx_errors":0,"rx_sec":16564.87025948104,"tx_sec":8053.892215568862,"ms":1503}],"fsStats":{"rx":233112064,"wx":308277248,"tx":541389312,"rx_sec":5708.710801393728,"wx_sec":0,"tx_sec":5708.710801393728,"ms":1435},"disksIO":{"rIO":8719,"wIO":4146,"tIO":12865,"rIO_sec":0,"wIO_sec":0,"tIO_sec":0,"ms":1435}},"createDate":"2020-06-02T16:13:37.898Z","timezone":"Africa/Abidjan","id":"5ed67ab1759b110015403a8c","version":0}],"job":[{"dateCreated":"2020-06-02T03:19:07.297Z","runAsService":false,"name":"IC-today 9:19 pm","runtimeVars":{"phrase":"\"hello world!\""},"_teamId":"5de95c0453162e8891f5a830","createdBy":"5e1fac8a7e501cfd86cee31d","dateStarted":"2020-06-02T03:19:07.297Z","status":20,"dateCompleted":"2020-06-02T03:19:08.241Z","id":"5ed5c52b759b110015403a16","version":0},{"dateCreated":"2020-06-02T04:47:48.451Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed5d9f4f8e54c00156362ee","dateStarted":"2020-06-02T04:47:48.451Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T04:47:54.485Z","id":"5ed5d9f4759b110015403a55","version":0},{"dateCreated":"2020-06-02T04:48:23.566Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed5da17f8e54c00156362ef","dateStarted":"2020-06-02T04:48:23.566Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T04:48:24.643Z","id":"5ed5da17759b110015403a5a","version":0},{"dateCreated":"2020-06-02T04:48:53.706Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed5da35f8e54c00156362f0","dateStarted":"2020-06-02T04:48:53.706Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T04:48:54.759Z","id":"5ed5da35759b110015403a5f","version":0},{"dateCreated":"2020-06-02T04:49:23.830Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed5da53f8e54c00156362f1","dateStarted":"2020-06-02T04:49:23.830Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T04:49:24.883Z","id":"5ed5da53759b110015403a64","version":0},{"dateCreated":"2020-06-02T04:49:53.953Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed5da71f8e54c00156362f2","dateStarted":"2020-06-02T04:49:53.953Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T04:49:54.994Z","id":"5ed5da71759b110015403a69","version":0},{"dateCreated":"2020-06-02T04:50:24.074Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed5da90f8e54c00156362f3","dateStarted":"2020-06-02T04:50:24.074Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T04:50:25.532Z","id":"5ed5da90759b110015403a6e","version":0},{"dateCreated":"2020-06-02T04:50:54.262Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed5daaef8e54c00156362f4","dateStarted":"2020-06-02T04:50:54.262Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T04:50:55.656Z","id":"5ed5daae759b110015403a73","version":0},{"dateCreated":"2020-06-02T04:51:24.418Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed5daccf8e54c00156362f5","dateStarted":"2020-06-02T04:51:24.418Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T04:51:25.758Z","id":"5ed5dacc759b110015403a78","version":0},{"dateCreated":"2020-06-02T04:51:54.637Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed5daeaf8e54c00156362f6","dateStarted":"2020-06-02T04:51:54.637Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T04:51:55.976Z","id":"5ed5daea759b110015403a7d","version":0},{"dateCreated":"2020-06-02T16:04:48.858Z","runAsService":false,"name":"IC-today 10:04 am","runtimeVars":{},"_teamId":"5de95c0453162e8891f5a830","createdBy":"5e1fac8a7e501cfd86cee31d","dateStarted":"2020-06-02T16:04:48.858Z","status":20,"dateCompleted":"2020-06-02T16:04:51.000Z","id":"5ed678a0759b110015403a82","version":0},{"dateCreated":"2020-06-02T16:14:09.981Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67ad1f8e54c00156362f7","dateStarted":"2020-06-02T16:14:09.981Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:14:17.047Z","id":"5ed67ad1759b110015403a8d","version":0},{"dateCreated":"2020-06-02T16:14:46.137Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67af6f8e54c00156362f8","dateStarted":"2020-06-02T16:14:46.137Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:14:47.175Z","id":"5ed67af6759b110015403a92","version":0},{"dateCreated":"2020-06-02T16:15:16.267Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67b14f8e54c00156362f9","dateStarted":"2020-06-02T16:15:16.267Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:15:18.321Z","id":"5ed67b14759b110015403a97","version":0},{"dateCreated":"2020-06-02T16:15:46.437Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67b32f8e54c00156362fa","dateStarted":"2020-06-02T16:15:46.437Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:15:48.477Z","id":"5ed67b32759b110015403a9c","version":0},{"dateCreated":"2020-06-02T16:16:16.579Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67b50f8e54c00156362fb","dateStarted":"2020-06-02T16:16:16.579Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:16:17.607Z","id":"5ed67b50759b110015403aa1","version":0},{"dateCreated":"2020-06-02T16:16:46.696Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67b6ef8e54c00156362fc","dateStarted":"2020-06-02T16:16:46.696Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:16:47.737Z","id":"5ed67b6e759b110015403aa6","version":0},{"dateCreated":"2020-06-02T16:17:16.822Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67b8cf8e54c00156362fd","dateStarted":"2020-06-02T16:17:16.822Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:17:17.869Z","id":"5ed67b8c759b110015403aab","version":0},{"dateCreated":"2020-06-02T16:17:46.944Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67baaf8e54c00156362fe","dateStarted":"2020-06-02T16:17:46.944Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:17:47.985Z","id":"5ed67baa759b110015403ab0","version":0},{"dateCreated":"2020-06-02T16:18:17.072Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67bc9f8e54c00156362ff","dateStarted":"2020-06-02T16:18:17.072Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:18:18.087Z","id":"5ed67bc9759b110015403ab5","version":0},{"dateCreated":"2020-06-02T16:18:47.174Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67be7f8e54c0015636300","dateStarted":"2020-06-02T16:18:47.174Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:18:48.208Z","id":"5ed67be7759b110015403aba","version":0},{"dateCreated":"2020-06-02T16:19:17.284Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67c05f8e54c0015636301","dateStarted":"2020-06-02T16:19:17.284Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:19:18.335Z","id":"5ed67c05759b110015403abf","version":0},{"dateCreated":"2020-06-02T16:19:47.435Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67c23f8e54c0015636302","dateStarted":"2020-06-02T16:19:47.435Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:19:49.460Z","id":"5ed67c23759b110015403ac4","version":0},{"dateCreated":"2020-06-02T16:20:17.684Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67c41f8e54c0015636303","dateStarted":"2020-06-02T16:20:17.684Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:20:19.613Z","id":"5ed67c41759b110015403ac9","version":0},{"dateCreated":"2020-06-02T16:20:47.811Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67c5ff8e54c0015636304","dateStarted":"2020-06-02T16:20:47.811Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:20:49.741Z","id":"5ed67c5f759b110015403ace","version":0},{"dateCreated":"2020-06-02T16:21:17.922Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67c7df8e54c0015636305","dateStarted":"2020-06-02T16:21:17.922Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:21:19.886Z","id":"5ed67c7d759b110015403ad3","version":0},{"dateCreated":"2020-06-02T16:21:48.073Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67c9cf8e54c0015636306","dateStarted":"2020-06-02T16:21:48.073Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:21:49.996Z","id":"5ed67c9c759b110015403ad8","version":0},{"dateCreated":"2020-06-02T16:22:18.200Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67cbaf8e54c0015636307","dateStarted":"2020-06-02T16:22:18.200Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:22:20.142Z","id":"5ed67cba759b110015403add","version":0},{"dateCreated":"2020-06-02T16:22:48.319Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67cd8f8e54c0015636308","dateStarted":"2020-06-02T16:22:48.319Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:22:50.264Z","id":"5ed67cd8759b110015403ae2","version":0},{"dateCreated":"2020-06-02T16:23:18.475Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67cf6f8e54c0015636309","dateStarted":"2020-06-02T16:23:18.475Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:23:20.380Z","id":"5ed67cf6759b110015403ae7","version":0},{"dateCreated":"2020-06-02T16:23:48.581Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67d14f8e54c001563630a","dateStarted":"2020-06-02T16:23:48.581Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:23:50.489Z","id":"5ed67d14759b110015403aec","version":0},{"dateCreated":"2020-06-02T16:24:18.690Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67d32f8e54c001563630b","dateStarted":"2020-06-02T16:24:18.690Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:24:20.595Z","id":"5ed67d32759b110015403af1","version":0},{"dateCreated":"2020-06-02T16:24:48.783Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67d50f8e54c001563630c","dateStarted":"2020-06-02T16:24:48.783Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:24:50.701Z","id":"5ed67d50759b110015403af6","version":0},{"dateCreated":"2020-06-02T16:25:18.897Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67d6ef8e54c001563630d","dateStarted":"2020-06-02T16:25:18.897Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:25:20.811Z","id":"5ed67d6e759b110015403afb","version":0},{"dateCreated":"2020-06-02T16:25:49.034Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67d8df8e54c001563630e","dateStarted":"2020-06-02T16:25:49.034Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:25:50.928Z","id":"5ed67d8d759b110015403b00","version":0},{"dateCreated":"2020-06-02T16:26:19.153Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67dabf8e54c001563630f","dateStarted":"2020-06-02T16:26:19.153Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:26:21.036Z","id":"5ed67dab759b110015403b05","version":0},{"dateCreated":"2020-06-02T16:26:49.278Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67dc9f8e54c0015636310","dateStarted":"2020-06-02T16:26:49.278Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:26:51.133Z","id":"5ed67dc9759b110015403b0a","version":0},{"dateCreated":"2020-06-02T16:27:19.379Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67de7f8e54c0015636311","dateStarted":"2020-06-02T16:27:19.379Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:27:21.254Z","id":"5ed67de7759b110015403b0f","version":0},{"dateCreated":"2020-06-02T16:27:49.557Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67e05f8e54c0015636312","dateStarted":"2020-06-02T16:27:49.557Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:27:51.379Z","id":"5ed67e05759b110015403b14","version":0},{"dateCreated":"2020-06-02T16:28:19.664Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67e23f8e54c0015636313","dateStarted":"2020-06-02T16:28:19.664Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:28:21.495Z","id":"5ed67e23759b110015403b19","version":0},{"dateCreated":"2020-06-02T16:28:49.772Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed67e41f8e54c0015636314","dateStarted":"2020-06-02T16:28:49.772Z","status":22,"runtimeVars":{},"dateCompleted":"2020-06-02T16:28:51.587Z","id":"5ed67e41759b110015403b1e","version":0},{"dateCreated":"2020-06-02T16:57:36.953Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed68500f8e54c0015636315","dateStarted":"2020-06-02T16:57:36.953Z","status":20,"runtimeVars":{},"dateCompleted":"2020-06-02T16:57:42.995Z","id":"5ed68500759b110015403b38","version":0},{"dateCreated":"2020-06-02T17:04:00.180Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed68680f8e54c0015636316","dateStarted":"2020-06-02T17:04:00.180Z","status":20,"runtimeVars":{},"dateCompleted":"2020-06-02T17:04:05.240Z","id":"5ed68680759b110015403b4e","version":0},{"dateCreated":"2020-06-02T17:04:00.197Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed68680f8e54c0015636317","dateStarted":"2020-06-02T17:04:00.197Z","status":20,"runtimeVars":{},"dateCompleted":"2020-06-02T17:04:05.242Z","id":"5ed68680759b110015403b50","version":0},{"dateCreated":"2020-06-02T17:46:38.281Z","runAsService":false,"name":"Inactive agent timeout job","_teamId":"5de95c0453162e8891f5a830","createdBy":"5ed6907ef8e54c0015636318","dateStarted":"2020-06-02T17:46:38.281Z","status":20,"runtimeVars":{},"dateCompleted":"2020-06-02T17:46:44.324Z","id":"5ed6907e759b110015403b65","version":0},{"dateCreated":"2020-06-02T03:18:49.829Z","runAsService":false,"name":"IC-today 9:18 pm","runtimeVars":{"phrase":"\"hello world\""},"_teamId":"5de95c0453162e8891f5a830","createdBy":"5e1fac8a7e501cfd86cee31d","dateStarted":"2020-06-02T03:18:49.829Z","status":20,"dateCompleted":"2020-06-02T03:18:51.148Z","id":"5ed5c519759b110015403a11","version":0},{"dateCreated":"2020-06-02T03:34:32.806Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":0,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":22,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","MinCount":"1","MaxCount":"1","KeyName":"kiki-2019Q1","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"t1.micro","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T03:34:32.878Z","dateCompleted":"2020-06-02T03:34:34.456Z","id":"5ed5c8c8759b110015403a22","version":0},{"dateCreated":"2020-06-02T03:35:54.211Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":1,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":22,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","MinCount":"1","MaxCount":"1","KeyName":"kiki-2019Q1","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"t1.micro","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T03:35:54.272Z","dateCompleted":"2020-06-02T03:35:55.692Z","id":"5ed5c91a759b110015403a27","version":0},{"dateCreated":"2020-06-02T03:36:55.911Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":2,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":22,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","MinCount":"1","MaxCount":"1","KeyName":"kiki-2019Q1","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"t1.micro","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T03:36:55.943Z","dateCompleted":"2020-06-02T03:36:57.999Z","id":"5ed5c957759b110015403a2c","version":0},{"dateCreated":"2020-06-02T03:38:15.035Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":3,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":20,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","MinCount":"1","MaxCount":"1","KeyName":"kiki-2019Q1","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"t1.micro","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","maxInstances":"1"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T03:38:15.068Z","dateCompleted":"2020-06-02T03:43:00.571Z","id":"5ed5c9a7759b110015403a31","version":0},{"dateCreated":"2020-06-02T03:58:30.413Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":4,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":22,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"[{\"agentbuilder\":\"true\"}]","ImageId":"ami-099e882b0876c8124","MinCount":"1","MaxCount":"1","KeyName":"kiki-2019Q1","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"t1.micro","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","maxInstances":"1"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T03:58:30.476Z","dateCompleted":"2020-06-02T03:58:32.504Z","id":"5ed5ce66759b110015403a37","version":0},{"dateCreated":"2020-06-02T04:07:49.491Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":5,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":22,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","MinCount":"1","MaxCount":"1","KeyName":"kiki-2019Q1","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"t1.micro","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","maxInstances":"1"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T04:07:49.664Z","dateCompleted":"2020-06-02T04:07:52.294Z","id":"5ed5d095759b110015403a3e","version":0},{"dateCreated":"2020-06-02T04:08:17.564Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":6,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":20,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","MinCount":"1","MaxCount":"1","KeyName":"kiki-2019Q1","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"t1.micro","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","maxInstances":"1"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T04:08:17.610Z","dateCompleted":"2020-06-02T04:11:21.597Z","id":"5ed5d0b1759b110015403a43","version":0},{"dateCreated":"2020-06-02T04:37:30.717Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":7,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":22,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","MinCount":"1","MaxCount":"1","KeyName":"kiki-2019Q1","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"t1.micro","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T04:37:30.774Z","dateCompleted":"2020-06-02T04:37:33.229Z","id":"5ed5d78a759b110015403a4a","version":0},{"dateCreated":"2020-06-02T04:45:38.880Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":8,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":20,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"1","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T04:45:38.931Z","dateCompleted":"2020-06-02T04:49:43.851Z","id":"5ed5d972759b110015403a4f","version":0},{"dateCreated":"2020-06-02T16:11:51.022Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":9,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":20,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"1","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T16:11:51.659Z","dateCompleted":"2020-06-02T16:16:37.882Z","id":"5ed67a47759b110015403a87","version":0},{"dateCreated":"2020-06-02T16:30:07.083Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":10,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":20,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"1","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T16:30:07.185Z","dateCompleted":"2020-06-02T16:30:09.615Z","id":"5ed67e8f759b110015403b23","version":0},{"dateCreated":"2020-06-02T16:33:56.690Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":11,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":20,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"1","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T16:33:56.745Z","dateCompleted":"2020-06-02T16:37:42.107Z","id":"5ed67f74759b110015403b28","version":0},{"dateCreated":"2020-06-02T16:44:34.536Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":12,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":20,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"1","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T16:44:34.579Z","dateCompleted":"2020-06-02T16:47:38.796Z","id":"5ed681f2759b110015403b2d","version":0},{"dateCreated":"2020-06-02T16:55:31.847Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":13,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":22,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"1","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T16:55:31.932Z","dateCompleted":"2020-06-02T16:57:46.799Z","id":"5ed68483759b110015403b32","version":0},{"dateCreated":"2020-06-02T16:59:15.122Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":14,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":20,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"1","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"90000","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T16:59:15.176Z","dateCompleted":"2020-06-02T16:59:17.092Z","id":"5ed68563759b110015403b3d","version":0},{"dateCreated":"2020-06-02T16:59:48.207Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":15,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":22,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"2","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"90000","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T16:59:48.246Z","dateCompleted":"2020-06-02T16:59:50.355Z","id":"5ed68584759b110015403b42","version":0},{"dateCreated":"2020-06-02T17:01:01.445Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":16,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":22,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"2","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"90000","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T17:01:01.492Z","dateCompleted":"2020-06-02T17:04:06.859Z","id":"5ed685cd759b110015403b47","version":0},{"dateCreated":"2020-06-02T17:26:48.736Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":17,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":20,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"2","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"90000","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T17:26:48.788Z","dateCompleted":"2020-06-02T17:31:45.762Z","id":"5ed68bd8759b110015403b59","version":0},{"dateCreated":"2020-06-02T17:43:36.962Z","runAsService":false,"_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5ed5c53c759b110015403a1b","runId":18,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","dateScheduled":null,"status":20,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"2","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"90000","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"onJobTaskFailAlertEmail":null,"onJobCompleteAlertEmail":null,"onJobTaskInterruptedAlertEmail":null,"onJobTaskFailAlertSlackURL":null,"onJobCompleteAlertSlackURL":null,"onJobTaskInterruptedAlertSlackURL":null,"dateStarted":"2020-06-02T17:43:37.031Z","dateCompleted":"2020-06-02T17:46:21.804Z","id":"5ed68fc8759b110015403b5f","version":0}],"jobDef":[{"status":10,"lastRunId":0,"maxInstances":1,"dateCreated":"2020-05-04T21:31:13.824Z","pauseOnFailedJob":false,"_teamId":"5de95c0453162e8891f5a830","name":"Hello World Job","createdBy":"5de8810275ad92e5bb8de78a","runtimeVars":{},"id":"5eb08a6094dadd7ec1898302","version":0},{"status":10,"lastRunId":19,"maxInstances":1,"dateCreated":"2020-06-01T23:25:59.201Z","pauseOnFailedJob":false,"name":"BuildAgent","createdBy":"5e1fac8a7e501cfd86cee31d","_teamId":"5de95c0453162e8891f5a830","runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","platform":"linux","tags":"{\"agentbuilder\":\"true\"}","ImageId":"'ami-099e882b0876c8124'","MinCount":"1","MaxCount":"2","KeyName":"'kiki-2019Q1'","SecurityGroupIds":"['sg-036de2537c059a4af']","InstanceType":"'t1.micro'","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","maxInstances":"1","IAMRole":"None","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"90000","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"id":"5ed5c53c759b110015403a1b","version":0}],"script":[{"orgUsable":true,"orgEditable":false,"isActive":true,"_teamId":"5de95c0453162e8891f5a830","name":"echo hello","scriptType":2,"code":"ZWNobyAiSGVsbG8gV29ybGQi","_originalAuthorUserId":"5de8810275ad92e5bb8de78a","_lastEditedUserId":"5de8810275ad92e5bb8de78a","lastEditedDate":"2019-11-27T21:41:51.980Z","shadowCopyCode":"ZWNobyAiSGVsbG8gV29ybGQi","id":"5eb08f2b94dadd7ec1898304","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"ScratchPadPY","scriptType":0,"code":"cHJpbnQgQGtwZygicGhyYXNlIik=","shadowCopyCode":"cHJpbnQgQGtwZygicGhyYXNlIik=","lastEditedDate":"2020-06-02T03:18:30.765Z","_teamId":"5de95c0453162e8891f5a830","_originalAuthorUserId":"5e1fac8a7e501cfd86cee31d","_lastEditedUserId":"5e1fac8a7e501cfd86cee31d","id":"5ed5c506759b110015403a10","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"Hello","scriptType":2,"code":"ZWNobyAiaGVsbG8gd29ybGQhIg==","shadowCopyCode":"ZWNobyAiaGVsbG8gd29ybGQhIg==","lastEditedDate":"2020-04-18T16:17:02.302Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b27fecd01580015f02be8","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"Goodbye","scriptType":0,"code":"cHJpbnQgJ2dvb2RieWUgd29ybGQhJwo=","shadowCopyCode":"cHJpbnQgJ2dvb2RieWUgd29ybGQhJwo=","lastEditedDate":"2020-04-18T16:25:13.837Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b29e9cd01580015f02c36","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"jscript","scriptType":1,"code":"Y29uc29sZS5sb2coJ0hlbGxvIGZyb20gJywgcHJvY2Vzcy5hcmd2WzJdKQ==","shadowCopyCode":"Y29uc29sZS5sb2coJ0hlbGxvIGZyb20gJywgcHJvY2Vzcy5hcmd2WzJdKQ==","lastEditedDate":"2020-04-18T16:46:06.049Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b2ececd01580015f02c61","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"Hello_Bug","scriptType":2,"code":"ZWNobyAnaGVsbG8gd29ybGQh","shadowCopyCode":"ZWNobyAnaGVsbG8gd29ybGQh","lastEditedDate":"2020-04-18T21:53:33.170Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b76dde8875a0015a24ecd","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"Hello_Arg","scriptType":2,"code":"ZWNobyAiaGVsbG8gJDEhIg==","shadowCopyCode":"ZWNobyAiaGVsbG8gJDEhIg==","lastEditedDate":"2020-04-18T21:54:18.742Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b770ae8875a0015a24ece","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"Hello_EnvVar","scriptType":2,"code":"ZWNobyAiaGVsbG8gJE1ZX0VOVl9WQVIhIg==","shadowCopyCode":"ZWNobyAiaGVsbG8gJE1ZX0VOVl9WQVIhIg==","lastEditedDate":"2020-04-18T21:54:39.818Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b771fe8875a0015a24ecf","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"Goodbye_RuntimeVar","scriptType":0,"code":"cHJpbnQgJ2dvb2RieWUgQGtwZygibmFtZSIpISc=","shadowCopyCode":"cHJpbnQgJ2dvb2RieWUgQGtwZygibmFtZSIpISc=","lastEditedDate":"2020-04-18T21:56:01.566Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b7771e8875a0015a24ed1","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"Hello_RuntimeVar","scriptType":2,"code":"ZWNobyAnaGVsbG8gQGtwZygibmFtZSIpISc=","shadowCopyCode":"ZWNobyAnaGVsbG8gQGtwZygibmFtZSIpISc=","lastEditedDate":"2020-04-18T22:32:28.075Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b7ffde8875a0015a24f08","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"PrintMessage","scriptType":1,"code":"Y29uc29sZS5sb2cocHJvY2Vzcy5hcmd2WzJdKTs=","shadowCopyCode":"Y29uc29sZS5sb2cocHJvY2Vzcy5hcmd2WzJdKTs=","lastEditedDate":"2020-04-18T23:38:41.622Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b8f812ac79d0015a80a4a","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"HelloJava_agent001","scriptType":2,"code":"amF2YSAtY3AgLyBIZWxsb1dvcmxk","shadowCopyCode":"amF2YSAtY3AgLyBIZWxsb1dvcmxk","lastEditedDate":"2020-04-23T05:28:09.095Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5ea12769d0e2b3001591bd0a","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"HelloJavaArtifact_agent001","scriptType":2,"code":"amF2YSBIZWxsb0FyZ3VtZW50ICQx","shadowCopyCode":"amF2YSBIZWxsb0FyZ3VtZW50ICQx","lastEditedDate":"2020-04-23T05:45:27.926Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5ea12b77d0e2b3001591bd17","version":0},{"orgUsable":true,"orgEditable":true,"isActive":true,"_teamId":"5e99cbcb2317950015edb655","name":"cron-ip-172-31-93-56.ec2.internal-du5BJ","scriptType":2,"code":"ImhlbGxvIHRoZXJlIiA+IG91dC50eHQ=","shadowCopyCode":"ImhlbGxvIHRoZXJlIiA+IG91dC50eHQ=","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","lastEditedDate":"2020-05-16T00:49:01.866Z","id":"5ebf387d615271382b431920","version":0},{"orgUsable":true,"orgEditable":true,"isActive":true,"_teamId":"5e99cbcb2317950015edb655","name":"cron-ip-172-31-93-56.ec2.internal-0oJRG","scriptType":2,"code":"ZWNobyAiaGVsbG8gdGhlcmUiID4gb3V0LnR4dA==","shadowCopyCode":"ZWNobyAiaGVsbG8gdGhlcmUiID4gb3V0LnR4dA==","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","lastEditedDate":"2020-05-16T00:59:13.758Z","id":"5ebf3ae1615271382b431925","version":0},{"orgUsable":true,"orgEditable":true,"isActive":true,"_teamId":"5e99cbcb2317950015edb655","name":"cron-ip-172-31-93-56.ec2.internal-3OSTR","scriptType":2,"code":"ImhlbGxvIHRoZXJlIiA+IG91dC50eHQ=","shadowCopyCode":"ImhlbGxvIHRoZXJlIiA+IG91dC50eHQ=","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","lastEditedDate":"2020-05-16T01:05:13.846Z","id":"5ebf3c49615271382b43192a","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"bart1","scriptType":1,"code":"Y29uc29sZS5sb2coJ0hlbGxvIEJhcnQnKTs=","shadowCopyCode":"Y29uc29sZS5sb2coJ0hlbGxvIEJhcnQnKTs=","lastEditedDate":"2020-05-17T14:20:36.506Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5ec14834615271382b43192e","version":0},{"orgUsable":true,"orgEditable":true,"isActive":true,"_teamId":"5e99cbcb2317950015edb655","name":"cron-richwood-macbook.local-yUZqY","scriptType":2,"code":"Y2Qgfi9kZXYgJiYgLi9jcm9udGVzdC5zaCA+IGNyb25vdXQudHh0","shadowCopyCode":"Y2Qgfi9kZXYgJiYgLi9jcm9udGVzdC5zaCA+IGNyb25vdXQudHh0","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","lastEditedDate":"2020-05-20T22:59:51.101Z","id":"5ec5b667f54571001520e097","version":0},{"orgUsable":true,"orgEditable":true,"isActive":true,"_teamId":"5e99cbcb2317950015edb655","name":"cron-ip-172-31-93-56.ec2.internal-9sz1w","scriptType":2,"code":"ImhlbGxvIHRoZXJlIiA+IG91dC50eHQ=","shadowCopyCode":"ImhlbGxvIHRoZXJlIiA+IG91dC50eHQ=","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","lastEditedDate":"2020-05-21T02:54:48.787Z","id":"5ec5ed7852a8ff00151fefec","version":0},{"orgUsable":true,"orgEditable":true,"isActive":true,"_teamId":"5e99cbcb2317950015edb655","name":"cron-richwood-macbook.local-zcI0X","scriptType":2,"code":"J2hlbGxvIHdvcmxkJw==","shadowCopyCode":"J2hlbGxvIHdvcmxkJw==","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","lastEditedDate":"2020-05-25T20:23:57.869Z","id":"5ecc295d68983400154166cc","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"hello","scriptType":1,"code":" ","shadowCopyCode":"Y29uc29sZS5sb2coJ2hpJyk=","lastEditedDate":"2020-05-25T21:48:02.830Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5ecc3d1268983400154168ce","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MsIG1pbkNvdW50LCBtYXhDb3VudCk6CiAgICBwcmludCAnQ2hlY2tpbmcgZm9yIGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdCh0YWdzKQogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgcmVzID0gZ2V0X3J1bm5pbmdfaW5zdGFuY2VzX3dpdGhfdGFncyh0YWdzKQogICAgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPSBsZW4ocmVzKQogICAgcHJpbnQgJ0ZvdW5kIHt9IGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdChudW1FeGlzdGluZ0luc3RhbmNlcywgdGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKCiAgICBpZiBudW1FeGlzdGluZ0luc3RhbmNlcyA8IEBrcGcoIk1pbkNvdW50Iik6CiAgICAgICAgaWYgbm90IHBhdGguZXhpc3RzKCdib290c3RyYXAtZWMyLnB5Jyk6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbiAoJ0ZpbGUgYm9vdHN0cmFwLWVjMi5weSBub3QgZm91bmQnKQoKICAgICAgICB3aXRoIG9wZW4oJ2Jvb3RzdHJhcC1lYzIucHknLCAncicpIGFzIGZpbGU6CiAgICAgICAgICAgIGRhdGEgPSBmaWxlLnJlYWQoKQoKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbb3JnSWRdJywgJyJAa3BnKCJvcmdJZCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICciQGtwZygiZW1haWwiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twYXNzd29yZF0nLCAnIkBrcGcoInBhc3N3b3JkIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbd29ya2luZ2Rpcl0nLCAnIkBrcGcoIndvcmtpbmdkaXIiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tjb25maWddJywgJ3sidGFncyI6IEBrcGcoInRhZ3MiKSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiQGtwZyhJbmFjdGl2ZUFnZW50U2NyaXB0SWQpIn0sICJhcmd1bWVudHMiOiAiIiwgInZhcmlhYmxlcyI6IHsiQVdTX0FDQ0VTU19LRVlfSUQiOiAiQGtwZyhBV1NfQUNDRVNTX0tFWV9JRCkiLCAiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZIjogIkBrcGcoQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKSJ9fSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiBAa3BnKGluYWN0aXZlUGVyaW9kV2FpdFRpbWUpfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKEBrcGcoSW1hZ2VJZCksIEBrcGcoS2V5TmFtZSksIEBrcGcoSW5zdGFuY2VUeXBlKSwgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgQGtwZyhTdWJuZXRJZCksIEBrcGcoVnBjSWQpLCBtaW5Db3VudCwgbWF4Q291bnQsIGJhc2U2NF9ieXRlcywgQGtwZyhJQU1Sb2xlKSwgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncywgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpKQplbGlmIHJlc1snc3RhdHVzQ29kZSddICE9IDIwMDoKICAgIG1zZyA9ICdDYWxsIHRvIGdldCBhZ2VudHMgd2l0aCB0YWdzIGZhaWxlZCcKICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCmVsc2U6CiAgICBjbnRSdW5uaW5nQWdlbnRzID0gbGVuKHJlc1snZGF0YSddKQogICAgaWYgY250UnVubmluZ0FnZW50cyA8IEBrcGcoTWF4Q291bnQpOgogICAgICAgIG51bUFnZW50c1RvU3RhcnQgPSBAa3BnKE1heENvdW50KSAtIGNudFJ1bm5pbmdBZ2VudHMKICAgICAgICBwcmludCAnTGVzcyB0aGFuIEBrcGcoTWF4Q291bnQpIGFnZW50cyB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUocyknCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcih0YWdzLCBAa3BnKE1pbkNvdW50KSwgbnVtQWdlbnRzVG9TdGFydCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ0BrcGcoTWF4Q291bnQpIGFnZW50KHMpIHdpdGggdGFncyAiQGtwZygidGFncyIpIiBhbHJlYWR5IHJ1bm5pbmcnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaA==","shadowCopyCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MsIG1pbkNvdW50LCBtYXhDb3VudCk6CiAgICBwcmludCAnQ2hlY2tpbmcgZm9yIGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdCh0YWdzKQogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgcmVzID0gZ2V0X3J1bm5pbmdfaW5zdGFuY2VzX3dpdGhfdGFncyh0YWdzKQogICAgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPSBsZW4ocmVzKQogICAgcHJpbnQgJ0ZvdW5kIHt9IGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdChudW1FeGlzdGluZ0luc3RhbmNlcywgdGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKCiAgICBpZiBudW1FeGlzdGluZ0luc3RhbmNlcyA8IEBrcGcoIk1pbkNvdW50Iik6CiAgICAgICAgaWYgbm90IHBhdGguZXhpc3RzKCdib290c3RyYXAtZWMyLnB5Jyk6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbiAoJ0ZpbGUgYm9vdHN0cmFwLWVjMi5weSBub3QgZm91bmQnKQoKICAgICAgICB3aXRoIG9wZW4oJ2Jvb3RzdHJhcC1lYzIucHknLCAncicpIGFzIGZpbGU6CiAgICAgICAgICAgIGRhdGEgPSBmaWxlLnJlYWQoKQoKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbb3JnSWRdJywgJyJAa3BnKCJvcmdJZCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICciQGtwZygiZW1haWwiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twYXNzd29yZF0nLCAnIkBrcGcoInBhc3N3b3JkIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbd29ya2luZ2Rpcl0nLCAnIkBrcGcoIndvcmtpbmdkaXIiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tjb25maWddJywgJ3sidGFncyI6IEBrcGcoInRhZ3MiKSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiQGtwZyhJbmFjdGl2ZUFnZW50U2NyaXB0SWQpIn0sICJhcmd1bWVudHMiOiAiIiwgInZhcmlhYmxlcyI6IHsiQVdTX0FDQ0VTU19LRVlfSUQiOiAiQGtwZyhBV1NfQUNDRVNTX0tFWV9JRCkiLCAiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZIjogIkBrcGcoQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKSJ9fSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiBAa3BnKGluYWN0aXZlUGVyaW9kV2FpdFRpbWUpfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKEBrcGcoSW1hZ2VJZCksIEBrcGcoS2V5TmFtZSksIEBrcGcoSW5zdGFuY2VUeXBlKSwgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgQGtwZyhTdWJuZXRJZCksIEBrcGcoVnBjSWQpLCBtaW5Db3VudCwgbWF4Q291bnQsIGJhc2U2NF9ieXRlcywgQGtwZyhJQU1Sb2xlKSwgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncywgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpKQplbGlmIHJlc1snc3RhdHVzQ29kZSddICE9IDIwMDoKICAgIG1zZyA9ICdDYWxsIHRvIGdldCBhZ2VudHMgd2l0aCB0YWdzIGZhaWxlZCcKICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCmVsc2U6CiAgICBjbnRSdW5uaW5nQWdlbnRzID0gbGVuKHJlc1snZGF0YSddKQogICAgaWYgY250UnVubmluZ0FnZW50cyA8IEBrcGcoTWF4Q291bnQpOgogICAgICAgIG51bUFnZW50c1RvU3RhcnQgPSBAa3BnKE1heENvdW50KSAtIGNudFJ1bm5pbmdBZ2VudHMKICAgICAgICBwcmludCAnTGVzcyB0aGFuIEBrcGcoTWF4Q291bnQpIGFnZW50cyB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUocyknCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcih0YWdzLCBAa3BnKE1pbkNvdW50KSwgbnVtQWdlbnRzVG9TdGFydCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ0BrcGcoTWF4Q291bnQpIGFnZW50KHMpIHdpdGggdGFncyAiQGtwZygidGFncyIpIiBhbHJlYWR5IHJ1bm5pbmcnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaA==","lastEditedDate":"2020-06-02T03:23:02.982Z","_teamId":"5de95c0453162e8891f5a830","_originalAuthorUserId":"5e1fac8a7e501cfd86cee31d","_lastEditedUserId":"5e1fac8a7e501cfd86cee31d","id":"5ed5c616759b110015403a21","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"TerminateHostEC2","scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","shadowCopyCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","lastEditedDate":"2020-06-02T04:24:21.618Z","_teamId":"5de95c0453162e8891f5a830","_originalAuthorUserId":"5e1fac8a7e501cfd86cee31d","_lastEditedUserId":"5e1fac8a7e501cfd86cee31d","id":"5ed5d475759b110015403a49","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"Goodbye_Route","scriptType":0,"code":"ZnJvbSByYW5kb20gaW1wb3J0IHNlZWQKZnJvbSByYW5kb20gaW1wb3J0IHJhbmRpbnQKCnByaW50ICdnb29kYnllIEBrcGcoIm5hbWUiKSEnCnByaW50ICdtZXNzYWdlIGZyb20gIkhlbGxvIFRhc2siID0gIkBrcGcoIm1zZyIpIicKCnJvdXRlID0gcmFuZGludCgxLDIpCnByaW50ICdAa3Bve3sicm91dGUiOiJ7fSJ9fScuZm9ybWF0KHJvdXRlKQ==","shadowCopyCode":"ZnJvbSByYW5kb20gaW1wb3J0IHNlZWQKZnJvbSByYW5kb20gaW1wb3J0IHJhbmRpbnQKCnByaW50ICdnb29kYnllIEBrcGcoIm5hbWUiKSEnCnByaW50ICdtZXNzYWdlIGZyb20gIkhlbGxvIFRhc2siID0gIkBrcGcoIm1zZyIpIicKCnJvdXRlID0gcmFuZGludCgxLDIpCnByaW50ICdAa3Bve3sicm91dGUiOiJ7fSJ9fScuZm9ybWF0KHJvdXRlKQ==","lastEditedDate":"2020-04-18T21:55:27.164Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b774fe8875a0015a24ed0","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"Goodbye_DynamicRuntimeVar","scriptType":0,"code":"cHJpbnQgJ2dvb2RieWUgQGtwZygibmFtZSIpIScKcHJpbnQgJ21lc3NhZ2UgZnJvbSAiSGVsbG8gVGFzayIgPSAiQGtwZygibXNnIikiJw==","shadowCopyCode":"cHJpbnQgJ2dvb2RieWUgQGtwZygibmFtZSIpIScKcHJpbnQgJ21lc3NhZ2UgZnJvbSAiSGVsbG8gVGFzayIgPSAiQGtwZygibXNnIikiJw==","lastEditedDate":"2020-04-18T21:58:37.932Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b780ee8875a0015a24ed2","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"Hello_DynamicRTVar","scriptType":2,"code":"ZWNobyAiaGVsbG8gQGtwZygibmFtZSIpISIKZWNobyAnQGtwb3sibmFtZSI6IkJpbGx5Sm9lIn0nCmVjaG8gJ0BrcG97Im1zZyI6IkkgY2hhbmdlZCB0aGUgbmFtZSBmcm9tIEBrcGcoIm5hbWUiKSB0byBCaWxseUpvZSJ9Jw==","shadowCopyCode":"ZWNobyAiaGVsbG8gQGtwZygibmFtZSIpISIKZWNobyAnQGtwb3sibmFtZSI6IkJpbGx5Sm9lIn0nCmVjaG8gJ0BrcG97Im1zZyI6IkkgY2hhbmdlZCB0aGUgbmFtZSBmcm9tIEBrcGcoIm5hbWUiKSB0byBCaWxseUpvZSJ9Jw==","lastEditedDate":"2020-04-18T22:55:22.486Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b855ae8875a0015a24f15","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"ShellWkspc","scriptType":2,"code":"ZWNobyAkT1NUWVBFCmlmIFtbICIkT1NUWVBFIiA9PSAibGludXgtZ251IiBdXTsgdGhlbgogIGVjaG8gImNoZWNraW5nIGlmIG5vZGVqcyBpbnN0YWxsZWQiCiAgUEtHX09LPSQoZHBrZy1xdWVyeSAtVyAtZj0nJHtTdGF0dXN9JyBub2RlanMgMj4vZGV2L251bGwgfCBncmVwIC1jICJvayBpbnN0YWxsZWQiKQogIGlmIFsgIjAiID09ICIkUEtHX09LIiBdOyB0aGVuCiAgICBlY2hvICJub2RlanMgbm90IGluc3RhbGxlZCAtIGluc3RhbGxpbmciCiAgICBjdXJsIC1zTCBodHRwczovL2RlYi5ub2Rlc291cmNlLmNvbS9zZXR1cF8xMC54IC1vIG5vZGVzb3VyY2Vfc2V0dXAuc2gKICAgIGNobW9kICt4IG5vZGVzb3VyY2Vfc2V0dXAuc2gKICAgIC4vbm9kZXNvdXJjZV9zZXR1cC5zaAogICAgYXB0IGluc3RhbGwgbm9kZWpzCiAgICBub2RlIC0tdmVyc2lvbgogIGVsc2UKICAgIGVjaG8gIm5vZGVqcyBhbHJlYWR5IGluc3RhbGxlZCIKICBmaQpmaQ==","shadowCopyCode":"ZWNobyAkT1NUWVBFCmlmIFtbICIkT1NUWVBFIiA9PSAibGludXgtZ251IiBdXTsgdGhlbgogIGVjaG8gImNoZWNraW5nIGlmIG5vZGVqcyBpbnN0YWxsZWQiCiAgUEtHX09LPSQoZHBrZy1xdWVyeSAtVyAtZj0nJHtTdGF0dXN9JyBub2RlanMgMj4vZGV2L251bGwgfCBncmVwIC1jICJvayBpbnN0YWxsZWQiKQogIGlmIFsgIjAiID09ICIkUEtHX09LIiBdOyB0aGVuCiAgICBlY2hvICJub2RlanMgbm90IGluc3RhbGxlZCAtIGluc3RhbGxpbmciCiAgICBjdXJsIC1zTCBodHRwczovL2RlYi5ub2Rlc291cmNlLmNvbS9zZXR1cF8xMC54IC1vIG5vZGVzb3VyY2Vfc2V0dXAuc2gKICAgIGNobW9kICt4IG5vZGVzb3VyY2Vfc2V0dXAuc2gKICAgIC4vbm9kZXNvdXJjZV9zZXR1cC5zaAogICAgYXB0IGluc3RhbGwgbm9kZWpzCiAgICBub2RlIC0tdmVyc2lvbgogIGVsc2UKICAgIGVjaG8gIm5vZGVqcyBhbHJlYWR5IGluc3RhbGxlZCIKICBmaQpmaQ==","lastEditedDate":"2020-04-18T23:49:53.663Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9b92212ac79d0015a80a8f","version":0},{"orgUsable":true,"orgEditable":false,"isActive":true,"name":"Node10Install","scriptType":2,"code":"IyEvYmluL2Jhc2gKZWNobyAiT1NUWVBFID09PSAkT1NUWVBFIgppZiBbWyAiJE9TVFlQRSIgPT0gImxpbnV4LWdudSIgXV07IHRoZW4KICBPU19JRD0kKGF3ayAtRj0gJyQxPT0iSUQiIHsgcHJpbnQgJDIgO30nIC9ldGMvb3MtcmVsZWFzZSkKICBlY2hvICJPU19JRCA9PT0gJE9TX0lEIgogIGlmIFsgImRlYmlhbiIgPT0gIiRPU19JRCIgXTsgdGhlbgogICAgZWNobyAiY2hlY2tpbmcgaWYgbm9kZWpzIGluc3RhbGxlZCIKICAgIFBLR19PSz0kKGRwa2ctcXVlcnkgLVcgLWY9JyR7U3RhdHVzfScgbm9kZWpzIDI+L2Rldi9udWxsIHwgZ3JlcCAtYyAib2sgaW5zdGFsbGVkIikKICAgIGlmIFsgIjAiID09ICIkUEtHX09LIiBdOyB0aGVuCiAgICAgIGVjaG8gIm5vZGVqcyBub3QgaW5zdGFsbGVkIC0gaW5zdGFsbGluZyIKICAgICAgY3VybCAtc0wgaHR0cHM6Ly9kZWIubm9kZXNvdXJjZS5jb20vc2V0dXBfMTAueCAtbyBub2Rlc291cmNlX3NldHVwLnNoCiAgICAgICgoIEVVSUQgKSkgJiYgeyBzdWRvIGNobW9kICt4IG5vZGVzb3VyY2Vfc2V0dXAuc2g7IH0gfHwgY2htb2QgK3ggbm9kZXNvdXJjZV9zZXR1cC5zaAogICAgICAuL25vZGVzb3VyY2Vfc2V0dXAuc2gKICAgICAgKCggRVVJRCApKSAmJiB7IHN1ZG8gYXB0IGluc3RhbGwgbm9kZWpzOyB9IHx8IGFwdCBpbnN0YWxsIG5vZGVqcwogICAgICBub2RlIC0tdmVyc2lvbgogICAgZWxzZQogICAgICBlY2hvICJub2RlanMgYWxyZWFkeSBpbnN0YWxsZWQiCiAgICBmaQogIGZpCmZp","shadowCopyCode":"IyEvYmluL2Jhc2gKZWNobyAiT1NUWVBFID09PSAkT1NUWVBFIgppZiBbWyAiJE9TVFlQRSIgPT0gImxpbnV4LWdudSIgXV07IHRoZW4KICBPU19JRD0kKGF3ayAtRj0gJyQxPT0iSUQiIHsgcHJpbnQgJDIgO30nIC9ldGMvb3MtcmVsZWFzZSkKICBlY2hvICJPU19JRCA9PT0gJE9TX0lEIgogIGlmIFsgImRlYmlhbiIgPT0gIiRPU19JRCIgXTsgdGhlbgogICAgZWNobyAiY2hlY2tpbmcgaWYgbm9kZWpzIGluc3RhbGxlZCIKICAgIFBLR19PSz0kKGRwa2ctcXVlcnkgLVcgLWY9JyR7U3RhdHVzfScgbm9kZWpzIDI+L2Rldi9udWxsIHwgZ3JlcCAtYyAib2sgaW5zdGFsbGVkIikKICAgIGlmIFsgIjAiID09ICIkUEtHX09LIiBdOyB0aGVuCiAgICAgIGVjaG8gIm5vZGVqcyBub3QgaW5zdGFsbGVkIC0gaW5zdGFsbGluZyIKICAgICAgY3VybCAtc0wgaHR0cHM6Ly9kZWIubm9kZXNvdXJjZS5jb20vc2V0dXBfMTAueCAtbyBub2Rlc291cmNlX3NldHVwLnNoCiAgICAgICgoIEVVSUQgKSkgJiYgeyBzdWRvIGNobW9kICt4IG5vZGVzb3VyY2Vfc2V0dXAuc2g7IH0gfHwgY2htb2QgK3ggbm9kZXNvdXJjZV9zZXR1cC5zaAogICAgICAuL25vZGVzb3VyY2Vfc2V0dXAuc2gKICAgICAgKCggRVVJRCApKSAmJiB7IHN1ZG8gYXB0IGluc3RhbGwgbm9kZWpzOyB9IHx8IGFwdCBpbnN0YWxsIG5vZGVqcwogICAgICBub2RlIC0tdmVyc2lvbgogICAgZWxzZQogICAgICBlY2hvICJub2RlanMgYWxyZWFkeSBpbnN0YWxsZWQiCiAgICBmaQogIGZpCmZp","lastEditedDate":"2020-04-19T01:01:38.106Z","_teamId":"5e99cbcb2317950015edb655","_originalAuthorUserId":"5e99cb8e2317950015edb654","_lastEditedUserId":"5e99cb8e2317950015edb654","id":"5e9ba2f22ac79d0015a80b12","version":0}],"step":[{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d50759b110015403af6","_taskId":"5ed67d50759b110015403af7","id":"5ed67d50759b110015403af8","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":0,"code":"cHJpbnQgQGtwZygicGhyYXNlIik="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c52b759b110015403a16","_taskId":"5ed5c52b759b110015403a17","id":"5ed5c52b759b110015403a18","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d32759b110015403af1","_taskId":"5ed67d32759b110015403af2","id":"5ed67d32759b110015403af3","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d6e759b110015403afb","_taskId":"5ed67d6e759b110015403afc","id":"5ed67d6e759b110015403afd","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d8d759b110015403b00","_taskId":"5ed67d8d759b110015403b01","id":"5ed67d8d759b110015403b02","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67dab759b110015403b05","_taskId":"5ed67dab759b110015403b06","id":"5ed67dab759b110015403b07","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67dc9759b110015403b0a","_taskId":"5ed67dc9759b110015403b0b","id":"5ed67dc9759b110015403b0c","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":0,"code":"cHJpbnQgQGtwZyhwaHJhc2Up"},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c519759b110015403a11","_taskId":"5ed5c519759b110015403a12","id":"5ed5c519759b110015403a13","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c8c8759b110015403a22","_taskId":"5ed5c8c8759b110015403a23","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICciQGtwZygiZW1haWwiKSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFnc19qc29uIil9Jyk7CiAgICAgICAgCiAgICAgICAgZGF0YV9ieXRlcyA9IGRhdGEuZW5jb2RlKCd1dGY4JykKICAgICAgICBiYXNlNjRfYnl0ZXMgPSBiYXNlNjQuYjY0ZW5jb2RlKGRhdGFfYnl0ZXMpCgogICAgICAgIGxhdW5jaF9lYzJfaW5zdGFuY2UoJ0BrcGcoSW1hZ2VJZCknLCBAa3BnKEtleU5hbWUpLCBAa3BnKEluc3RhbmNlVHlwZSksIEBrcGcoU2VjdXJpdHlHcm91cElkcyksIEBrcGcoU3VibmV0SWQpLCBAa3BnKFZwY0lkKSwgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpLCBiYXNlNjRfYnl0ZXMpCiAgICAgICAgIyBvcy5zeXN0ZW0oJ2F3cyBlYzIgcnVuLWluc3RhbmNlcyAtLWltYWdlLWlkIGFtaS0wOTllODgyYjA4NzZjODEyNCAtLWNvdW50IDEgLS1pbnN0YW5jZS10eXBlIHQxLm1pY3JvIC0ta2V5LW5hbWUga2lraS0yMDE5UTEgLS1zdWJuZXQtaWQgc3VibmV0LWQ0N2EyYmZhIC0tc2VjdXJpdHktZ3JvdXAtaWRzIHNnLTAzNmRlMjUzN2MwNTlhNGFmIC0tdXNlci1kYXRhIHt9Jy5mb3JtYXQoYmFzZTY0X2J5dGVzKSkKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzX2pzb24iKScpCnRhZ3NBcnJheSA9IFtdCmZvciB0IGluIHRhZ3M6CiAgICB0YWdzQXJyYXkuYXBwZW5kKHsna2V5JzogdCwgJ3ZhbHVlJzogdGFnc1t0XX0pCmFnZW50UXVlcnkgPSBSZXN0QVBJQ2FsbCgnaHR0cHM6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2FwaS92MC9hZ2VudC90YWdzL3t9P3Jlc3BvbnNlRmllbGRzPWlkJy5mb3JtYXQoanNvbi5kdW1wcyh0YWdzQXJyYXkpKSwgJ0dFVCcsIHt9KQoKcmVzID0gYWdlbnRRdWVyeS5qc29uKCkKaWYgcmVzWydzdGF0dXNDb2RlJ10gPT0gNDA0OgogICAgcHJpbnQgJ05vIGFnZW50IHdpdGggdGFncyAiQGtwZygidGFnc19qc29uIikiIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPT0gMDoKICAgICAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzX2pzb24iKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzX2pzb24iKSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g="},"id":"5ed5c8c8759b110015403a24","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c91a759b110015403a27","_taskId":"5ed5c91a759b110015403a28","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICciQGtwZygiZW1haWwiKSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFnc19qc29uIil9Jyk7CiAgICAgICAgCiAgICAgICAgZGF0YV9ieXRlcyA9IGRhdGEuZW5jb2RlKCd1dGY4JykKICAgICAgICBiYXNlNjRfYnl0ZXMgPSBiYXNlNjQuYjY0ZW5jb2RlKGRhdGFfYnl0ZXMpCgogICAgICAgIGxhdW5jaF9lYzJfaW5zdGFuY2UoJ0BrcGcoSW1hZ2VJZCknLCAnQGtwZyhLZXlOYW1lKScsICdAa3BnKEluc3RhbmNlVHlwZSknLCBAa3BnKFNlY3VyaXR5R3JvdXBJZHMpLCAnQGtwZyhTdWJuZXRJZCknLCAnQGtwZyhWcGNJZCknLCBAa3BnKE1pbkNvdW50KSwgQGtwZyhNYXhDb3VudCksIGJhc2U2NF9ieXRlcykKICAgICAgICAjIG9zLnN5c3RlbSgnYXdzIGVjMiBydW4taW5zdGFuY2VzIC0taW1hZ2UtaWQgYW1pLTA5OWU4ODJiMDg3NmM4MTI0IC0tY291bnQgMSAtLWluc3RhbmNlLXR5cGUgdDEubWljcm8gLS1rZXktbmFtZSBraWtpLTIwMTlRMSAtLXN1Ym5ldC1pZCBzdWJuZXQtZDQ3YTJiZmEgLS1zZWN1cml0eS1ncm91cC1pZHMgc2ctMDM2ZGUyNTM3YzA1OWE0YWYgLS11c2VyLWRhdGEge30nLmZvcm1hdChiYXNlNjRfYnl0ZXMpKQoKCmRlZiBSZXN0QVBJQ2FsbCh1cmwsIG1ldGhvZCwgaGVhZGVycywgZGF0YT17fSk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB0cnk6CiAgICAgICAgZGVmYXVsdF9oZWFkZXJzID0gewogICAgICAgICAgICAnQ29va2llJzogJ0F1dGg9e307Jy5mb3JtYXQodG9rZW4pLAogICAgICAgICAgICAnX29yZ0lkJzogJ0BrcGcoIm9yZ0lkIiknCiAgICAgICAgfQoKICAgICAgICBoZWFkZXJzLnVwZGF0ZShkZWZhdWx0X2hlYWRlcnMpCgogICAgICAgIGlmIG1ldGhvZCA9PSAnUE9TVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ1BVVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLnB1dCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnR0VUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMuZ2V0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycykKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oJ3t9IG1ldGhvZCBub3Qgc3VwcG9ydGVkJy5mb3JtYXQobWV0aG9kKSkKICAgICAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgc3RyKHJlc1snc3RhdHVzX2NvZGUnXSlbMF0gIT0gJzInOgogICAgICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQogICAgICAgIAogICAgICAgIHJldHVybiByZXMKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXg6CiAgICAgICAgcHJpbnQgeydNZXRob2QnOiAnUmVzdEFQSUNhbGwnLCAnRXJyb3InOiBleCwgJ3VybCc6IHVybCwgJ21ldGhvZCc6IG1ldGhvZCwgJ19vcmdJZCc6IF9vcmdJZCwgJ2hlYWRlcnMnOiBoZWFkZXJzLCAnZGF0YSc6IGRhdGF9CiAgICAgICAgcmFpc2UgZXgKCgpkZWYgUmVzdEFQSUxvZ2luKCk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB1cmwgPSAnaHR0cDovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vbG9naW4vYXBpTG9naW4nCiAgICAKICAgIGhlYWRlcnMgPSB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgfQoKICAgIGRhdGEgPSB7CiAgICAgICAgJ2VtYWlsJzogJ0BrcGcoImVtYWlsIiknLAogICAgICAgICdwYXNzd29yZCc6ICdAa3BnKCJwYXNzd29yZCIpJwogICAgfQoKICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWpzb24uZHVtcHMoZGF0YSkpCiAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgcmVzWydzdGF0dXNfY29kZSddICE9IDIwMDoKICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCgogICAgdG9rZW4gPSByZXMuY29va2llcy5nZXRfZGljdCgpWydBdXRoJ10KCgp3aGlsZSB0b2tlbiA9PSAnJzoKICAgIFJlc3RBUElMb2dpbigpCiAgICBpZiB0b2tlbiA9PSAnJzoKICAgICAgICBwcmludCAnQVBJIGxvZ2luIGZhaWxlZCcKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgdGltZS5zbGVlcCg1KQogICAgICAgIHByaW50ICdSZXRyeWluZyBhcGkgbG9naW4nCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKdGFncyA9IGpzb24ubG9hZHMoJ0BrcGcoInRhZ3NfanNvbiIpJykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzX2pzb24iKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3NfanNvbiIpIiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZScKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ0F0IGxlYXN0IG9uZSBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3NfanNvbiIpIiBhbHJlYWR5IHJ1bm5pbmcnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaA=="},"id":"5ed5c91a759b110015403a29","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c957759b110015403a2c","_taskId":"5ed5c957759b110015403a2d","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICciQGtwZygiZW1haWwiKSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFncyIpfScpOwogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKCdAa3BnKEltYWdlSWQpJywgJ0BrcGcoS2V5TmFtZSknLCAnQGtwZyhJbnN0YW5jZVR5cGUpJywgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgJ0BrcGcoU3VibmV0SWQpJywgJ0BrcGcoVnBjSWQpJywgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpLCBiYXNlNjRfYnl0ZXMpCiAgICAgICAgIyBvcy5zeXN0ZW0oJ2F3cyBlYzIgcnVuLWluc3RhbmNlcyAtLWltYWdlLWlkIGFtaS0wOTllODgyYjA4NzZjODEyNCAtLWNvdW50IDEgLS1pbnN0YW5jZS10eXBlIHQxLm1pY3JvIC0ta2V5LW5hbWUga2lraS0yMDE5UTEgLS1zdWJuZXQtaWQgc3VibmV0LWQ0N2EyYmZhIC0tc2VjdXJpdHktZ3JvdXAtaWRzIHNnLTAzNmRlMjUzN2MwNTlhNGFmIC0tdXNlci1kYXRhIHt9Jy5mb3JtYXQoYmFzZTY0X2J5dGVzKSkKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo"},"id":"5ed5c957759b110015403a2e","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c9a7759b110015403a31","_taskId":"5ed5c9a7759b110015403a32","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICciQGtwZygiZW1haWwiKSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFncyIpfScpOwogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKCdAa3BnKEltYWdlSWQpJywgJ0BrcGcoS2V5TmFtZSknLCAnQGtwZyhJbnN0YW5jZVR5cGUpJywgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgJ0BrcGcoU3VibmV0SWQpJywgJ0BrcGcoVnBjSWQpJywgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpLCBiYXNlNjRfYnl0ZXMpCiAgICAgICAgIyBvcy5zeXN0ZW0oJ2F3cyBlYzIgcnVuLWluc3RhbmNlcyAtLWltYWdlLWlkIGFtaS0wOTllODgyYjA4NzZjODEyNCAtLWNvdW50IDEgLS1pbnN0YW5jZS10eXBlIHQxLm1pY3JvIC0ta2V5LW5hbWUga2lraS0yMDE5UTEgLS1zdWJuZXQtaWQgc3VibmV0LWQ0N2EyYmZhIC0tc2VjdXJpdHktZ3JvdXAtaWRzIHNnLTAzNmRlMjUzN2MwNTlhNGFmIC0tdXNlci1kYXRhIHt9Jy5mb3JtYXQoYmFzZTY0X2J5dGVzKSkKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo"},"id":"5ed5c9a7759b110015403a33","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5ce66759b110015403a37","_taskId":"5ed5ce66759b110015403a38","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICciQGtwZygiZW1haWwiKSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFncyIpfScpOwogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBwcmludChiYXNlNjRfYnl0ZXMpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKCdAa3BnKEltYWdlSWQpJywgJ0BrcGcoS2V5TmFtZSknLCAnQGtwZyhJbnN0YW5jZVR5cGUpJywgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgJ0BrcGcoU3VibmV0SWQpJywgJ0BrcGcoVnBjSWQpJywgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpLCBiYXNlNjRfYnl0ZXMpCiAgICAgICAgIyBvcy5zeXN0ZW0oJ2F3cyBlYzIgcnVuLWluc3RhbmNlcyAtLWltYWdlLWlkIGFtaS0wOTllODgyYjA4NzZjODEyNCAtLWNvdW50IDEgLS1pbnN0YW5jZS10eXBlIHQxLm1pY3JvIC0ta2V5LW5hbWUga2lraS0yMDE5UTEgLS1zdWJuZXQtaWQgc3VibmV0LWQ0N2EyYmZhIC0tc2VjdXJpdHktZ3JvdXAtaWRzIHNnLTAzNmRlMjUzN2MwNTlhNGFmIC0tdXNlci1kYXRhIHt9Jy5mb3JtYXQoYmFzZTY0X2J5dGVzKSkKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo"},"id":"5ed5ce66759b110015403a39","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d095759b110015403a3e","_taskId":"5ed5d095759b110015403a3f","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICciQGtwZygiZW1haWwiKSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFncyIpfScpOwogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBwcmludChiYXNlNjRfYnl0ZXMpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKCdAa3BnKEltYWdlSWQpJywgJ0BrcGcoS2V5TmFtZSknLCAnQGtwZyhJbnN0YW5jZVR5cGUpJywgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgJ0BrcGcoU3VibmV0SWQpJywgJ0BrcGcoVnBjSWQpJywgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpLCBiYXNlNjRfYnl0ZXMsIE5vbmUsIHRhZ3MpCiAgICAgICAgIyBvcy5zeXN0ZW0oJ2F3cyBlYzIgcnVuLWluc3RhbmNlcyAtLWltYWdlLWlkIGFtaS0wOTllODgyYjA4NzZjODEyNCAtLWNvdW50IDEgLS1pbnN0YW5jZS10eXBlIHQxLm1pY3JvIC0ta2V5LW5hbWUga2lraS0yMDE5UTEgLS1zdWJuZXQtaWQgc3VibmV0LWQ0N2EyYmZhIC0tc2VjdXJpdHktZ3JvdXAtaWRzIHNnLTAzNmRlMjUzN2MwNTlhNGFmIC0tdXNlci1kYXRhIHt9Jy5mb3JtYXQoYmFzZTY0X2J5dGVzKSkKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo"},"id":"5ed5d095759b110015403a40","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d0b1759b110015403a43","_taskId":"5ed5d0b1759b110015403a44","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICciQGtwZygiZW1haWwiKSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFncyIpfScpOwogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBwcmludChiYXNlNjRfYnl0ZXMpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKCdAa3BnKEltYWdlSWQpJywgJ0BrcGcoS2V5TmFtZSknLCAnQGtwZyhJbnN0YW5jZVR5cGUpJywgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgJ0BrcGcoU3VibmV0SWQpJywgJ0BrcGcoVnBjSWQpJywgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpLCBiYXNlNjRfYnl0ZXMsIE5vbmUsIHRhZ3MpCiAgICAgICAgIyBvcy5zeXN0ZW0oJ2F3cyBlYzIgcnVuLWluc3RhbmNlcyAtLWltYWdlLWlkIGFtaS0wOTllODgyYjA4NzZjODEyNCAtLWNvdW50IDEgLS1pbnN0YW5jZS10eXBlIHQxLm1pY3JvIC0ta2V5LW5hbWUga2lraS0yMDE5UTEgLS1zdWJuZXQtaWQgc3VibmV0LWQ0N2EyYmZhIC0tc2VjdXJpdHktZ3JvdXAtaWRzIHNnLTAzNmRlMjUzN2MwNTlhNGFmIC0tdXNlci1kYXRhIHt9Jy5mb3JtYXQoYmFzZTY0X2J5dGVzKSkKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo"},"id":"5ed5d0b1759b110015403a45","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d78a759b110015403a4a","_taskId":"5ed5d78a759b110015403a4b","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbZW1haWxdJywgJyJAa3BnKCJlbWFpbCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICciQGtwZygicGFzc3dvcmQiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbYXJjaF0nLCAnTm9uZScpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFncyIpLCAicHJvcGVydHlPdmVycmlkZXMiOiB7ImluYWN0aXZlQWdlbnRUYXNrIjogeyJuYW1lIjogIkluYWN0aXZlQWdlbnRUYXNrIiwgInNjcmlwdCI6IHsgIl9pZCI6ICJAa3BnKEluYWN0aXZlQWdlbnRTY3JpcHRJZCkifSwgImFyZ3VtZW50cyI6ICIifSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiBAa3BnKGluYWN0aXZlUGVyaW9kV2FpdFRpbWUpfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBwcmludChiYXNlNjRfYnl0ZXMpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKCdAa3BnKEltYWdlSWQpJywgJ0BrcGcoS2V5TmFtZSknLCAnQGtwZyhJbnN0YW5jZVR5cGUpJywgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgJ0BrcGcoU3VibmV0SWQpJywgJ0BrcGcoVnBjSWQpJywgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpLCBiYXNlNjRfYnl0ZXMsICdAa3BnKElBTVJvbGUpJywgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo"},"id":"5ed5d78a759b110015403a4c","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d972759b110015403a4f","_taskId":"5ed5d972759b110015403a50","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbZW1haWxdJywgJyJAa3BnKCJlbWFpbCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICciQGtwZygicGFzc3dvcmQiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbYXJjaF0nLCAnTm9uZScpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFncyIpLCAicHJvcGVydHlPdmVycmlkZXMiOiB7ImluYWN0aXZlQWdlbnRUYXNrIjogeyJuYW1lIjogIkluYWN0aXZlQWdlbnRUYXNrIiwgInNjcmlwdCI6IHsgIl9pZCI6ICJAa3BnKEluYWN0aXZlQWdlbnRTY3JpcHRJZCkifSwgImFyZ3VtZW50cyI6ICIifSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiBAa3BnKGluYWN0aXZlUGVyaW9kV2FpdFRpbWUpfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKEBrcGcoSW1hZ2VJZCksIEBrcGcoS2V5TmFtZSksIEBrcGcoSW5zdGFuY2VUeXBlKSwgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgQGtwZyhTdWJuZXRJZCksIEBrcGcoVnBjSWQpLCBAa3BnKE1pbkNvdW50KSwgQGtwZyhNYXhDb3VudCksIGJhc2U2NF9ieXRlcywgQGtwZyhJQU1Sb2xlKSwgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo"},"id":"5ed5d972759b110015403a51","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d9f4759b110015403a55","_taskId":"5ed5d9f4759b110015403a56","id":"5ed5d9f4759b110015403a57","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da17759b110015403a5a","_taskId":"5ed5da17759b110015403a5b","id":"5ed5da17759b110015403a5c","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da35759b110015403a5f","_taskId":"5ed5da35759b110015403a60","id":"5ed5da35759b110015403a61","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da53759b110015403a64","_taskId":"5ed5da53759b110015403a65","id":"5ed5da53759b110015403a66","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da71759b110015403a69","_taskId":"5ed5da71759b110015403a6a","id":"5ed5da71759b110015403a6b","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da90759b110015403a6e","_taskId":"5ed5da90759b110015403a6f","id":"5ed5da90759b110015403a70","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5daae759b110015403a73","_taskId":"5ed5daae759b110015403a74","id":"5ed5daae759b110015403a75","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5dacc759b110015403a78","_taskId":"5ed5dacc759b110015403a79","id":"5ed5dacc759b110015403a7a","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5daea759b110015403a7d","_taskId":"5ed5daea759b110015403a7e","id":"5ed5daea759b110015403a7f","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiBkZXNjcmliZS1pbnN0YW5jZXMgLS1pbnN0YW5jZS1pZHMgJEFXU19JTlNUQU5DRV9JRAo="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed678a0759b110015403a82","_taskId":"5ed678a0759b110015403a83","id":"5ed678a0759b110015403a84","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67a47759b110015403a87","_taskId":"5ed67a47759b110015403a88","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbZW1haWxdJywgJyJAa3BnKCJlbWFpbCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICciQGtwZygicGFzc3dvcmQiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbYXJjaF0nLCAnTm9uZScpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFncyIpLCAicHJvcGVydHlPdmVycmlkZXMiOiB7ImluYWN0aXZlQWdlbnRUYXNrIjogeyJuYW1lIjogIkluYWN0aXZlQWdlbnRUYXNrIiwgInNjcmlwdCI6IHsgIl9pZCI6ICJAa3BnKEluYWN0aXZlQWdlbnRTY3JpcHRJZCkifSwgImFyZ3VtZW50cyI6ICIifSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiBAa3BnKGluYWN0aXZlUGVyaW9kV2FpdFRpbWUpfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKEBrcGcoSW1hZ2VJZCksIEBrcGcoS2V5TmFtZSksIEBrcGcoSW5zdGFuY2VUeXBlKSwgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgQGtwZyhTdWJuZXRJZCksIEBrcGcoVnBjSWQpLCBAa3BnKE1pbkNvdW50KSwgQGtwZyhNYXhDb3VudCksIGJhc2U2NF9ieXRlcywgQGtwZyhJQU1Sb2xlKSwgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo"},"id":"5ed67a47759b110015403a89","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67ad1759b110015403a8d","_taskId":"5ed67ad2759b110015403a8e","id":"5ed67ad2759b110015403a8f","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67af6759b110015403a92","_taskId":"5ed67af6759b110015403a93","id":"5ed67af6759b110015403a94","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b14759b110015403a97","_taskId":"5ed67b14759b110015403a98","id":"5ed67b14759b110015403a99","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b32759b110015403a9c","_taskId":"5ed67b32759b110015403a9d","id":"5ed67b32759b110015403a9e","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b50759b110015403aa1","_taskId":"5ed67b50759b110015403aa2","id":"5ed67b50759b110015403aa3","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b6e759b110015403aa6","_taskId":"5ed67b6e759b110015403aa7","id":"5ed67b6e759b110015403aa8","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b8c759b110015403aab","_taskId":"5ed67b8c759b110015403aac","id":"5ed67b8c759b110015403aad","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67baa759b110015403ab0","_taskId":"5ed67baa759b110015403ab1","id":"5ed67baa759b110015403ab2","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67bc9759b110015403ab5","_taskId":"5ed67bc9759b110015403ab6","id":"5ed67bc9759b110015403ab7","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67be7759b110015403aba","_taskId":"5ed67be7759b110015403abb","id":"5ed67be7759b110015403abc","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c05759b110015403abf","_taskId":"5ed67c05759b110015403ac0","id":"5ed67c05759b110015403ac1","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c23759b110015403ac4","_taskId":"5ed67c23759b110015403ac5","id":"5ed67c23759b110015403ac6","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c41759b110015403ac9","_taskId":"5ed67c41759b110015403aca","id":"5ed67c41759b110015403acb","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c5f759b110015403ace","_taskId":"5ed67c5f759b110015403acf","id":"5ed67c5f759b110015403ad0","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c7d759b110015403ad3","_taskId":"5ed67c7d759b110015403ad4","id":"5ed67c7d759b110015403ad5","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c9c759b110015403ad8","_taskId":"5ed67c9c759b110015403ad9","id":"5ed67c9c759b110015403ada","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cba759b110015403add","_taskId":"5ed67cba759b110015403ade","id":"5ed67cba759b110015403adf","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cd8759b110015403ae2","_taskId":"5ed67cd8759b110015403ae3","id":"5ed67cd8759b110015403ae4","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cf6759b110015403ae7","_taskId":"5ed67cf6759b110015403ae8","id":"5ed67cf6759b110015403ae9","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d14759b110015403aec","_taskId":"5ed67d14759b110015403aed","id":"5ed67d14759b110015403aee","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67de7759b110015403b0f","_taskId":"5ed67de7759b110015403b10","id":"5ed67de7759b110015403b11","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e05759b110015403b14","_taskId":"5ed67e05759b110015403b15","id":"5ed67e05759b110015403b16","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e23759b110015403b19","_taskId":"5ed67e23759b110015403b1a","id":"5ed67e23759b110015403b1b","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e41759b110015403b1e","_taskId":"5ed67e41759b110015403b1f","id":"5ed67e41759b110015403b20","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e8f759b110015403b23","_taskId":"5ed67e8f759b110015403b24","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbZW1haWxdJywgJyJAa3BnKCJlbWFpbCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICciQGtwZygicGFzc3dvcmQiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbYXJjaF0nLCAnTm9uZScpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFncyIpLCAicHJvcGVydHlPdmVycmlkZXMiOiB7ImluYWN0aXZlQWdlbnRUYXNrIjogeyJuYW1lIjogIkluYWN0aXZlQWdlbnRUYXNrIiwgInNjcmlwdCI6IHsgIl9pZCI6ICJAa3BnKEluYWN0aXZlQWdlbnRTY3JpcHRJZCkifSwgImFyZ3VtZW50cyI6ICIiLCAidmFyaWFibGVzIjogIntcIkFXU19BQ0NFU1NfS0VZX0lEXCI6IFwiQGtwZyhBV1NfQUNDRVNTX0tFWV9JRClcIiwgXCJBV1NfU0VDUkVUX0FDQ0VTU19LRVlcIjogXCJAa3BnKEFXU19TRUNSRVRfQUNDRVNTX0tFWSlcIn0ifSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiBAa3BnKGluYWN0aXZlUGVyaW9kV2FpdFRpbWUpfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKEBrcGcoSW1hZ2VJZCksIEBrcGcoS2V5TmFtZSksIEBrcGcoSW5zdGFuY2VUeXBlKSwgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgQGtwZyhTdWJuZXRJZCksIEBrcGcoVnBjSWQpLCBAa3BnKE1pbkNvdW50KSwgQGtwZyhNYXhDb3VudCksIGJhc2U2NF9ieXRlcywgQGtwZyhJQU1Sb2xlKSwgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo"},"id":"5ed67e8f759b110015403b25","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67f74759b110015403b28","_taskId":"5ed67f74759b110015403b29","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJtYXhJbnN0YW5jZXMiKToKICAgICAgICBpZiBub3QgcGF0aC5leGlzdHMoJ2Jvb3RzdHJhcC1lYzIucHknKToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uICgnRmlsZSBib290c3RyYXAtZWMyLnB5IG5vdCBmb3VuZCcpCgogICAgICAgIHdpdGggb3BlbignYm9vdHN0cmFwLWVjMi5weScsICdyJykgYXMgZmlsZToKICAgICAgICAgICAgZGF0YSA9IGZpbGUucmVhZCgpCgogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tvcmdJZF0nLCAnIkBrcGcoIm9yZ0lkIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbZW1haWxdJywgJyJAa3BnKCJlbWFpbCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICciQGtwZygicGFzc3dvcmQiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciQGtwZygid29ya2luZ2RpciIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbYXJjaF0nLCAnTm9uZScpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2NvbmZpZ10nLCAneyJ0YWdzIjogQGtwZygidGFncyIpLCAicHJvcGVydHlPdmVycmlkZXMiOiB7ImluYWN0aXZlQWdlbnRUYXNrIjogeyJuYW1lIjogIkluYWN0aXZlQWdlbnRUYXNrIiwgInNjcmlwdCI6IHsgIl9pZCI6ICJAa3BnKEluYWN0aXZlQWdlbnRTY3JpcHRJZCkifSwgImFyZ3VtZW50cyI6ICIiLCAidmFyaWFibGVzIjogIntcIkFXU19BQ0NFU1NfS0VZX0lEXCI6IFwiQGtwZyhBV1NfQUNDRVNTX0tFWV9JRClcIiwgXCJBV1NfU0VDUkVUX0FDQ0VTU19LRVlcIjogXCJAa3BnKEFXU19TRUNSRVRfQUNDRVNTX0tFWSlcIn0ifSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiBAa3BnKGluYWN0aXZlUGVyaW9kV2FpdFRpbWUpfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKEBrcGcoSW1hZ2VJZCksIEBrcGcoS2V5TmFtZSksIEBrcGcoSW5zdGFuY2VUeXBlKSwgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgQGtwZyhTdWJuZXRJZCksIEBrcGcoVnBjSWQpLCBAa3BnKE1pbkNvdW50KSwgQGtwZyhNYXhDb3VudCksIGJhc2U2NF9ieXRlcywgQGtwZyhJQU1Sb2xlKSwgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo"},"id":"5ed67f74759b110015403b2a","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed681f2759b110015403b2d","_taskId":"5ed681f2759b110015403b2e","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJNaW5Db3VudCIpOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciQGtwZygib3JnSWQiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnIkBrcGcoImVtYWlsIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3dvcmtpbmdkaXJdJywgJyJAa3BnKCJ3b3JraW5nZGlyIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiBAa3BnKCJ0YWdzIiksICJwcm9wZXJ0eU92ZXJyaWRlcyI6IHsiaW5hY3RpdmVBZ2VudFRhc2siOiB7Im5hbWUiOiAiSW5hY3RpdmVBZ2VudFRhc2siLCAic2NyaXB0IjogeyAiX2lkIjogIkBrcGcoSW5hY3RpdmVBZ2VudFNjcmlwdElkKSJ9LCAiYXJndW1lbnRzIjogIiIsICJ2YXJpYWJsZXMiOiAieyJBV1NfQUNDRVNTX0tFWV9JRCI6ICJAa3BnKEFXU19BQ0NFU1NfS0VZX0lEKSIsICJBV1NfU0VDUkVUX0FDQ0VTU19LRVkiOiAiQGtwZyhBV1NfU0VDUkVUX0FDQ0VTU19LRVkpIn0ifSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiBAa3BnKGluYWN0aXZlUGVyaW9kV2FpdFRpbWUpfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKEBrcGcoSW1hZ2VJZCksIEBrcGcoS2V5TmFtZSksIEBrcGcoSW5zdGFuY2VUeXBlKSwgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgQGtwZyhTdWJuZXRJZCksIEBrcGcoVnBjSWQpLCBAa3BnKE1pbkNvdW50KSwgQGtwZyhNYXhDb3VudCksIGJhc2U2NF9ieXRlcywgQGtwZyhJQU1Sb2xlKSwgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA8IEBrcGcoTWF4Q291bnQpOgogICAgICAgIHByaW50ICdMZXNzIHRoYW4gQGtwZyhNYXhDb3VudCkgYWdlbnRzIHdpdGggdGFncyAiQGtwZygidGFncyIpIiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZShzKScKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ0BrcGcoTWF4Q291bnQpIGFnZW50KHMpIHdpdGggdGFncyAiQGtwZygidGFncyIpIiBhbHJlYWR5IHJ1bm5pbmcnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaA=="},"id":"5ed681f2759b110015403b2f","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68483759b110015403b32","_taskId":"5ed68483759b110015403b33","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJNaW5Db3VudCIpOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciQGtwZygib3JnSWQiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnIkBrcGcoImVtYWlsIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3dvcmtpbmdkaXJdJywgJyJAa3BnKCJ3b3JraW5nZGlyIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiBAa3BnKCJ0YWdzIiksICJwcm9wZXJ0eU92ZXJyaWRlcyI6IHsiaW5hY3RpdmVBZ2VudFRhc2siOiB7Im5hbWUiOiAiSW5hY3RpdmVBZ2VudFRhc2siLCAic2NyaXB0IjogeyAiX2lkIjogIkBrcGcoSW5hY3RpdmVBZ2VudFNjcmlwdElkKSJ9LCAiYXJndW1lbnRzIjogIiIsICJ2YXJpYWJsZXMiOiB7IkFXU19BQ0NFU1NfS0VZX0lEIjogIkBrcGcoQVdTX0FDQ0VTU19LRVlfSUQpIiwgIkFXU19TRUNSRVRfQUNDRVNTX0tFWSI6ICJAa3BnKEFXU19TRUNSRVRfQUNDRVNTX0tFWSkifX0sICJpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lIjogQGtwZyhpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lKX19JykKICAgICAgICAKICAgICAgICBwcmludChkYXRhKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICAKICAgICAgICBkYXRhX2J5dGVzID0gZGF0YS5lbmNvZGUoJ3V0ZjgnKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUoZGF0YV9ieXRlcykKCiAgICAgICAgbGF1bmNoX2VjMl9pbnN0YW5jZShAa3BnKEltYWdlSWQpLCBAa3BnKEtleU5hbWUpLCBAa3BnKEluc3RhbmNlVHlwZSksIEBrcGcoU2VjdXJpdHlHcm91cElkcyksIEBrcGcoU3VibmV0SWQpLCBAa3BnKFZwY0lkKSwgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpLCBiYXNlNjRfYnl0ZXMsIEBrcGcoSUFNUm9sZSksIHRhZ3MpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnQGtwZygib3JnSWQiKScKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAnQGtwZygiZW1haWwiKScsCiAgICAgICAgJ3Bhc3N3b3JkJzogJ0BrcGcoInBhc3N3b3JkIiknCiAgICB9CgogICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9anNvbi5kdW1wcyhkYXRhKSkKICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCByZXNbJ3N0YXR1c19jb2RlJ10gIT0gMjAwOgogICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKCiAgICB0b2tlbiA9IHJlcy5jb29raWVzLmdldF9kaWN0KClbJ0F1dGgnXQoKCndoaWxlIHRva2VuID09ICcnOgogICAgUmVzdEFQSUxvZ2luKCkKICAgIGlmIHRva2VuID09ICcnOgogICAgICAgIHByaW50ICdBUEkgbG9naW4gZmFpbGVkJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICB0aW1lLnNsZWVwKDUpCiAgICAgICAgcHJpbnQgJ1JldHJ5aW5nIGFwaSBsb2dpbicKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCgp0YWdzID0ganNvbi5sb2FkcygnQGtwZygidGFncyIpJykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPCBAa3BnKE1heENvdW50KToKICAgICAgICBwcmludCAnTGVzcyB0aGFuIEBrcGcoTWF4Q291bnQpIGFnZW50cyB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUocyknCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdAa3BnKE1heENvdW50KSBhZ2VudChzKSB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g="},"id":"5ed68483759b110015403b34","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"variables":{"AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68500759b110015403b38","_taskId":"5ed68500759b110015403b39","id":"5ed68500759b110015403b3a","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68563759b110015403b3d","_taskId":"5ed68563759b110015403b3e","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJNaW5Db3VudCIpOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciQGtwZygib3JnSWQiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnIkBrcGcoImVtYWlsIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3dvcmtpbmdkaXJdJywgJyJAa3BnKCJ3b3JraW5nZGlyIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiBAa3BnKCJ0YWdzIiksICJwcm9wZXJ0eU92ZXJyaWRlcyI6IHsiaW5hY3RpdmVBZ2VudFRhc2siOiB7Im5hbWUiOiAiSW5hY3RpdmVBZ2VudFRhc2siLCAic2NyaXB0IjogeyAiX2lkIjogIkBrcGcoSW5hY3RpdmVBZ2VudFNjcmlwdElkKSJ9LCAiYXJndW1lbnRzIjogIiIsICJ2YXJpYWJsZXMiOiB7IkFXU19BQ0NFU1NfS0VZX0lEIjogIkBrcGcoQVdTX0FDQ0VTU19LRVlfSUQpIiwgIkFXU19TRUNSRVRfQUNDRVNTX0tFWSI6ICJAa3BnKEFXU19TRUNSRVRfQUNDRVNTX0tFWSkifX0sICJpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lIjogQGtwZyhpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lKX19JykKICAgICAgICAKICAgICAgICBwcmludChkYXRhKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICAKICAgICAgICBkYXRhX2J5dGVzID0gZGF0YS5lbmNvZGUoJ3V0ZjgnKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUoZGF0YV9ieXRlcykKCiAgICAgICAgbGF1bmNoX2VjMl9pbnN0YW5jZShAa3BnKEltYWdlSWQpLCBAa3BnKEtleU5hbWUpLCBAa3BnKEluc3RhbmNlVHlwZSksIEBrcGcoU2VjdXJpdHlHcm91cElkcyksIEBrcGcoU3VibmV0SWQpLCBAa3BnKFZwY0lkKSwgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpLCBiYXNlNjRfYnl0ZXMsIEBrcGcoSUFNUm9sZSksIHRhZ3MpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnQGtwZygib3JnSWQiKScKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAnQGtwZygiZW1haWwiKScsCiAgICAgICAgJ3Bhc3N3b3JkJzogJ0BrcGcoInBhc3N3b3JkIiknCiAgICB9CgogICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9anNvbi5kdW1wcyhkYXRhKSkKICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCByZXNbJ3N0YXR1c19jb2RlJ10gIT0gMjAwOgogICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKCiAgICB0b2tlbiA9IHJlcy5jb29raWVzLmdldF9kaWN0KClbJ0F1dGgnXQoKCndoaWxlIHRva2VuID09ICcnOgogICAgUmVzdEFQSUxvZ2luKCkKICAgIGlmIHRva2VuID09ICcnOgogICAgICAgIHByaW50ICdBUEkgbG9naW4gZmFpbGVkJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICB0aW1lLnNsZWVwKDUpCiAgICAgICAgcHJpbnQgJ1JldHJ5aW5nIGFwaSBsb2dpbicKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCgp0YWdzID0ganNvbi5sb2FkcygnQGtwZygidGFncyIpJykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPCBAa3BnKE1heENvdW50KToKICAgICAgICBwcmludCAnTGVzcyB0aGFuIEBrcGcoTWF4Q291bnQpIGFnZW50cyB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUocyknCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdAa3BnKE1heENvdW50KSBhZ2VudChzKSB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g="},"id":"5ed68563759b110015403b3f","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68584759b110015403b42","_taskId":"5ed68584759b110015403b43","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJNaW5Db3VudCIpOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciQGtwZygib3JnSWQiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnIkBrcGcoImVtYWlsIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3dvcmtpbmdkaXJdJywgJyJAa3BnKCJ3b3JraW5nZGlyIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiBAa3BnKCJ0YWdzIiksICJwcm9wZXJ0eU92ZXJyaWRlcyI6IHsiaW5hY3RpdmVBZ2VudFRhc2siOiB7Im5hbWUiOiAiSW5hY3RpdmVBZ2VudFRhc2siLCAic2NyaXB0IjogeyAiX2lkIjogIkBrcGcoSW5hY3RpdmVBZ2VudFNjcmlwdElkKSJ9LCAiYXJndW1lbnRzIjogIiIsICJ2YXJpYWJsZXMiOiB7IkFXU19BQ0NFU1NfS0VZX0lEIjogIkBrcGcoQVdTX0FDQ0VTU19LRVlfSUQpIiwgIkFXU19TRUNSRVRfQUNDRVNTX0tFWSI6ICJAa3BnKEFXU19TRUNSRVRfQUNDRVNTX0tFWSkifX0sICJpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lIjogQGtwZyhpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lKX19JykKICAgICAgICAKICAgICAgICBwcmludChkYXRhKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICAKICAgICAgICBkYXRhX2J5dGVzID0gZGF0YS5lbmNvZGUoJ3V0ZjgnKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUoZGF0YV9ieXRlcykKCiAgICAgICAgbGF1bmNoX2VjMl9pbnN0YW5jZShAa3BnKEltYWdlSWQpLCBAa3BnKEtleU5hbWUpLCBAa3BnKEluc3RhbmNlVHlwZSksIEBrcGcoU2VjdXJpdHlHcm91cElkcyksIEBrcGcoU3VibmV0SWQpLCBAa3BnKFZwY0lkKSwgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpLCBiYXNlNjRfYnl0ZXMsIEBrcGcoSUFNUm9sZSksIHRhZ3MpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnQGtwZygib3JnSWQiKScKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAnQGtwZygiZW1haWwiKScsCiAgICAgICAgJ3Bhc3N3b3JkJzogJ0BrcGcoInBhc3N3b3JkIiknCiAgICB9CgogICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9anNvbi5kdW1wcyhkYXRhKSkKICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCByZXNbJ3N0YXR1c19jb2RlJ10gIT0gMjAwOgogICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKCiAgICB0b2tlbiA9IHJlcy5jb29raWVzLmdldF9kaWN0KClbJ0F1dGgnXQoKCndoaWxlIHRva2VuID09ICcnOgogICAgUmVzdEFQSUxvZ2luKCkKICAgIGlmIHRva2VuID09ICcnOgogICAgICAgIHByaW50ICdBUEkgbG9naW4gZmFpbGVkJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICB0aW1lLnNsZWVwKDUpCiAgICAgICAgcHJpbnQgJ1JldHJ5aW5nIGFwaSBsb2dpbicKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCgp0YWdzID0ganNvbi5sb2FkcygnQGtwZygidGFncyIpJykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPCBAa3BnKE1heENvdW50KToKICAgICAgICBwcmludCAnTGVzcyB0aGFuIEBrcGcoTWF4Q291bnQpIGFnZW50cyB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUocyknCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdAa3BnKE1heENvdW50KSBhZ2VudChzKSB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g="},"id":"5ed68584759b110015403b44","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed685cd759b110015403b47","_taskId":"5ed685cd759b110015403b48","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBAa3BnKCJNaW5Db3VudCIpOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciQGtwZygib3JnSWQiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnIkBrcGcoImVtYWlsIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJAa3BnKCJwYXNzd29yZCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3dvcmtpbmdkaXJdJywgJyJAa3BnKCJ3b3JraW5nZGlyIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiBAa3BnKCJ0YWdzIiksICJwcm9wZXJ0eU92ZXJyaWRlcyI6IHsiaW5hY3RpdmVBZ2VudFRhc2siOiB7Im5hbWUiOiAiSW5hY3RpdmVBZ2VudFRhc2siLCAic2NyaXB0IjogeyAiX2lkIjogIkBrcGcoSW5hY3RpdmVBZ2VudFNjcmlwdElkKSJ9LCAiYXJndW1lbnRzIjogIiIsICJ2YXJpYWJsZXMiOiB7IkFXU19BQ0NFU1NfS0VZX0lEIjogIkBrcGcoQVdTX0FDQ0VTU19LRVlfSUQpIiwgIkFXU19TRUNSRVRfQUNDRVNTX0tFWSI6ICJAa3BnKEFXU19TRUNSRVRfQUNDRVNTX0tFWSkifX0sICJpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lIjogQGtwZyhpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lKX19JykKICAgICAgICAKICAgICAgICBwcmludChkYXRhKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICAKICAgICAgICBkYXRhX2J5dGVzID0gZGF0YS5lbmNvZGUoJ3V0ZjgnKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUoZGF0YV9ieXRlcykKCiAgICAgICAgbGF1bmNoX2VjMl9pbnN0YW5jZShAa3BnKEltYWdlSWQpLCBAa3BnKEtleU5hbWUpLCBAa3BnKEluc3RhbmNlVHlwZSksIEBrcGcoU2VjdXJpdHlHcm91cElkcyksIEBrcGcoU3VibmV0SWQpLCBAa3BnKFZwY0lkKSwgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpLCBiYXNlNjRfYnl0ZXMsIEBrcGcoSUFNUm9sZSksIHRhZ3MpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnQGtwZygib3JnSWQiKScKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAnQGtwZygiZW1haWwiKScsCiAgICAgICAgJ3Bhc3N3b3JkJzogJ0BrcGcoInBhc3N3b3JkIiknCiAgICB9CgogICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9anNvbi5kdW1wcyhkYXRhKSkKICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCByZXNbJ3N0YXR1c19jb2RlJ10gIT0gMjAwOgogICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKCiAgICB0b2tlbiA9IHJlcy5jb29raWVzLmdldF9kaWN0KClbJ0F1dGgnXQoKCndoaWxlIHRva2VuID09ICcnOgogICAgUmVzdEFQSUxvZ2luKCkKICAgIGlmIHRva2VuID09ICcnOgogICAgICAgIHByaW50ICdBUEkgbG9naW4gZmFpbGVkJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICB0aW1lLnNsZWVwKDUpCiAgICAgICAgcHJpbnQgJ1JldHJ5aW5nIGFwaSBsb2dpbicKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCgp0YWdzID0ganNvbi5sb2FkcygnQGtwZygidGFncyIpJykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPCBAa3BnKE1heENvdW50KToKICAgICAgICBwcmludCAnTGVzcyB0aGFuIEBrcGcoTWF4Q291bnQpIGFnZW50cyB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUocyknCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcih0YWdzKQogICAgZWxzZToKICAgICAgICBwcmludCAnQGtwZyhNYXhDb3VudCkgYWdlbnQocykgd2l0aCB0YWdzICJAa3BnKCJ0YWdzIikiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo"},"id":"5ed685cd759b110015403b49","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"variables":{"AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68680759b110015403b4e","_taskId":"5ed68680759b110015403b4f","id":"5ed68680759b110015403b51","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"variables":{"AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68680759b110015403b50","_taskId":"5ed68680759b110015403b52","id":"5ed68680759b110015403b53","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68bd8759b110015403b59","_taskId":"5ed68bd8759b110015403b5a","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MsIG1pbkNvdW50LCBtYXhDb3VudCk6CiAgICBwcmludCAnQ2hlY2tpbmcgZm9yIGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdCh0YWdzKQogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgcmVzID0gZ2V0X3J1bm5pbmdfaW5zdGFuY2VzX3dpdGhfdGFncyh0YWdzKQogICAgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPSBsZW4ocmVzKQogICAgcHJpbnQgJ0ZvdW5kIHt9IGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdChudW1FeGlzdGluZ0luc3RhbmNlcywgdGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKCiAgICBpZiBudW1FeGlzdGluZ0luc3RhbmNlcyA8IEBrcGcoIk1pbkNvdW50Iik6CiAgICAgICAgaWYgbm90IHBhdGguZXhpc3RzKCdib290c3RyYXAtZWMyLnB5Jyk6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbiAoJ0ZpbGUgYm9vdHN0cmFwLWVjMi5weSBub3QgZm91bmQnKQoKICAgICAgICB3aXRoIG9wZW4oJ2Jvb3RzdHJhcC1lYzIucHknLCAncicpIGFzIGZpbGU6CiAgICAgICAgICAgIGRhdGEgPSBmaWxlLnJlYWQoKQoKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbb3JnSWRdJywgJyJAa3BnKCJvcmdJZCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICciQGtwZygiZW1haWwiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twYXNzd29yZF0nLCAnIkBrcGcoInBhc3N3b3JkIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbd29ya2luZ2Rpcl0nLCAnIkBrcGcoIndvcmtpbmdkaXIiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tjb25maWddJywgJ3sidGFncyI6IEBrcGcoInRhZ3MiKSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiQGtwZyhJbmFjdGl2ZUFnZW50U2NyaXB0SWQpIn0sICJhcmd1bWVudHMiOiAiIiwgInZhcmlhYmxlcyI6IHsiQVdTX0FDQ0VTU19LRVlfSUQiOiAiQGtwZyhBV1NfQUNDRVNTX0tFWV9JRCkiLCAiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZIjogIkBrcGcoQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKSJ9fSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiBAa3BnKGluYWN0aXZlUGVyaW9kV2FpdFRpbWUpfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKEBrcGcoSW1hZ2VJZCksIEBrcGcoS2V5TmFtZSksIEBrcGcoSW5zdGFuY2VUeXBlKSwgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgQGtwZyhTdWJuZXRJZCksIEBrcGcoVnBjSWQpLCBtaW5Db3VudCwgbWF4Q291bnQsIGJhc2U2NF9ieXRlcywgQGtwZyhJQU1Sb2xlKSwgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncywgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpKQplbGlmIHJlc1snc3RhdHVzQ29kZSddICE9IDIwMDoKICAgIG1zZyA9ICdDYWxsIHRvIGdldCBhZ2VudHMgd2l0aCB0YWdzIGZhaWxlZCcKICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCmVsc2U6CiAgICBjbnRSdW5uaW5nQWdlbnRzID0gbGVuKHJlc1snZGF0YSddKQogICAgaWYgY250UnVubmluZ0FnZW50cyA8IEBrcGcoTWF4Q291bnQpOgogICAgICAgIG51bUFnZW50c1RvU3RhcnQgPSBAa3BnKE1heENvdW50KSAtIGNudFJ1bm5pbmdBZ2VudHMKICAgICAgICBwcmludCAnTGVzcyB0aGFuIEBrcGcoTWF4Q291bnQpIGFnZW50cyB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUocyknCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcih0YWdzLCBAa3BnKE1pbkNvdW50KSwgbnVtQWdlbnRzVG9TdGFydCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ0BrcGcoTWF4Q291bnQpIGFnZW50KHMpIHdpdGggdGFncyAiQGtwZygidGFncyIpIiBhbHJlYWR5IHJ1bm5pbmcnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaA=="},"id":"5ed68bd8759b110015403b5b","version":0},{"command":"","arguments":"","_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68fc8759b110015403b5f","_taskId":"5ed68fc8759b110015403b60","name":"step1","order":1,"script":{"id":"5ed5c616759b110015403a21","name":"LaunchEC2IfNotExists","scriptType":0,"code":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MsIG1pbkNvdW50LCBtYXhDb3VudCk6CiAgICBwcmludCAnQ2hlY2tpbmcgZm9yIGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdCh0YWdzKQogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgcmVzID0gZ2V0X3J1bm5pbmdfaW5zdGFuY2VzX3dpdGhfdGFncyh0YWdzKQogICAgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPSBsZW4ocmVzKQogICAgcHJpbnQgJ0ZvdW5kIHt9IGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdChudW1FeGlzdGluZ0luc3RhbmNlcywgdGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKCiAgICBpZiBudW1FeGlzdGluZ0luc3RhbmNlcyA8IEBrcGcoIk1pbkNvdW50Iik6CiAgICAgICAgaWYgbm90IHBhdGguZXhpc3RzKCdib290c3RyYXAtZWMyLnB5Jyk6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbiAoJ0ZpbGUgYm9vdHN0cmFwLWVjMi5weSBub3QgZm91bmQnKQoKICAgICAgICB3aXRoIG9wZW4oJ2Jvb3RzdHJhcC1lYzIucHknLCAncicpIGFzIGZpbGU6CiAgICAgICAgICAgIGRhdGEgPSBmaWxlLnJlYWQoKQoKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbb3JnSWRdJywgJyJAa3BnKCJvcmdJZCIpIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICciQGtwZygiZW1haWwiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twYXNzd29yZF0nLCAnIkBrcGcoInBhc3N3b3JkIikiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbd29ya2luZ2Rpcl0nLCAnIkBrcGcoIndvcmtpbmdkaXIiKSInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tjb25maWddJywgJ3sidGFncyI6IEBrcGcoInRhZ3MiKSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiQGtwZyhJbmFjdGl2ZUFnZW50U2NyaXB0SWQpIn0sICJhcmd1bWVudHMiOiAiIiwgInZhcmlhYmxlcyI6IHsiQVdTX0FDQ0VTU19LRVlfSUQiOiAiQGtwZyhBV1NfQUNDRVNTX0tFWV9JRCkiLCAiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZIjogIkBrcGcoQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKSJ9fSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiBAa3BnKGluYWN0aXZlUGVyaW9kV2FpdFRpbWUpfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKEBrcGcoSW1hZ2VJZCksIEBrcGcoS2V5TmFtZSksIEBrcGcoSW5zdGFuY2VUeXBlKSwgQGtwZyhTZWN1cml0eUdyb3VwSWRzKSwgQGtwZyhTdWJuZXRJZCksIEBrcGcoVnBjSWQpLCBtaW5Db3VudCwgbWF4Q291bnQsIGJhc2U2NF9ieXRlcywgQGtwZyhJQU1Sb2xlKSwgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICdAa3BnKCJvcmdJZCIpJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICdAa3BnKCJlbWFpbCIpJywKICAgICAgICAncGFzc3dvcmQnOiAnQGtwZygicGFzc3dvcmQiKScKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdAa3BnKCJ0YWdzIiknKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncywgQGtwZyhNaW5Db3VudCksIEBrcGcoTWF4Q291bnQpKQplbGlmIHJlc1snc3RhdHVzQ29kZSddICE9IDIwMDoKICAgIG1zZyA9ICdDYWxsIHRvIGdldCBhZ2VudHMgd2l0aCB0YWdzIGZhaWxlZCcKICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCmVsc2U6CiAgICBjbnRSdW5uaW5nQWdlbnRzID0gbGVuKHJlc1snZGF0YSddKQogICAgaWYgY250UnVubmluZ0FnZW50cyA8IEBrcGcoTWF4Q291bnQpOgogICAgICAgIG51bUFnZW50c1RvU3RhcnQgPSBAa3BnKE1heENvdW50KSAtIGNudFJ1bm5pbmdBZ2VudHMKICAgICAgICBwcmludCAnTGVzcyB0aGFuIEBrcGcoTWF4Q291bnQpIGFnZW50cyB3aXRoIHRhZ3MgIkBrcGcoInRhZ3MiKSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUocyknCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcih0YWdzLCBAa3BnKE1pbkNvdW50KSwgbnVtQWdlbnRzVG9TdGFydCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ0BrcGcoTWF4Q291bnQpIGFnZW50KHMpIHdpdGggdGFncyAiQGtwZygidGFncyIpIiBhbHJlYWR5IHJ1bm5pbmcnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaA=="},"id":"5ed68fc8759b110015403b61","version":0},{"command":"","arguments":"","name":"Step1","script":{"scriptType":2,"code":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg=="},"order":0,"variables":{"AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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"},"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed6907e759b110015403b65","_taskId":"5ed6907e759b110015403b66","id":"5ed6907e759b110015403b67","version":0}],"stepDef":[{"_scriptId":"5eb08f2b94dadd7ec1898304","command":"","arguments":"","variables":{},"_teamId":"5de95c0453162e8891f5a830","_taskDefId":"5eb08b4494dadd7ec1898303","name":"step1","order":0,"id":"5eb08f9694dadd7ec1898306","version":0},{"_scriptId":"5ed5c616759b110015403a21","command":"","arguments":"","variables":{},"_taskDefId":"5ed5c54a759b110015403a1c","name":"step1","order":1,"_teamId":"5de95c0453162e8891f5a830","id":"5ed5c5f8759b110015403a20","version":0}],"stepOutcome":[{"tail":["hello world!"],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c52b759b110015403a16","_stepId":"5ed5c52b759b110015403a18","_taskOutcomeId":"5ed5c52b759b110015403a19","name":"Step1","source":0,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"cHJpbnQgImhlbGxvIHdvcmxkISI=","status":20,"dateStarted":"2020-06-02T03:19:07.378Z","dateCompleted":"2020-06-02T03:19:07.418Z","exitCode":0,"signal":null,"stderr":"","stdout":"hello world!\n","id":"5ed5c52b759b110015403a1a","version":0},{"tail":["hello world"],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c519759b110015403a11","_stepId":"5ed5c519759b110015403a13","_taskOutcomeId":"5ed5c51a759b110015403a14","name":"Step1","source":0,"machineId":"richwood-macbook.local","ipAddress":"192.168.10.41,10.211.55.2,10.37.129.2","runCode":"cHJpbnQgImhlbGxvIHdvcmxkIg==","status":20,"dateStarted":"2020-06-02T03:18:50.233Z","dateCompleted":"2020-06-02T03:18:50.580Z","exitCode":0,"signal":null,"stderr":"","stdout":"hello world\n","id":"5ed5c51a759b110015403a15","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c8c8759b110015403a22","_stepId":"5ed5c8c8759b110015403a24","_taskOutcomeId":"5ed5c8c9759b110015403a25","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBudWxsOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnInRlc3R1c2VyQHNhYXNnbHVlLmNvbSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJteXBhc3N3b3JkIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiBudWxsfScpOwogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKCdhbWktMDk5ZTg4MmIwODc2YzgxMjQnLCBraWtpLTIwMTlRMSwgdDEubWljcm8sIFsnc2ctMDM2ZGUyNTM3YzA1OWE0YWYnXSwgc3VibmV0LWQ0N2EyYmZhLCB2cGMtZDJkM2I0YTgsIDEsIDEsIGJhc2U2NF9ieXRlcykKICAgICAgICAjIG9zLnN5c3RlbSgnYXdzIGVjMiBydW4taW5zdGFuY2VzIC0taW1hZ2UtaWQgYW1pLTA5OWU4ODJiMDg3NmM4MTI0IC0tY291bnQgMSAtLWluc3RhbmNlLXR5cGUgdDEubWljcm8gLS1rZXktbmFtZSBraWtpLTIwMTlRMSAtLXN1Ym5ldC1pZCBzdWJuZXQtZDQ3YTJiZmEgLS1zZWN1cml0eS1ncm91cC1pZHMgc2ctMDM2ZGUyNTM3YzA1OWE0YWYgLS11c2VyLWRhdGEge30nLmZvcm1hdChiYXNlNjRfYnl0ZXMpKQoKCmRlZiBSZXN0QVBJQ2FsbCh1cmwsIG1ldGhvZCwgaGVhZGVycywgZGF0YT17fSk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB0cnk6CiAgICAgICAgZGVmYXVsdF9oZWFkZXJzID0gewogICAgICAgICAgICAnQ29va2llJzogJ0F1dGg9e307Jy5mb3JtYXQodG9rZW4pLAogICAgICAgICAgICAnX29yZ0lkJzogJzVkZTk1YzA0NTMxNjJlODg5MWY1YTgzMCcKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAndGVzdHVzZXJAc2Fhc2dsdWUuY29tJywKICAgICAgICAncGFzc3dvcmQnOiAnbXlwYXNzd29yZCcKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCdudWxsJykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJudWxsIiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZScKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcih0YWdzKQplbGlmIHJlc1snc3RhdHVzQ29kZSddICE9IDIwMDoKICAgIG1zZyA9ICdDYWxsIHRvIGdldCBhZ2VudHMgd2l0aCB0YWdzIGZhaWxlZCcKICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCmVsc2U6CiAgICBpZiBsZW4ocmVzWydkYXRhJ10pID09IDA6CiAgICAgICAgcHJpbnQgJ05vIGFnZW50IHdpdGggdGFncyAibnVsbCIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJudWxsIiBhbHJlYWR5IHJ1bm5pbmcnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaA==","status":22,"dateStarted":"2020-06-02T03:34:33.172Z","dateCompleted":"2020-06-02T03:34:33.212Z","exitCode":1,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"  File \"/home/ec2-user/hvKHZcb2Td/iZSmGHgWlF.py\", line 38\n    launch_ec2_instance('ami-099e882b0876c8124', kiki-2019Q1, t1.micro, ['sg-036de2537c059a4af'], subnet-d47a2bfa, vpc-d2d3b4a8, 1, 1, base64_bytes)\n                                                           ^\nSyntaxError: invalid syntax\n","stdout":"","id":"5ed5c8c9759b110015403a26","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c91a759b110015403a27","_stepId":"5ed5c91a759b110015403a29","_taskOutcomeId":"5ed5c91a759b110015403a2a","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBudWxsOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnInRlc3R1c2VyQHNhYXNnbHVlLmNvbSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJteXBhc3N3b3JkIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiBudWxsfScpOwogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKCdhbWktMDk5ZTg4MmIwODc2YzgxMjQnLCAna2lraS0yMDE5UTEnLCAndDEubWljcm8nLCBbJ3NnLTAzNmRlMjUzN2MwNTlhNGFmJ10sICdzdWJuZXQtZDQ3YTJiZmEnLCAndnBjLWQyZDNiNGE4JywgMSwgMSwgYmFzZTY0X2J5dGVzKQogICAgICAgICMgb3Muc3lzdGVtKCdhd3MgZWMyIHJ1bi1pbnN0YW5jZXMgLS1pbWFnZS1pZCBhbWktMDk5ZTg4MmIwODc2YzgxMjQgLS1jb3VudCAxIC0taW5zdGFuY2UtdHlwZSB0MS5taWNybyAtLWtleS1uYW1lIGtpa2ktMjAxOVExIC0tc3VibmV0LWlkIHN1Ym5ldC1kNDdhMmJmYSAtLXNlY3VyaXR5LWdyb3VwLWlkcyBzZy0wMzZkZTI1MzdjMDU5YTRhZiAtLXVzZXItZGF0YSB7fScuZm9ybWF0KGJhc2U2NF9ieXRlcykpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICd0ZXN0dXNlckBzYWFzZ2x1ZS5jb20nLAogICAgICAgICdwYXNzd29yZCc6ICdteXBhc3N3b3JkJwogICAgfQoKICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWpzb24uZHVtcHMoZGF0YSkpCiAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgcmVzWydzdGF0dXNfY29kZSddICE9IDIwMDoKICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCgogICAgdG9rZW4gPSByZXMuY29va2llcy5nZXRfZGljdCgpWydBdXRoJ10KCgp3aGlsZSB0b2tlbiA9PSAnJzoKICAgIFJlc3RBUElMb2dpbigpCiAgICBpZiB0b2tlbiA9PSAnJzoKICAgICAgICBwcmludCAnQVBJIGxvZ2luIGZhaWxlZCcKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgdGltZS5zbGVlcCg1KQogICAgICAgIHByaW50ICdSZXRyeWluZyBhcGkgbG9naW4nCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKdGFncyA9IGpzb24ubG9hZHMoJ251bGwnKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIm51bGwiIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPT0gMDoKICAgICAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJudWxsIiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZScKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ0F0IGxlYXN0IG9uZSBhZ2VudCB3aXRoIHRhZ3MgIm51bGwiIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo","status":22,"dateStarted":"2020-06-02T03:35:54.516Z","dateCompleted":"2020-06-02T03:35:55.252Z","exitCode":1,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Traceback (most recent call last):\n  File \"/home/ec2-user/QJtChwae41/n94XB12V1F.py\", line 104, in <module>\n    for t in tags:\nTypeError: 'NoneType' object is not iterable\n","stdout":"","id":"5ed5c91a759b110015403a2b","version":0},{"tail":["No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine","Checking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"","Found 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\""],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c957759b110015403a2c","_stepId":"5ed5c957759b110015403a2e","_taskOutcomeId":"5ed5c958759b110015403a2f","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCBudWxsOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnInRlc3R1c2VyQHNhYXNnbHVlLmNvbSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJteXBhc3N3b3JkIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifX0nKTsKICAgICAgICAKICAgICAgICBkYXRhX2J5dGVzID0gZGF0YS5lbmNvZGUoJ3V0ZjgnKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUoZGF0YV9ieXRlcykKCiAgICAgICAgbGF1bmNoX2VjMl9pbnN0YW5jZSgnYW1pLTA5OWU4ODJiMDg3NmM4MTI0JywgJ2tpa2ktMjAxOVExJywgJ3QxLm1pY3JvJywgWydzZy0wMzZkZTI1MzdjMDU5YTRhZiddLCAnc3VibmV0LWQ0N2EyYmZhJywgJ3ZwYy1kMmQzYjRhOCcsIDEsIDEsIGJhc2U2NF9ieXRlcykKICAgICAgICAjIG9zLnN5c3RlbSgnYXdzIGVjMiBydW4taW5zdGFuY2VzIC0taW1hZ2UtaWQgYW1pLTA5OWU4ODJiMDg3NmM4MTI0IC0tY291bnQgMSAtLWluc3RhbmNlLXR5cGUgdDEubWljcm8gLS1rZXktbmFtZSBraWtpLTIwMTlRMSAtLXN1Ym5ldC1pZCBzdWJuZXQtZDQ3YTJiZmEgLS1zZWN1cml0eS1ncm91cC1pZHMgc2ctMDM2ZGUyNTM3YzA1OWE0YWYgLS11c2VyLWRhdGEge30nLmZvcm1hdChiYXNlNjRfYnl0ZXMpKQoKCmRlZiBSZXN0QVBJQ2FsbCh1cmwsIG1ldGhvZCwgaGVhZGVycywgZGF0YT17fSk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB0cnk6CiAgICAgICAgZGVmYXVsdF9oZWFkZXJzID0gewogICAgICAgICAgICAnQ29va2llJzogJ0F1dGg9e307Jy5mb3JtYXQodG9rZW4pLAogICAgICAgICAgICAnX29yZ0lkJzogJzVkZTk1YzA0NTMxNjJlODg5MWY1YTgzMCcKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAndGVzdHVzZXJAc2Fhc2dsdWUuY29tJywKICAgICAgICAncGFzc3dvcmQnOiAnbXlwYXNzd29yZCcKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCd7ImFnZW50YnVpbGRlciI6InRydWUifScpCnRhZ3NBcnJheSA9IFtdCmZvciB0IGluIHRhZ3M6CiAgICB0YWdzQXJyYXkuYXBwZW5kKHsna2V5JzogdCwgJ3ZhbHVlJzogdGFnc1t0XX0pCmFnZW50UXVlcnkgPSBSZXN0QVBJQ2FsbCgnaHR0cHM6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2FwaS92MC9hZ2VudC90YWdzL3t9P3Jlc3BvbnNlRmllbGRzPWlkJy5mb3JtYXQoanNvbi5kdW1wcyh0YWdzQXJyYXkpKSwgJ0dFVCcsIHt9KQoKcmVzID0gYWdlbnRRdWVyeS5qc29uKCkKaWYgcmVzWydzdGF0dXNDb2RlJ10gPT0gNDA0OgogICAgcHJpbnQgJ05vIGFnZW50IHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPT0gMDoKICAgICAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g=","status":22,"dateStarted":"2020-06-02T03:36:56.204Z","dateCompleted":"2020-06-02T03:36:57.009Z","exitCode":1,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Traceback (most recent call last):\n  File \"/home/ec2-user/IDwKFIO5lU/k6SsZnsurA.py\", line 112, in <module>\n    LaunchNewAgentBuilder(tags)\n  File \"/home/ec2-user/IDwKFIO5lU/k6SsZnsurA.py\", line 20, in LaunchNewAgentBuilder\n    if numExistingInstances < null:\nNameError: global name 'null' is not defined\n","stdout":"No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\n","id":"5ed5c958759b110015403a30","version":0},{"tail":["...instance i-05cb74539005a8038 is initializing","...instance i-05cb74539005a8038 is initializing","...instance i-05cb74539005a8038 is initializing","...instance i-05cb74539005a8038 is ok","Launched 1 ec2 t1.micro instance(s) [i-05cb74539005a8038]"],"lastUpdateId":30,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c9a7759b110015403a31","_stepId":"5ed5c9a7759b110015403a33","_taskOutcomeId":"5ed5c9a7759b110015403a34","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnInRlc3R1c2VyQHNhYXNnbHVlLmNvbSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJteXBhc3N3b3JkIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifX0nKTsKICAgICAgICAKICAgICAgICBkYXRhX2J5dGVzID0gZGF0YS5lbmNvZGUoJ3V0ZjgnKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUoZGF0YV9ieXRlcykKCiAgICAgICAgbGF1bmNoX2VjMl9pbnN0YW5jZSgnYW1pLTA5OWU4ODJiMDg3NmM4MTI0JywgJ2tpa2ktMjAxOVExJywgJ3QxLm1pY3JvJywgWydzZy0wMzZkZTI1MzdjMDU5YTRhZiddLCAnc3VibmV0LWQ0N2EyYmZhJywgJ3ZwYy1kMmQzYjRhOCcsIDEsIDEsIGJhc2U2NF9ieXRlcykKICAgICAgICAjIG9zLnN5c3RlbSgnYXdzIGVjMiBydW4taW5zdGFuY2VzIC0taW1hZ2UtaWQgYW1pLTA5OWU4ODJiMDg3NmM4MTI0IC0tY291bnQgMSAtLWluc3RhbmNlLXR5cGUgdDEubWljcm8gLS1rZXktbmFtZSBraWtpLTIwMTlRMSAtLXN1Ym5ldC1pZCBzdWJuZXQtZDQ3YTJiZmEgLS1zZWN1cml0eS1ncm91cC1pZHMgc2ctMDM2ZGUyNTM3YzA1OWE0YWYgLS11c2VyLWRhdGEge30nLmZvcm1hdChiYXNlNjRfYnl0ZXMpKQoKCmRlZiBSZXN0QVBJQ2FsbCh1cmwsIG1ldGhvZCwgaGVhZGVycywgZGF0YT17fSk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB0cnk6CiAgICAgICAgZGVmYXVsdF9oZWFkZXJzID0gewogICAgICAgICAgICAnQ29va2llJzogJ0F1dGg9e307Jy5mb3JtYXQodG9rZW4pLAogICAgICAgICAgICAnX29yZ0lkJzogJzVkZTk1YzA0NTMxNjJlODg5MWY1YTgzMCcKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAndGVzdHVzZXJAc2Fhc2dsdWUuY29tJywKICAgICAgICAncGFzc3dvcmQnOiAnbXlwYXNzd29yZCcKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCd7ImFnZW50YnVpbGRlciI6InRydWUifScpCnRhZ3NBcnJheSA9IFtdCmZvciB0IGluIHRhZ3M6CiAgICB0YWdzQXJyYXkuYXBwZW5kKHsna2V5JzogdCwgJ3ZhbHVlJzogdGFnc1t0XX0pCmFnZW50UXVlcnkgPSBSZXN0QVBJQ2FsbCgnaHR0cHM6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2FwaS92MC9hZ2VudC90YWdzL3t9P3Jlc3BvbnNlRmllbGRzPWlkJy5mb3JtYXQoanNvbi5kdW1wcyh0YWdzQXJyYXkpKSwgJ0dFVCcsIHt9KQoKcmVzID0gYWdlbnRRdWVyeS5qc29uKCkKaWYgcmVzWydzdGF0dXNDb2RlJ10gPT0gNDA0OgogICAgcHJpbnQgJ05vIGFnZW50IHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPT0gMDoKICAgICAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g=","status":20,"dateStarted":"2020-06-02T03:38:15.264Z","stdout":"No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nLaunching between 1 and 1 ec2 instances of type \"t1.micro\"\n...waiting for \"i-05cb74539005a8038\" status\n...waiting for \"i-05cb74539005a8038\" status\n...instance i-05cb74539005a8038 is running\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is initializing\n...instance i-05cb74539005a8038 is ok\nLaunched 1 ec2 t1.micro instance(s) [i-05cb74539005a8038]\n","dateCompleted":"2020-06-02T03:42:59.820Z","exitCode":0,"signal":null,"stderr":"","id":"5ed5c9a7759b110015403a35","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5ce66759b110015403a37","_stepId":"5ed5ce66759b110015403a39","_taskOutcomeId":"5ed5ce66759b110015403a3a","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnInRlc3R1c2VyQHNhYXNnbHVlLmNvbSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJteXBhc3N3b3JkIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiBbeyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn1dfScpOwogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBwcmludChiYXNlNjRfYnl0ZXMpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKCdhbWktMDk5ZTg4MmIwODc2YzgxMjQnLCAna2lraS0yMDE5UTEnLCAndDEubWljcm8nLCBbJ3NnLTAzNmRlMjUzN2MwNTlhNGFmJ10sICdzdWJuZXQtZDQ3YTJiZmEnLCAndnBjLWQyZDNiNGE4JywgMSwgMSwgYmFzZTY0X2J5dGVzKQogICAgICAgICMgb3Muc3lzdGVtKCdhd3MgZWMyIHJ1bi1pbnN0YW5jZXMgLS1pbWFnZS1pZCBhbWktMDk5ZTg4MmIwODc2YzgxMjQgLS1jb3VudCAxIC0taW5zdGFuY2UtdHlwZSB0MS5taWNybyAtLWtleS1uYW1lIGtpa2ktMjAxOVExIC0tc3VibmV0LWlkIHN1Ym5ldC1kNDdhMmJmYSAtLXNlY3VyaXR5LWdyb3VwLWlkcyBzZy0wMzZkZTI1MzdjMDU5YTRhZiAtLXVzZXItZGF0YSB7fScuZm9ybWF0KGJhc2U2NF9ieXRlcykpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICd0ZXN0dXNlckBzYWFzZ2x1ZS5jb20nLAogICAgICAgICdwYXNzd29yZCc6ICdteXBhc3N3b3JkJwogICAgfQoKICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWpzb24uZHVtcHMoZGF0YSkpCiAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgcmVzWydzdGF0dXNfY29kZSddICE9IDIwMDoKICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCgogICAgdG9rZW4gPSByZXMuY29va2llcy5nZXRfZGljdCgpWydBdXRoJ10KCgp3aGlsZSB0b2tlbiA9PSAnJzoKICAgIFJlc3RBUElMb2dpbigpCiAgICBpZiB0b2tlbiA9PSAnJzoKICAgICAgICBwcmludCAnQVBJIGxvZ2luIGZhaWxlZCcKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgdGltZS5zbGVlcCg1KQogICAgICAgIHByaW50ICdSZXRyeWluZyBhcGkgbG9naW4nCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKdGFncyA9IGpzb24ubG9hZHMoJ1t7ImFnZW50YnVpbGRlciI6InRydWUifV0nKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgIlt7ImFnZW50YnVpbGRlciI6InRydWUifV0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPT0gMDoKICAgICAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJbeyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn1dIiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZScKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ0F0IGxlYXN0IG9uZSBhZ2VudCB3aXRoIHRhZ3MgIlt7ImFnZW50YnVpbGRlciI6InRydWUifV0iIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo","status":22,"dateStarted":"2020-06-02T03:58:30.717Z","dateCompleted":"2020-06-02T03:58:31.408Z","exitCode":1,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Traceback (most recent call last):\n  File \"/home/ec2-user/92tHqth5ua/RdUH7M51Q3.py\", line 108, in <module>\n    tagsArray.append({'key': t, 'value': tags[t]})\nTypeError: list indices must be integers, not dict\n","stdout":"","id":"5ed5ce66759b110015403a3b","version":0},{"tail":["No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine","Checking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"","Found 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\""],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d095759b110015403a3e","_stepId":"5ed5d095759b110015403a40","_taskOutcomeId":"5ed5d096759b110015403a41","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnInRlc3R1c2VyQHNhYXNnbHVlLmNvbSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJteXBhc3N3b3JkIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifX0nKTsKICAgICAgICAKICAgICAgICBkYXRhX2J5dGVzID0gZGF0YS5lbmNvZGUoJ3V0ZjgnKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUoZGF0YV9ieXRlcykKCiAgICAgICAgcHJpbnQoYmFzZTY0X2J5dGVzKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCiAgICAgICAgbGF1bmNoX2VjMl9pbnN0YW5jZSgnYW1pLTA5OWU4ODJiMDg3NmM4MTI0JywgJ2tpa2ktMjAxOVExJywgJ3QxLm1pY3JvJywgWydzZy0wMzZkZTI1MzdjMDU5YTRhZiddLCAnc3VibmV0LWQ0N2EyYmZhJywgJ3ZwYy1kMmQzYjRhOCcsIDEsIDEsIGJhc2U2NF9ieXRlcywgTm9uZSwgdGFncykKICAgICAgICAjIG9zLnN5c3RlbSgnYXdzIGVjMiBydW4taW5zdGFuY2VzIC0taW1hZ2UtaWQgYW1pLTA5OWU4ODJiMDg3NmM4MTI0IC0tY291bnQgMSAtLWluc3RhbmNlLXR5cGUgdDEubWljcm8gLS1rZXktbmFtZSBraWtpLTIwMTlRMSAtLXN1Ym5ldC1pZCBzdWJuZXQtZDQ3YTJiZmEgLS1zZWN1cml0eS1ncm91cC1pZHMgc2ctMDM2ZGUyNTM3YzA1OWE0YWYgLS11c2VyLWRhdGEge30nLmZvcm1hdChiYXNlNjRfYnl0ZXMpKQoKCmRlZiBSZXN0QVBJQ2FsbCh1cmwsIG1ldGhvZCwgaGVhZGVycywgZGF0YT17fSk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB0cnk6CiAgICAgICAgZGVmYXVsdF9oZWFkZXJzID0gewogICAgICAgICAgICAnQ29va2llJzogJ0F1dGg9e307Jy5mb3JtYXQodG9rZW4pLAogICAgICAgICAgICAnX29yZ0lkJzogJzVkZTk1YzA0NTMxNjJlODg5MWY1YTgzMCcKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAndGVzdHVzZXJAc2Fhc2dsdWUuY29tJywKICAgICAgICAncGFzc3dvcmQnOiAnbXlwYXNzd29yZCcKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCd7ImFnZW50YnVpbGRlciI6InRydWUifScpCnRhZ3NBcnJheSA9IFtdCmZvciB0IGluIHRhZ3M6CiAgICB0YWdzQXJyYXkuYXBwZW5kKHsna2V5JzogdCwgJ3ZhbHVlJzogdGFnc1t0XX0pCmFnZW50UXVlcnkgPSBSZXN0QVBJQ2FsbCgnaHR0cHM6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2FwaS92MC9hZ2VudC90YWdzL3t9P3Jlc3BvbnNlRmllbGRzPWlkJy5mb3JtYXQoanNvbi5kdW1wcyh0YWdzQXJyYXkpKSwgJ0dFVCcsIHt9KQoKcmVzID0gYWdlbnRRdWVyeS5qc29uKCkKaWYgcmVzWydzdGF0dXNDb2RlJ10gPT0gNDA0OgogICAgcHJpbnQgJ05vIGFnZW50IHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPT0gMDoKICAgICAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g=","status":22,"dateStarted":"2020-06-02T04:07:50.194Z","dateCompleted":"2020-06-02T04:07:51.289Z","exitCode":1,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Traceback (most recent call last):\n  File \"/home/ec2-user/kXp5boblyM/7VkRzShquw.py\", line 115, in <module>\n    LaunchNewAgentBuilder(tags)\n  File \"/home/ec2-user/kXp5boblyM/7VkRzShquw.py\", line 22, in LaunchNewAgentBuilder\n    raise Exception ('File bootstrap-ec2.py not found')\nException: File bootstrap-ec2.py not found\n","stdout":"No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\n","id":"5ed5d096759b110015403a42","version":0},{"tail":["...instance i-0740a7df122564ced is initializing","...instance i-0740a7df122564ced is initializing","...instance i-0740a7df122564ced is initializing","...instance i-0740a7df122564ced is ok","Launched 1 ec2 t1.micro instance(s) [i-0740a7df122564ced]"],"lastUpdateId":20,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d0b1759b110015403a43","_stepId":"5ed5d0b1759b110015403a45","_taskOutcomeId":"5ed5d0b1759b110015403a46","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tlbWFpbF0nLCAnInRlc3R1c2VyQHNhYXNnbHVlLmNvbSInKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJteXBhc3N3b3JkIicpOwogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3BsYXRmb3JtXScsICcibGludXgiJyk7CiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKTsKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifX0nKTsKICAgICAgICAKICAgICAgICBkYXRhX2J5dGVzID0gZGF0YS5lbmNvZGUoJ3V0ZjgnKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUoZGF0YV9ieXRlcykKCiAgICAgICAgcHJpbnQoYmFzZTY0X2J5dGVzKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCiAgICAgICAgbGF1bmNoX2VjMl9pbnN0YW5jZSgnYW1pLTA5OWU4ODJiMDg3NmM4MTI0JywgJ2tpa2ktMjAxOVExJywgJ3QxLm1pY3JvJywgWydzZy0wMzZkZTI1MzdjMDU5YTRhZiddLCAnc3VibmV0LWQ0N2EyYmZhJywgJ3ZwYy1kMmQzYjRhOCcsIDEsIDEsIGJhc2U2NF9ieXRlcywgTm9uZSwgdGFncykKICAgICAgICAjIG9zLnN5c3RlbSgnYXdzIGVjMiBydW4taW5zdGFuY2VzIC0taW1hZ2UtaWQgYW1pLTA5OWU4ODJiMDg3NmM4MTI0IC0tY291bnQgMSAtLWluc3RhbmNlLXR5cGUgdDEubWljcm8gLS1rZXktbmFtZSBraWtpLTIwMTlRMSAtLXN1Ym5ldC1pZCBzdWJuZXQtZDQ3YTJiZmEgLS1zZWN1cml0eS1ncm91cC1pZHMgc2ctMDM2ZGUyNTM3YzA1OWE0YWYgLS11c2VyLWRhdGEge30nLmZvcm1hdChiYXNlNjRfYnl0ZXMpKQoKCmRlZiBSZXN0QVBJQ2FsbCh1cmwsIG1ldGhvZCwgaGVhZGVycywgZGF0YT17fSk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB0cnk6CiAgICAgICAgZGVmYXVsdF9oZWFkZXJzID0gewogICAgICAgICAgICAnQ29va2llJzogJ0F1dGg9e307Jy5mb3JtYXQodG9rZW4pLAogICAgICAgICAgICAnX29yZ0lkJzogJzVkZTk1YzA0NTMxNjJlODg5MWY1YTgzMCcKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAndGVzdHVzZXJAc2Fhc2dsdWUuY29tJywKICAgICAgICAncGFzc3dvcmQnOiAnbXlwYXNzd29yZCcKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCd7ImFnZW50YnVpbGRlciI6InRydWUifScpCnRhZ3NBcnJheSA9IFtdCmZvciB0IGluIHRhZ3M6CiAgICB0YWdzQXJyYXkuYXBwZW5kKHsna2V5JzogdCwgJ3ZhbHVlJzogdGFnc1t0XX0pCmFnZW50UXVlcnkgPSBSZXN0QVBJQ2FsbCgnaHR0cHM6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2FwaS92MC9hZ2VudC90YWdzL3t9P3Jlc3BvbnNlRmllbGRzPWlkJy5mb3JtYXQoanNvbi5kdW1wcyh0YWdzQXJyYXkpKSwgJ0dFVCcsIHt9KQoKcmVzID0gYWdlbnRRdWVyeS5qc29uKCkKaWYgcmVzWydzdGF0dXNDb2RlJ10gPT0gNDA0OgogICAgcHJpbnQgJ05vIGFnZW50IHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPT0gMDoKICAgICAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g=","status":20,"dateStarted":"2020-06-02T04:08:17.833Z","stdout":"No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nIyEvdXNyL2Jpbi9weXRob24KaW1wb3J0IHN5cwppbXBvcnQgb3MKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBqc29uCmltcG9ydCBnemlwCmltcG9ydCBzaHV0aWwKaW1wb3J0IHRpbWUKCgp0b2tlbiA9ICcnCgpvcmdJZCA9ICI1ZGU5NWMwNDUzMTYyZTg4OTFmNWE4MzAiCmVtYWlsID0gInRlc3R1c2VyQHNhYXNnbHVlLmNvbSIKcGFzc3dvcmQgPSAibXlwYXNzd29yZCIKd29ya2luZ2RpciA9ICIvaG9tZS9lYzItdXNlciIKcGxhdGZvcm0gPSAibGludXgiCmFyY2ggPSBOb25lCmNvbmZpZyA9IHsidGFncyI6IHsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9fQoKb3V0RmlsZSA9ICd7fS9raWtpLWFnZW50LWxhdW5jaGVyJy5mb3JtYXQod29ya2luZ2RpcikKCgpkZWYgUmVzdEFQSUxvZ2luKCk6CiAgICBnbG9iYWwgdG9rZW4KICAgIGdsb2JhbCBlbWFpbAogICAgZ2xvYmFsIHBhc3N3b3JkCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6IGVtYWlsLAogICAgICAgICdwYXNzd29yZCc6IHBhc3N3b3JkCiAgICB9CgogICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9anNvbi5kdW1wcyhkYXRhKSkKICAgIGlmIChyZXMuc3RhdHVzX2NvZGUgIT0gMjAwKToKICAgICAgICByYWlzZSBFeGNlcHRpb24oCiAgICAgICAgICAgICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKZGVmIEdldERvd25sb2FkVXJsKCk6CiAgICBnbG9iYWwgdG9rZW4KICAgIGdsb2JhbCBvcmdJZAogICAgZ2xvYmFsIHBsYXRmb3JtCiAgICBnbG9iYWwgYXJjaAoKICAgIHdoaWxlIHRva2VuID09ICcnOgogICAgICAgIFJlc3RBUElMb2dpbigpCiAgICAgICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgICAgIHByaW50KCdBUEkgbG9naW4gZmFpbGVkJykKICAgICAgICAgICAgdGltZS5zbGVlcCg1KQogICAgICAgICAgICBwcmludCgnUmV0cnlpbmcgYXBpIGxvZ2luJykKCiAgICB1cmwgPSAnaHR0cHM6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2FwaS92MC9hZ2VudERvd25sb2FkL2FnZW50c3R1Yi97fScuZm9ybWF0KHBsYXRmb3JtKQogICAgaWYgYXJjaDoKICAgICAgICB1cmwgKz0gKCcvJyArIGFyY2gpCgogICAgaGVhZGVycyA9IHsKCSdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgJ19vcmdJZCc6IG9yZ0lkCiAgICB9CgogICAgd2hpbGUgVHJ1ZToKICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGlmIChyZXMuc3RhdHVzX2NvZGUgPT0gMjAwKToKICAgICAgICAgICAgYnJlYWsKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiAocmVzLnN0YXR1c19jb2RlID09IDMwMyk6CiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDEwKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpKQoKICAgIHJldHVybiByZXMuanNvbigpWydkYXRhJ10KCgpkZWYgRG93bmxvYWRBZ2VudCgpOgogICAgZ2xvYmFsIG91dEZpbGUKCiAgICBzM3VybCA9IEdldERvd25sb2FkVXJsKCkKCiAgICByZXMgPSByZXF1ZXN0cy5nZXQoczN1cmwsIGFsbG93X3JlZGlyZWN0cz1UcnVlKQoKICAgIG9wZW4oJ2tpa2ktYWdlbnQtbGF1bmNoZXIuZ3onLCAnd2InKS53cml0ZShyZXMuY29udGVudCkKCiAgICB3aXRoIGd6aXAub3Blbigna2lraS1hZ2VudC1sYXVuY2hlci5neicsICdyYicpIGFzIGZfaW46CiAgICAgICAgd2l0aCBvcGVuKG91dEZpbGUsICd3YicpIGFzIGZfb3V0OgogICAgICAgICAgICBzaHV0aWwuY29weWZpbGVvYmooZl9pbiwgZl9vdXQpCgogICAgb3MuY2htb2Qob3V0RmlsZSwgMG83NzcpCgogICAgb3MucmVtb3ZlKCdraWtpLWFnZW50LWxhdW5jaGVyLmd6JykKCgpEb3dubG9hZEFnZW50KCkKCmNvbmZpZ0ZpbGUgPSAne30va2lraS5jZmcnLmZvcm1hdCh3b3JraW5nZGlyKQp3aXRoIG9wZW4oY29uZmlnRmlsZSwgJ3cnKSBhcyBmOgogICAganNvbi5kdW1wKGNvbmZpZywgZiwgaW5kZW50PTQpCgpvcy5zeXN0ZW0oJ3N1IC0gZWMyLXVzZXIgLWMge30nLmZvcm1hdChvdXRGaWxlKSkKCiMgY21kID0gIiIiCiMgZWNobyB8IGNyb250YWIKIyAoY3JvbnRhYiAtbCA7IGVjaG8gIiovMSAqICogKiAqIC91c3IvYmluL2Zsb2NrIC1uIC90bXAvc3RhcnRfa2lraV9hZ2VudF9sYXVuY2hlci5sb2NrZmlsZSB7fSIpIHwgY3JvbnRhYiAtCiMgIiIiLmZvcm1hdChvdXRGaWxlKQoKIyBvcy5zeXN0ZW0oY21kKQ==\nLaunching between 1 and 1 ec2 instances of type \"t1.micro\"\n...waiting for \"i-0740a7df122564ced\" status\n...waiting for \"i-0740a7df122564ced\" status\n...instance i-0740a7df122564ced is running\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is initializing\n...instance i-0740a7df122564ced is ok\nLaunched 1 ec2 t1.micro instance(s) [i-0740a7df122564ced]\n","dateCompleted":"2020-06-02T04:11:21.336Z","exitCode":0,"signal":null,"stderr":"","id":"5ed5d0b1759b110015403a47","version":0},{"tail":["# (crontab -l ; echo \"*/1 * * * * /usr/bin/flock -n /tmp/start_kiki_agent_launcher.lockfile {}\") | crontab -","# \"\"\".format(outFile)","# os.system(cmd)","IyEvdXNyL2Jpbi9weXRob24KaW1wb3J0IHN5cwppbXBvcnQgb3MKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBqc29uCmltcG9ydCBnemlwCmltcG9ydCBzaHV0aWwKaW1wb3J0IHRpbWUKCgp0b2tlbiA9ICcnCgpvcmdJZCA9ICI1ZGU5NWMwNDUzMTYyZTg4OTFmNWE4MzAiCmVtYWlsID0gInRlc3R1c2VyQHNhYXNnbHVlLmNvbSIKcGFzc3dvcmQgPSAibXlwYXNzd29yZCIKd29ya2luZ2RpciA9ICIvaG9tZS9lYzItdXNlciIKcGxhdGZvcm0gPSAibGludXgiCmFyY2ggPSBOb25lCmNvbmZpZyA9IHsidGFncyI6IHsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9LCAicHJvcGVydHlPdmVycmlkZXMiOiB7ImluYWN0aXZlQWdlbnRUYXNrIjogeyJuYW1lIjogIkluYWN0aXZlQWdlbnRUYXNrIiwgInNjcmlwdCI6IHsgIl9pZCI6ICI1ZWQ1ZDQ3NTc1OWIxMTAwMTU0MDNhNDkifSwgImFyZ3VtZW50cyI6ICIifSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiAzMDAwMH19CgpvdXRGaWxlID0gJ3t9L2tpa2ktYWdlbnQtbGF1bmNoZXInLmZvcm1hdCh3b3JraW5nZGlyKQoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgogICAgZ2xvYmFsIGVtYWlsCiAgICBnbG9iYWwgcGFzc3dvcmQKCiAgICB1cmwgPSAnaHR0cDovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vbG9naW4vYXBpTG9naW4nCiAgICAKICAgIGhlYWRlcnMgPSB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgfQoKICAgIGRhdGEgPSB7CiAg (truncated)","Launching between 1 and 1 ec2 instances of type \"t1.micro\""],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d78a759b110015403a4a","_stepId":"5ed5d78a759b110015403a4c","_taskOutcomeId":"5ed5d78b759b110015403a4d","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICcidGVzdHVzZXJAc2Fhc2dsdWUuY29tIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICcibXlwYXNzd29yZCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiNWVkNWQ0NzU3NTliMTEwMDE1NDAzYTQ5In0sICJhcmd1bWVudHMiOiAiIn0sICJpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lIjogMzAwMDB9fScpCiAgICAgICAgCiAgICAgICAgcHJpbnQoZGF0YSkKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgCiAgICAgICAgZGF0YV9ieXRlcyA9IGRhdGEuZW5jb2RlKCd1dGY4JykKICAgICAgICBiYXNlNjRfYnl0ZXMgPSBiYXNlNjQuYjY0ZW5jb2RlKGRhdGFfYnl0ZXMpCgogICAgICAgIHByaW50KGJhc2U2NF9ieXRlcykKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgICAgIGxhdW5jaF9lYzJfaW5zdGFuY2UoJ2FtaS0wOTllODgyYjA4NzZjODEyNCcsICdraWtpLTIwMTlRMScsICd0MS5taWNybycsIFsnc2ctMDM2ZGUyNTM3YzA1OWE0YWYnXSwgJ3N1Ym5ldC1kNDdhMmJmYScsICd2cGMtZDJkM2I0YTgnLCAxLCAxLCBiYXNlNjRfYnl0ZXMsICdOb25lJywgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICc1ZGU5NWMwNDUzMTYyZTg4OTFmNWE4MzAnCiAgICAgICAgfQoKICAgICAgICBoZWFkZXJzLnVwZGF0ZShkZWZhdWx0X2hlYWRlcnMpCgogICAgICAgIGlmIG1ldGhvZCA9PSAnUE9TVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ1BVVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLnB1dCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnR0VUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMuZ2V0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycykKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oJ3t9IG1ldGhvZCBub3Qgc3VwcG9ydGVkJy5mb3JtYXQobWV0aG9kKSkKICAgICAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgc3RyKHJlc1snc3RhdHVzX2NvZGUnXSlbMF0gIT0gJzInOgogICAgICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQogICAgICAgIAogICAgICAgIHJldHVybiByZXMKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXg6CiAgICAgICAgcHJpbnQgeydNZXRob2QnOiAnUmVzdEFQSUNhbGwnLCAnRXJyb3InOiBleCwgJ3VybCc6IHVybCwgJ21ldGhvZCc6IG1ldGhvZCwgJ19vcmdJZCc6IF9vcmdJZCwgJ2hlYWRlcnMnOiBoZWFkZXJzLCAnZGF0YSc6IGRhdGF9CiAgICAgICAgcmFpc2UgZXgKCgpkZWYgUmVzdEFQSUxvZ2luKCk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB1cmwgPSAnaHR0cDovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vbG9naW4vYXBpTG9naW4nCiAgICAKICAgIGhlYWRlcnMgPSB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgfQoKICAgIGRhdGEgPSB7CiAgICAgICAgJ2VtYWlsJzogJ3Rlc3R1c2VyQHNhYXNnbHVlLmNvbScsCiAgICAgICAgJ3Bhc3N3b3JkJzogJ215cGFzc3dvcmQnCiAgICB9CgogICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9anNvbi5kdW1wcyhkYXRhKSkKICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCByZXNbJ3N0YXR1c19jb2RlJ10gIT0gMjAwOgogICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKCiAgICB0b2tlbiA9IHJlcy5jb29raWVzLmdldF9kaWN0KClbJ0F1dGgnXQoKCndoaWxlIHRva2VuID09ICcnOgogICAgUmVzdEFQSUxvZ2luKCkKICAgIGlmIHRva2VuID09ICcnOgogICAgICAgIHByaW50ICdBUEkgbG9naW4gZmFpbGVkJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICB0aW1lLnNsZWVwKDUpCiAgICAgICAgcHJpbnQgJ1JldHJ5aW5nIGFwaSBsb2dpbicKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCgp0YWdzID0ganNvbi5sb2FkcygneyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0nKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgInsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9IiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZScKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcih0YWdzKQplbGlmIHJlc1snc3RhdHVzQ29kZSddICE9IDIwMDoKICAgIG1zZyA9ICdDYWxsIHRvIGdldCBhZ2VudHMgd2l0aCB0YWdzIGZhaWxlZCcKICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCmVsc2U6CiAgICBpZiBsZW4ocmVzWydkYXRhJ10pID09IDA6CiAgICAgICAgcHJpbnQgJ05vIGFnZW50IHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIoKQogICAgZWxzZToKICAgICAgICBwcmludCAnQXQgbGVhc3Qgb25lIGFnZW50IHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo","status":22,"dateStarted":"2020-06-02T04:37:31.060Z","dateCompleted":"2020-06-02T04:37:32.318Z","exitCode":1,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Traceback (most recent call last):\n  File \"/home/ec2-user/kaxHF7VWM4/MWvP5VHk4C.py\", line 117, in <module>\n    LaunchNewAgentBuilder(tags)\n  File \"/home/ec2-user/kaxHF7VWM4/MWvP5VHk4C.py\", line 44, in LaunchNewAgentBuilder\n    launch_ec2_instance('ami-099e882b0876c8124', 'kiki-2019Q1', 't1.micro', ['sg-036de2537c059a4af'], 'subnet-d47a2bfa', 'vpc-d2d3b4a8', 1, 1, base64_bytes, 'None', tags)\n  File \"/home/ec2-user/kaxHF7VWM4/ec2_access.py\", line 41, in launch_ec2_instance\n    IamInstanceProfile=instanceProfile)\n  File \"/home/ec2-user/.local/lib/python2.7/site-packages/boto3/resources/factory.py\", line 520, in do_action\n    response = action(self, *args, **kwargs)\n  File \"/home/ec2-user/.local/lib/python2.7/site-packages/boto3/resources/action.py\", line 83, in __call__\n    response = getattr(parent.meta.client, operation_name)(*args, **params)\n  File \"/home/ec2-user/.local/lib/python2.7/site-packages/botocore/client.py\", line 316, in _api_call\n    return self._make_api_call(operation_name, kwargs)\n  File \"/home/ec2-user/.local/lib/python2.7/site-packages/botocore/client.py\", line 635, in _make_api_call\n    raise error_class(parsed_response, operation_name)\nbotocore.exceptions.ClientError: An error occurred (InvalidParameterValue) when calling the RunInstances operation: Value (None) for parameter iamInstanceProfile.name is invalid. Invalid IAM Instance Profile name\n","stdout":"No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\n#!/usr/bin/python\nimport sys\nimport os\nimport requests\nimport json\nimport gzip\nimport shutil\nimport time\ntoken = ''\norgId = \"5de95c0453162e8891f5a830\"\nemail = \"testuser@saasglue.com\"\npassword = \"mypassword\"\nworkingdir = \"/home/ec2-user\"\nplatform = \"linux\"\narch = None\nconfig = {\"tags\": {\"agentbuilder\":\"true\"}, \"propertyOverrides\": {\"inactiveAgentTask\": {\"name\": \"InactiveAgentTask\", \"script\": { \"_id\": \"5ed5d475759b110015403a49\"}, \"arguments\": \"\"}, \"inactivePeriodWaitTime\": 30000}}\noutFile = '{}/sg-agent-launcher'.format(workingdir)\ndef RestAPILogin():\n    global token\n    global email\n    global password\n    url = 'http://kiki-go-server.herokuapp.com/login/apiLogin'\n    \n    headers = {\n        'Content-Type': 'application/json'\n    }\n    data = {\n        'email': email,\n        'password': password\n    }\n    res = requests.post(url=url, headers=headers, data=json.dumps(data))\n    if (res.status_code != 200):\n        raise Exception(\n            'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    token = res.cookies.get_dict()['Auth']\ndef GetDownloadUrl():\n    global token\n    global teamId\n    global platform\n    global arch\n    while token == '':\n        RestAPILogin()\n        if token == '':\n            print('API login failed')\n            time.sleep(5)\n            print('Retrying api login')\n    url = 'https://kiki-go-server.herokuapp.com/api/v0/agentDownload/agentstub/{}'.format(platform)\n    if arch:\n        url += ('/' + arch)\n    headers = {\n\t'Cookie': 'Auth={};'.format(token),\n        '_teamId': teamId\n    }\n    while True:\n        res = requests.get(url=url, headers=headers)\n        if (res.status_code == 200):\n            break\n        else:\n            if (res.status_code == 303):\n                time.sleep(10)\n            else:\n                raise Exception(\n                    'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    return res.json()['data']\ndef DownloadAgent():\n    global outFile\n    s3url = GetDownloadUrl()\n    res = requests.get(s3url, allow_redirects=True)\n    open('sg-agent-launcher.gz', 'wb').write(res.content)\n    with gzip.open('sg-agent-launcher.gz', 'rb') as f_in:\n        with open(outFile, 'wb') as f_out:\n            shutil.copyfileobj(f_in, f_out)\n    os.chmod(outFile, 0o777)\n    os.remove('sg-agent-launcher.gz')\nDownloadAgent()\nconfigFile = '{}/kiki.cfg'.format(workingdir)\nwith open(configFile, 'w') as f:\n    json.dump(config, f, indent=4)\nos.system('su - ec2-user -c {}'.format(outFile))\n# cmd = \"\"\"\n# echo | crontab\n# (crontab -l ; echo \"*/1 * * * * /usr/bin/flock -n /tmp/start_kiki_agent_launcher.lockfile {}\") | crontab -\n# \"\"\".format(outFile)\n# os.system(cmd)\nIyEvdXNyL2Jpbi9weXRob24KaW1wb3J0IHN5cwppbXBvcnQgb3MKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBqc29uCmltcG9ydCBnemlwCmltcG9ydCBzaHV0aWwKaW1wb3J0IHRpbWUKCgp0b2tlbiA9ICcnCgpvcmdJZCA9ICI1ZGU5NWMwNDUzMTYyZTg4OTFmNWE4MzAiCmVtYWlsID0gInRlc3R1c2VyQHNhYXNnbHVlLmNvbSIKcGFzc3dvcmQgPSAibXlwYXNzd29yZCIKd29ya2luZ2RpciA9ICIvaG9tZS9lYzItdXNlciIKcGxhdGZvcm0gPSAibGludXgiCmFyY2ggPSBOb25lCmNvbmZpZyA9IHsidGFncyI6IHsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9LCAicHJvcGVydHlPdmVycmlkZXMiOiB7ImluYWN0aXZlQWdlbnRUYXNrIjogeyJuYW1lIjogIkluYWN0aXZlQWdlbnRUYXNrIiwgInNjcmlwdCI6IHsgIl9pZCI6ICI1ZWQ1ZDQ3NTc1OWIxMTAwMTU0MDNhNDkifSwgImFyZ3VtZW50cyI6ICIifSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiAzMDAwMH19CgpvdXRGaWxlID0gJ3t9L2tpa2ktYWdlbnQtbGF1bmNoZXInLmZvcm1hdCh3b3JraW5nZGlyKQoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgogICAgZ2xvYmFsIGVtYWlsCiAgICBnbG9iYWwgcGFzc3dvcmQKCiAgICB1cmwgPSAnaHR0cDovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vbG9naW4vYXBpTG9naW4nCiAgICAKICAgIGhlYWRlcnMgPSB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgfQoKICAgIGRhdGEgPSB7CiAgICAgICAgJ2VtYWlsJzogZW1haWwsCiAgICAgICAgJ3Bhc3N3b3JkJzogcGFzc3dvcmQKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgKHJlcy5zdGF0dXNfY29kZSAhPSAyMDApOgogICAgICAgIHJhaXNlIEV4Y2VwdGlvbigKICAgICAgICAgICAgJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkpCgogICAgdG9rZW4gPSByZXMuY29va2llcy5nZXRfZGljdCgpWydBdXRoJ10KCgpkZWYgR2V0RG93bmxvYWRVcmwoKToKICAgIGdsb2JhbCB0b2tlbgogICAgZ2xvYmFsIG9yZ0lkCiAgICBnbG9iYWwgcGxhdGZvcm0KICAgIGdsb2JhbCBhcmNoCgogICAgd2hpbGUgdG9rZW4gPT0gJyc6CiAgICAgICAgUmVzdEFQSUxvZ2luKCkKICAgICAgICBpZiB0b2tlbiA9PSAnJzoKICAgICAgICAgICAgcHJpbnQoJ0FQSSBsb2dpbiBmYWlsZWQnKQogICAgICAgICAgICB0aW1lLnNsZWVwKDUpCiAgICAgICAgICAgIHByaW50KCdSZXRyeWluZyBhcGkgbG9naW4nKQoKICAgIHVybCA9ICdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50RG93bmxvYWQvYWdlbnRzdHViL3t9Jy5mb3JtYXQocGxhdGZvcm0pCiAgICBpZiBhcmNoOgogICAgICAgIHVybCArPSAoJy8nICsgYXJjaCkKCiAgICBoZWFkZXJzID0gewoJJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAnX29yZ0lkJzogb3JnSWQKICAgIH0KCiAgICB3aGlsZSBUcnVlOgogICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgaWYgKHJlcy5zdGF0dXNfY29kZSA9PSAyMDApOgogICAgICAgICAgICBicmVhawogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzX2NvZGUgPT0gMzAzKToKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMTApCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkpCgogICAgcmV0dXJuIHJlcy5qc29uKClbJ2RhdGEnXQoKCmRlZiBEb3dubG9hZEFnZW50KCk6CiAgICBnbG9iYWwgb3V0RmlsZQoKICAgIHMzdXJsID0gR2V0RG93bmxvYWRVcmwoKQoKICAgIHJlcyA9IHJlcXVlc3RzLmdldChzM3VybCwgYWxsb3dfcmVkaXJlY3RzPVRydWUpCgogICAgb3Blbigna2lraS1hZ2VudC1sYXVuY2hlci5neicsICd3YicpLndyaXRlKHJlcy5jb250ZW50KQoKICAgIHdpdGggZ3ppcC5vcGVuKCdraWtpLWFnZW50LWxhdW5jaGVyLmd6JywgJ3JiJykgYXMgZl9pbjoKICAgICAgICB3aXRoIG9wZW4ob3V0RmlsZSwgJ3diJykgYXMgZl9vdXQ6CiAgICAgICAgICAgIHNodXRpbC5jb3B5ZmlsZW9iaihmX2luLCBmX291dCkKCiAgICBvcy5jaG1vZChvdXRGaWxlLCAwbzc3NykKCiAgICBvcy5yZW1vdmUoJ2tpa2ktYWdlbnQtbGF1bmNoZXIuZ3onKQoKCkRvd25sb2FkQWdlbnQoKQoKY29uZmlnRmlsZSA9ICd7fS9raWtpLmNmZycuZm9ybWF0KHdvcmtpbmdkaXIpCndpdGggb3Blbihjb25maWdGaWxlLCAndycpIGFzIGY6CiAgICBqc29uLmR1bXAoY29uZmlnLCBmLCBpbmRlbnQ9NCkKCm9zLnN5c3RlbSgnc3UgLSBlYzItdXNlciAtYyB7fScuZm9ybWF0KG91dEZpbGUpKQoKIyBjbWQgPSAiIiIKIyBlY2hvIHwgY3JvbnRhYgojIChjcm9udGFiIC1sIDsgZWNobyAiKi8xICogKiAqICogL3Vzci9iaW4vZmxvY2sgLW4gL3RtcC9zdGFydF9raWtpX2FnZW50X2xhdW5jaGVyLmxvY2tmaWxlIHt9IikgfCBjcm9udGFiIC0KIyAiIiIuZm9ybWF0KG91dEZpbGUpCgojIG9zLnN5c3RlbShjbWQp\nLaunching between 1 and 1 ec2 instances of type \"t1.micro\"\n","id":"5ed5d78b759b110015403a4e","version":0},{"tail":["...instance i-0a13598ec8b7a8ad3 is initializing","...instance i-0a13598ec8b7a8ad3 is initializing","...instance i-0a13598ec8b7a8ad3 is initializing","...instance i-0a13598ec8b7a8ad3 is ok","Launched 1 ec2 t1.micro instance(s) [i-0a13598ec8b7a8ad3]"],"lastUpdateId":26,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d972759b110015403a4f","_stepId":"5ed5d972759b110015403a51","_taskOutcomeId":"5ed5d973759b110015403a52","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICcidGVzdHVzZXJAc2Fhc2dsdWUuY29tIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICcibXlwYXNzd29yZCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiNWVkNWQ0NzU3NTliMTEwMDE1NDAzYTQ5In0sICJhcmd1bWVudHMiOiAiIn0sICJpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lIjogMzAwMDB9fScpCiAgICAgICAgCiAgICAgICAgcHJpbnQoZGF0YSkKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgCiAgICAgICAgZGF0YV9ieXRlcyA9IGRhdGEuZW5jb2RlKCd1dGY4JykKICAgICAgICBiYXNlNjRfYnl0ZXMgPSBiYXNlNjQuYjY0ZW5jb2RlKGRhdGFfYnl0ZXMpCgogICAgICAgIGxhdW5jaF9lYzJfaW5zdGFuY2UoJ2FtaS0wOTllODgyYjA4NzZjODEyNCcsICdraWtpLTIwMTlRMScsICd0MS5taWNybycsIFsnc2ctMDM2ZGUyNTM3YzA1OWE0YWYnXSwgJ3N1Ym5ldC1kNDdhMmJmYScsICd2cGMtZDJkM2I0YTgnLCAxLCAxLCBiYXNlNjRfYnl0ZXMsIE5vbmUsIHRhZ3MpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICd0ZXN0dXNlckBzYWFzZ2x1ZS5jb20nLAogICAgICAgICdwYXNzd29yZCc6ICdteXBhc3N3b3JkJwogICAgfQoKICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWpzb24uZHVtcHMoZGF0YSkpCiAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgcmVzWydzdGF0dXNfY29kZSddICE9IDIwMDoKICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCgogICAgdG9rZW4gPSByZXMuY29va2llcy5nZXRfZGljdCgpWydBdXRoJ10KCgp3aGlsZSB0b2tlbiA9PSAnJzoKICAgIFJlc3RBUElMb2dpbigpCiAgICBpZiB0b2tlbiA9PSAnJzoKICAgICAgICBwcmludCAnQVBJIGxvZ2luIGZhaWxlZCcKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgdGltZS5zbGVlcCg1KQogICAgICAgIHByaW50ICdSZXRyeWluZyBhcGkgbG9naW4nCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKdGFncyA9IGpzb24ubG9hZHMoJ3siYWdlbnRidWlsZGVyIjoidHJ1ZSJ9JykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgInsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9IiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZScKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ0F0IGxlYXN0IG9uZSBhZ2VudCB3aXRoIHRhZ3MgInsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9IiBhbHJlYWR5IHJ1bm5pbmcnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaA==","status":20,"dateStarted":"2020-06-02T04:45:39.238Z","stdout":"No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\n#!/usr/bin/python\nimport sys\nimport os\nimport requests\nimport json\nimport gzip\nimport shutil\nimport time\ntoken = ''\norgId = \"5de95c0453162e8891f5a830\"\nemail = \"testuser@saasglue.com\"\npassword = \"mypassword\"\nworkingdir = \"/home/ec2-user\"\nplatform = \"linux\"\narch = None\nconfig = {\"tags\": {\"agentbuilder\":\"true\"}, \"propertyOverrides\": {\"inactiveAgentTask\": {\"name\": \"InactiveAgentTask\", \"script\": { \"_id\": \"5ed5d475759b110015403a49\"}, \"arguments\": \"\"}, \"inactivePeriodWaitTime\": 30000}}\noutFile = '{}/sg-agent-launcher'.format(workingdir)\ndef RestAPILogin():\n    global token\n    global email\n    global password\n    url = 'http://kiki-go-server.herokuapp.com/login/apiLogin'\n    \n    headers = {\n        'Content-Type': 'application/json'\n    }\n    data = {\n        'email': email,\n        'password': password\n    }\n    res = requests.post(url=url, headers=headers, data=json.dumps(data))\n    if (res.status_code != 200):\n        raise Exception(\n            'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    token = res.cookies.get_dict()['Auth']\ndef GetDownloadUrl():\n    global token\n    global teamId\n    global platform\n    global arch\n    while token == '':\n        RestAPILogin()\n        if token == '':\n            print('API login failed')\n            time.sleep(5)\n            print('Retrying api login')\n    url = 'https://kiki-go-server.herokuapp.com/api/v0/agentDownload/agentstub/{}'.format(platform)\n    if arch:\n        url += ('/' + arch)\n    headers = {\n\t'Cookie': 'Auth={};'.format(token),\n        '_teamId': teamId\n    }\n    while True:\n        res = requests.get(url=url, headers=headers)\n        if (res.status_code == 200):\n            break\n        else:\n            if (res.status_code == 303):\n                time.sleep(10)\n            else:\n                raise Exception(\n                    'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    return res.json()['data']\ndef DownloadAgent():\n    global outFile\n    s3url = GetDownloadUrl()\n    res = requests.get(s3url, allow_redirects=True)\n    open('sg-agent-launcher.gz', 'wb').write(res.content)\n    with gzip.open('sg-agent-launcher.gz', 'rb') as f_in:\n        with open(outFile, 'wb') as f_out:\n            shutil.copyfileobj(f_in, f_out)\n    os.chmod(outFile, 0o777)\n    os.remove('sg-agent-launcher.gz')\nDownloadAgent()\nconfigFile = '{}/kiki.cfg'.format(workingdir)\nwith open(configFile, 'w') as f:\n    json.dump(config, f, indent=4)\nos.system('su - ec2-user -c {}'.format(outFile))\n# cmd = \"\"\"\n# echo | crontab\n# (crontab -l ; echo \"*/1 * * * * /usr/bin/flock -n /tmp/start_kiki_agent_launcher.lockfile {}\") | crontab -\n# \"\"\".format(outFile)\n# os.system(cmd)\nLaunching between 1 and 1 ec2 instances of type \"t1.micro\"\n...waiting for \"i-0a13598ec8b7a8ad3\" status\n...waiting for \"i-0a13598ec8b7a8ad3\" status\n...instance i-0a13598ec8b7a8ad3 is running\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is initializing\n...instance i-0a13598ec8b7a8ad3 is ok\nLaunched 1 ec2 t1.micro instance(s) [i-0a13598ec8b7a8ad3]\n","dateCompleted":"2020-06-02T04:49:43.160Z","exitCode":0,"signal":null,"stderr":"","id":"5ed5d973759b110015403a53","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d9f4759b110015403a55","_stepId":"5ed5d9f4759b110015403a57","_taskOutcomeId":"5ed5d9f4759b110015403a58","name":"Step1","source":1,"machineId":"ip-172-31-80-129","ipAddress":"172.31.80.129","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ=","status":22,"dateStarted":"2020-06-02T04:47:48.548Z","dateCompleted":"2020-06-02T04:47:54.230Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"You must specify a region. You can also configure your region by running \"aws configure\".\n","stdout":"","id":"5ed5d9f4759b110015403a59","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da17759b110015403a5a","_stepId":"5ed5da17759b110015403a5c","_taskOutcomeId":"5ed5da17759b110015403a5d","name":"Step1","source":1,"machineId":"ip-172-31-80-129","ipAddress":"172.31.80.129","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ=","status":22,"dateStarted":"2020-06-02T04:48:23.660Z","dateCompleted":"2020-06-02T04:48:24.454Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"You must specify a region. You can also configure your region by running \"aws configure\".\n","stdout":"","id":"5ed5da17759b110015403a5e","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da35759b110015403a5f","_stepId":"5ed5da35759b110015403a61","_taskOutcomeId":"5ed5da35759b110015403a62","name":"Step1","source":1,"machineId":"ip-172-31-80-129","ipAddress":"172.31.80.129","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ=","status":22,"dateStarted":"2020-06-02T04:48:53.805Z","dateCompleted":"2020-06-02T04:48:54.594Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"You must specify a region. You can also configure your region by running \"aws configure\".\n","stdout":"","id":"5ed5da35759b110015403a63","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da53759b110015403a64","_stepId":"5ed5da53759b110015403a66","_taskOutcomeId":"5ed5da53759b110015403a67","name":"Step1","source":1,"machineId":"ip-172-31-80-129","ipAddress":"172.31.80.129","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ=","status":22,"dateStarted":"2020-06-02T04:49:23.927Z","dateCompleted":"2020-06-02T04:49:24.700Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"You must specify a region. You can also configure your region by running \"aws configure\".\n","stdout":"","id":"5ed5da53759b110015403a68","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da71759b110015403a69","_stepId":"5ed5da71759b110015403a6b","_taskOutcomeId":"5ed5da72759b110015403a6c","name":"Step1","source":1,"machineId":"ip-172-31-80-129","ipAddress":"172.31.80.129","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ=","status":22,"dateStarted":"2020-06-02T04:49:54.033Z","dateCompleted":"2020-06-02T04:49:54.805Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"You must specify a region. You can also configure your region by running \"aws configure\".\n","stdout":"","id":"5ed5da72759b110015403a6d","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da90759b110015403a6e","_stepId":"5ed5da90759b110015403a70","_taskOutcomeId":"5ed5da90759b110015403a71","name":"Step1","source":1,"machineId":"ip-172-31-80-129","ipAddress":"172.31.80.129","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ=","status":22,"dateStarted":"2020-06-02T04:50:24.208Z","dateCompleted":"2020-06-02T04:50:25.022Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"You must specify a region. You can also configure your region by running \"aws configure\".\n","stdout":"","id":"5ed5da90759b110015403a72","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5daae759b110015403a73","_stepId":"5ed5daae759b110015403a75","_taskOutcomeId":"5ed5daae759b110015403a76","name":"Step1","source":1,"machineId":"ip-172-31-80-129","ipAddress":"172.31.80.129","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ=","status":22,"dateStarted":"2020-06-02T04:50:54.383Z","dateCompleted":"2020-06-02T04:50:55.166Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"You must specify a region. You can also configure your region by running \"aws configure\".\n","stdout":"","id":"5ed5daae759b110015403a77","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5dacc759b110015403a78","_stepId":"5ed5dacc759b110015403a7a","_taskOutcomeId":"5ed5dacc759b110015403a7b","name":"Step1","source":1,"machineId":"ip-172-31-80-129","ipAddress":"172.31.80.129","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ=","status":22,"dateStarted":"2020-06-02T04:51:24.537Z","dateCompleted":"2020-06-02T04:51:25.317Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"You must specify a region. You can also configure your region by running \"aws configure\".\n","stdout":"","id":"5ed5dacc759b110015403a7c","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5daea759b110015403a7d","_stepId":"5ed5daea759b110015403a7f","_taskOutcomeId":"5ed5daea759b110015403a80","name":"Step1","source":1,"machineId":"ip-172-31-80-129","ipAddress":"172.31.80.129","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQ=","status":22,"dateStarted":"2020-06-02T04:51:54.787Z","dateCompleted":"2020-06-02T04:51:55.576Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"You must specify a region. You can also configure your region by running \"aws configure\".\n","stdout":"","id":"5ed5daea759b110015403a81","version":0},{"tail":["            \"Groups\": [], ","            \"OwnerId\": \"253049624075\"","        }","    ]","}"],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed678a0759b110015403a82","_stepId":"5ed678a0759b110015403a84","_taskOutcomeId":"5ed678a1759b110015403a85","name":"Step1","source":0,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKYXdzIGVjMiBkZXNjcmliZS1pbnN0YW5jZXMgLS1pbnN0YW5jZS1pZHMgJEFXU19JTlNUQU5DRV9JRAo=","status":20,"dateStarted":"2020-06-02T16:04:49.163Z","dateCompleted":"2020-06-02T16:04:50.021Z","exitCode":0,"signal":null,"stderr":"","stdout":"{\n    \"Reservations\": [\n        {\n            \"Instances\": [\n                {\n                    \"Monitoring\": {\n                        \"State\": \"disabled\"\n                    }, \n                    \"PublicDnsName\": \"ec2-34-198-95-38.compute-1.amazonaws.com\", \n                    \"State\": {\n                        \"Code\": 16, \n                        \"Name\": \"running\"\n                    }, \n                    \"EbsOptimized\": false, \n                    \"LaunchTime\": \"2019-07-03T22:22:47.000Z\", \n                    \"PublicIpAddress\": \"34.198.95.38\", \n                    \"PrivateIpAddress\": \"172.31.93.56\", \n                    \"ProductCodes\": [], \n                    \"VpcId\": \"vpc-d2d3b4a8\", \n                    \"CpuOptions\": {\n                        \"CoreCount\": 1, \n                        \"ThreadsPerCore\": 1\n                    }, \n                    \"StateTransitionReason\": \"\", \n                    \"InstanceId\": \"i-01f68dd82e2128451\", \n                    \"EnaSupport\": true, \n                    \"ImageId\": \"ami-0cc96feef8c6bbff3\", \n                    \"PrivateDnsName\": \"ip-172-31-93-56.ec2.internal\", \n                    \"KeyName\": \"kiki-2019Q1\", \n                    \"SecurityGroups\": [\n                        {\n                            \"GroupName\": \"ssh\", \n                            \"GroupId\": \"sg-036de2537c059a4af\"\n                        }\n                    ], \n                    \"ClientToken\": \"\", \n                    \"SubnetId\": \"subnet-d47a2bfa\", \n                    \"InstanceType\": \"t2.micro\", \n                    \"CapacityReservationSpecification\": {\n                        \"CapacityReservationPreference\": \"open\"\n                    }, \n                    \"NetworkInterfaces\": [\n                        {\n                            \"Status\": \"in-use\", \n                            \"MacAddress\": \"12:5d:d7:4e:26:e0\", \n                            \"SourceDestCheck\": true, \n                            \"VpcId\": \"vpc-d2d3b4a8\", \n                            \"Description\": \"\", \n                            \"NetworkInterfaceId\": \"eni-084900d465ebe6347\", \n                            \"PrivateIpAddresses\": [\n                                {\n                                    \"PrivateDnsName\": \"ip-172-31-93-56.ec2.internal\", \n                                    \"PrivateIpAddress\": \"172.31.93.56\", \n                                    \"Primary\": true, \n                                    \"Association\": {\n                                        \"PublicIp\": \"34.198.95.38\", \n                                        \"PublicDnsName\": \"ec2-34-198-95-38.compute-1.amazonaws.com\", \n                                        \"IpOwnerId\": \"253049624075\"\n                                    }\n                                }\n                            ], \n                            \"PrivateDnsName\": \"ip-172-31-93-56.ec2.internal\", \n                            \"Attachment\": {\n                                \"Status\": \"attached\", \n                                \"DeviceIndex\": 0, \n                                \"DeleteOnTermination\": true, \n                                \"AttachmentId\": \"eni-attach-038deb82c9b49ccd5\", \n                                \"AttachTime\": \"2019-06-21T02:41:40.000Z\"\n                            }, \n                            \"Groups\": [\n                                {\n                                    \"GroupName\": \"ssh\", \n                                    \"GroupId\": \"sg-036de2537c059a4af\"\n                                }\n                            ], \n                            \"Ipv6Addresses\": [], \n                            \"OwnerId\": \"253049624075\", \n                            \"PrivateIpAddress\": \"172.31.93.56\", \n                            \"SubnetId\": \"subnet-d47a2bfa\", \n                            \"Association\": {\n                                \"PublicIp\": \"34.198.95.38\", \n                                \"PublicDnsName\": \"ec2-34-198-95-38.compute-1.amazonaws.com\", \n                                \"IpOwnerId\": \"253049624075\"\n                            }\n                        }\n                    ], \n                    \"SourceDestCheck\": true, \n                    \"Placement\": {\n                        \"Tenancy\": \"default\", \n                        \"GroupName\": \"\", \n                        \"AvailabilityZone\": \"us-east-1d\"\n                    }, \n                    \"Hypervisor\": \"xen\", \n                    \"BlockDeviceMappings\": [\n                        {\n                            \"DeviceName\": \"/dev/xvda\", \n                            \"Ebs\": {\n                                \"Status\": \"attached\", \n                                \"DeleteOnTermination\": true, \n                                \"VolumeId\": \"vol-035df32d3eb88e1b7\", \n                                \"AttachTime\": \"2019-06-21T02:41:41.000Z\"\n                            }\n                        }\n                    ], \n                    \"Architecture\": \"x86_64\", \n                    \"RootDeviceType\": \"ebs\", \n                    \"IamInstanceProfile\": {\n                        \"Id\": \"AIPATV2XO2YF22S3ON5ZP\", \n                        \"Arn\": \"arn:aws:iam::253049624075:instance-profile/ec2-admin\"\n                    }, \n                    \"RootDeviceName\": \"/dev/xvda\", \n                    \"VirtualizationType\": \"hvm\", \n                    \"Tags\": [\n                        {\n                            \"Value\": \"sg-agent-test-1\", \n                            \"Key\": \"Name\"\n                        }, \n                        {\n                            \"Value\": \"true\", \n                            \"Key\": \"ec2admin\"\n                        }\n                    ], \n                    \"HibernationOptions\": {\n                        \"Configured\": false\n                    }, \n                    \"AmiLaunchIndex\": 0\n                }\n            ], \n            \"ReservationId\": \"r-0484bbd613f61b252\", \n            \"Groups\": [], \n            \"OwnerId\": \"253049624075\"\n        }\n    ]\n}\n","id":"5ed678a1759b110015403a86","version":0},{"tail":["...instance i-0da3f0c176ec17ce6 is initializing","...instance i-0da3f0c176ec17ce6 is initializing","...instance i-0da3f0c176ec17ce6 is initializing","...instance i-0da3f0c176ec17ce6 is ok","Launched 1 ec2 t1.micro instance(s) [i-0da3f0c176ec17ce6]"],"lastUpdateId":30,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67a47759b110015403a87","_stepId":"5ed67a47759b110015403a89","_taskOutcomeId":"5ed67a47759b110015403a8a","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICcidGVzdHVzZXJAc2Fhc2dsdWUuY29tIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICcibXlwYXNzd29yZCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiNWVkNWQ0NzU3NTliMTEwMDE1NDAzYTQ5In0sICJhcmd1bWVudHMiOiAiIn0sICJpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lIjogMzAwMDB9fScpCiAgICAgICAgCiAgICAgICAgcHJpbnQoZGF0YSkKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgCiAgICAgICAgZGF0YV9ieXRlcyA9IGRhdGEuZW5jb2RlKCd1dGY4JykKICAgICAgICBiYXNlNjRfYnl0ZXMgPSBiYXNlNjQuYjY0ZW5jb2RlKGRhdGFfYnl0ZXMpCgogICAgICAgIGxhdW5jaF9lYzJfaW5zdGFuY2UoJ2FtaS0wOTllODgyYjA4NzZjODEyNCcsICdraWtpLTIwMTlRMScsICd0MS5taWNybycsIFsnc2ctMDM2ZGUyNTM3YzA1OWE0YWYnXSwgJ3N1Ym5ldC1kNDdhMmJmYScsICd2cGMtZDJkM2I0YTgnLCAxLCAxLCBiYXNlNjRfYnl0ZXMsIE5vbmUsIHRhZ3MpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICd0ZXN0dXNlckBzYWFzZ2x1ZS5jb20nLAogICAgICAgICdwYXNzd29yZCc6ICdteXBhc3N3b3JkJwogICAgfQoKICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWpzb24uZHVtcHMoZGF0YSkpCiAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgcmVzWydzdGF0dXNfY29kZSddICE9IDIwMDoKICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCgogICAgdG9rZW4gPSByZXMuY29va2llcy5nZXRfZGljdCgpWydBdXRoJ10KCgp3aGlsZSB0b2tlbiA9PSAnJzoKICAgIFJlc3RBUElMb2dpbigpCiAgICBpZiB0b2tlbiA9PSAnJzoKICAgICAgICBwcmludCAnQVBJIGxvZ2luIGZhaWxlZCcKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgdGltZS5zbGVlcCg1KQogICAgICAgIHByaW50ICdSZXRyeWluZyBhcGkgbG9naW4nCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKdGFncyA9IGpzb24ubG9hZHMoJ3siYWdlbnRidWlsZGVyIjoidHJ1ZSJ9JykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA9PSAwOgogICAgICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgInsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9IiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZScKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ0F0IGxlYXN0IG9uZSBhZ2VudCB3aXRoIHRhZ3MgInsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9IiBhbHJlYWR5IHJ1bm5pbmcnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaA==","status":20,"dateStarted":"2020-06-02T16:11:51.993Z","stdout":"No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\n#!/usr/bin/python\nimport sys\nimport os\nimport requests\nimport json\nimport gzip\nimport shutil\nimport time\ntoken = ''\norgId = \"5de95c0453162e8891f5a830\"\nemail = \"testuser@saasglue.com\"\npassword = \"mypassword\"\nworkingdir = \"/home/ec2-user\"\nplatform = \"linux\"\narch = None\nconfig = {\"tags\": {\"agentbuilder\":\"true\"}, \"propertyOverrides\": {\"inactiveAgentTask\": {\"name\": \"InactiveAgentTask\", \"script\": { \"_id\": \"5ed5d475759b110015403a49\"}, \"arguments\": \"\"}, \"inactivePeriodWaitTime\": 30000}}\noutFile = '{}/sg-agent-launcher'.format(workingdir)\ndef RestAPILogin():\n    global token\n    global email\n    global password\n    url = 'http://kiki-go-server.herokuapp.com/login/apiLogin'\n    \n    headers = {\n        'Content-Type': 'application/json'\n    }\n    data = {\n        'email': email,\n        'password': password\n    }\n    res = requests.post(url=url, headers=headers, data=json.dumps(data))\n    if (res.status_code != 200):\n        raise Exception(\n            'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    token = res.cookies.get_dict()['Auth']\ndef GetDownloadUrl():\n    global token\n    global teamId\n    global platform\n    global arch\n    while token == '':\n        RestAPILogin()\n        if token == '':\n            print('API login failed')\n            time.sleep(5)\n            print('Retrying api login')\n    url = 'https://kiki-go-server.herokuapp.com/api/v0/agentDownload/agentstub/{}'.format(platform)\n    if arch:\n        url += ('/' + arch)\n    headers = {\n\t'Cookie': 'Auth={};'.format(token),\n        '_teamId': teamId\n    }\n    while True:\n        res = requests.get(url=url, headers=headers)\n        if (res.status_code == 200):\n            break\n        else:\n            if (res.status_code == 303):\n                time.sleep(10)\n            else:\n                raise Exception(\n                    'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    return res.json()['data']\ndef DownloadAgent():\n    global outFile\n    s3url = GetDownloadUrl()\n    res = requests.get(s3url, allow_redirects=True)\n    open('sg-agent-launcher.gz', 'wb').write(res.content)\n    with gzip.open('sg-agent-launcher.gz', 'rb') as f_in:\n        with open(outFile, 'wb') as f_out:\n            shutil.copyfileobj(f_in, f_out)\n    os.chmod(outFile, 0o777)\n    os.remove('sg-agent-launcher.gz')\nDownloadAgent()\nconfigFile = '{}/kiki.cfg'.format(workingdir)\nwith open(configFile, 'w') as f:\n    json.dump(config, f, indent=4)\nos.system('su - ec2-user -c {}'.format(outFile))\n# cmd = \"\"\"\n# echo | crontab\n# (crontab -l ; echo \"*/1 * * * * /usr/bin/flock -n /tmp/start_kiki_agent_launcher.lockfile {}\") | crontab -\n# \"\"\".format(outFile)\n# os.system(cmd)\nLaunching between 1 and 1 ec2 instances of type \"t1.micro\"\n...waiting for \"i-0da3f0c176ec17ce6\" status\n...waiting for \"i-0da3f0c176ec17ce6\" status\n...instance i-0da3f0c176ec17ce6 is running\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is initializing\n...instance i-0da3f0c176ec17ce6 is ok\nLaunched 1 ec2 t1.micro instance(s) [i-0da3f0c176ec17ce6]\n","dateCompleted":"2020-06-02T16:16:37.015Z","exitCode":0,"signal":null,"stderr":"","id":"5ed67a48759b110015403a8b","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67ad1759b110015403a8d","_stepId":"5ed67ad2759b110015403a8f","_taskOutcomeId":"5ed67ad2759b110015403a90","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:14:10.097Z","dateCompleted":"2020-06-02T16:14:16.246Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67ad2759b110015403a91","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67af6759b110015403a92","_stepId":"5ed67af6759b110015403a94","_taskOutcomeId":"5ed67af6759b110015403a95","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:14:46.234Z","dateCompleted":"2020-06-02T16:14:47.040Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67af6759b110015403a96","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b14759b110015403a97","_stepId":"5ed67b14759b110015403a99","_taskOutcomeId":"5ed67b14759b110015403a9a","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:15:16.405Z","dateCompleted":"2020-06-02T16:15:17.227Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67b14759b110015403a9b","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b32759b110015403a9c","_stepId":"5ed67b32759b110015403a9e","_taskOutcomeId":"5ed67b32759b110015403a9f","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:15:46.541Z","dateCompleted":"2020-06-02T16:15:47.379Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67b32759b110015403aa0","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b50759b110015403aa1","_stepId":"5ed67b50759b110015403aa3","_taskOutcomeId":"5ed67b50759b110015403aa4","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:16:16.659Z","dateCompleted":"2020-06-02T16:16:17.458Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67b50759b110015403aa5","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b6e759b110015403aa6","_stepId":"5ed67b6e759b110015403aa8","_taskOutcomeId":"5ed67b6e759b110015403aa9","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:16:46.792Z","dateCompleted":"2020-06-02T16:16:47.602Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67b6e759b110015403aaa","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b8c759b110015403aab","_stepId":"5ed67b8c759b110015403aad","_taskOutcomeId":"5ed67b8c759b110015403aae","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:17:16.931Z","dateCompleted":"2020-06-02T16:17:17.754Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67b8c759b110015403aaf","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67baa759b110015403ab0","_stepId":"5ed67baa759b110015403ab2","_taskOutcomeId":"5ed67bab759b110015403ab3","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:17:47.044Z","dateCompleted":"2020-06-02T16:17:47.844Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67bab759b110015403ab4","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67bc9759b110015403ab5","_stepId":"5ed67bc9759b110015403ab7","_taskOutcomeId":"5ed67bc9759b110015403ab8","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:18:17.135Z","dateCompleted":"2020-06-02T16:18:17.934Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67bc9759b110015403ab9","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67be7759b110015403aba","_stepId":"5ed67be7759b110015403abc","_taskOutcomeId":"5ed67be7759b110015403abd","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:18:47.253Z","dateCompleted":"2020-06-02T16:18:48.056Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67be7759b110015403abe","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c05759b110015403abf","_stepId":"5ed67c05759b110015403ac1","_taskOutcomeId":"5ed67c05759b110015403ac2","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:19:17.385Z","dateCompleted":"2020-06-02T16:19:18.201Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67c05759b110015403ac3","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c23759b110015403ac4","_stepId":"5ed67c23759b110015403ac6","_taskOutcomeId":"5ed67c23759b110015403ac7","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:19:47.689Z","dateCompleted":"2020-06-02T16:19:48.525Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67c23759b110015403ac8","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c41759b110015403ac9","_stepId":"5ed67c41759b110015403acb","_taskOutcomeId":"5ed67c41759b110015403acc","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:20:17.772Z","dateCompleted":"2020-06-02T16:20:18.587Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67c41759b110015403acd","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c5f759b110015403ace","_stepId":"5ed67c5f759b110015403ad0","_taskOutcomeId":"5ed67c5f759b110015403ad1","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:20:47.890Z","dateCompleted":"2020-06-02T16:20:48.703Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67c5f759b110015403ad2","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c7d759b110015403ad3","_stepId":"5ed67c7d759b110015403ad5","_taskOutcomeId":"5ed67c7e759b110015403ad6","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:21:18.027Z","dateCompleted":"2020-06-02T16:21:18.826Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67c7e759b110015403ad7","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c9c759b110015403ad8","_stepId":"5ed67c9c759b110015403ada","_taskOutcomeId":"5ed67c9c759b110015403adb","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:21:48.176Z","dateCompleted":"2020-06-02T16:21:48.991Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67c9c759b110015403adc","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cba759b110015403add","_stepId":"5ed67cba759b110015403adf","_taskOutcomeId":"5ed67cba759b110015403ae0","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:22:18.285Z","dateCompleted":"2020-06-02T16:22:19.095Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67cba759b110015403ae1","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cd8759b110015403ae2","_stepId":"5ed67cd8759b110015403ae4","_taskOutcomeId":"5ed67cd8759b110015403ae5","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:22:48.437Z","dateCompleted":"2020-06-02T16:22:49.248Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67cd8759b110015403ae6","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cf6759b110015403ae7","_stepId":"5ed67cf6759b110015403ae9","_taskOutcomeId":"5ed67cf6759b110015403aea","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:23:18.552Z","dateCompleted":"2020-06-02T16:23:19.344Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67cf6759b110015403aeb","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d14759b110015403aec","_stepId":"5ed67d14759b110015403aee","_taskOutcomeId":"5ed67d14759b110015403aef","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:23:48.670Z","dateCompleted":"2020-06-02T16:23:49.466Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67d14759b110015403af0","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d32759b110015403af1","_stepId":"5ed67d32759b110015403af3","_taskOutcomeId":"5ed67d32759b110015403af4","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:24:18.759Z","dateCompleted":"2020-06-02T16:24:19.554Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67d32759b110015403af5","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d50759b110015403af6","_stepId":"5ed67d50759b110015403af8","_taskOutcomeId":"5ed67d50759b110015403af9","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:24:48.868Z","dateCompleted":"2020-06-02T16:24:49.662Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67d50759b110015403afa","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d6e759b110015403afb","_stepId":"5ed67d6e759b110015403afd","_taskOutcomeId":"5ed67d6e759b110015403afe","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:25:19.018Z","dateCompleted":"2020-06-02T16:25:19.812Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67d6f759b110015403aff","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d8d759b110015403b00","_stepId":"5ed67d8d759b110015403b02","_taskOutcomeId":"5ed67d8d759b110015403b03","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:25:49.123Z","dateCompleted":"2020-06-02T16:25:49.927Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67d8d759b110015403b04","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67dab759b110015403b05","_stepId":"5ed67dab759b110015403b07","_taskOutcomeId":"5ed67dab759b110015403b08","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:26:19.219Z","dateCompleted":"2020-06-02T16:26:20.006Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67dab759b110015403b09","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67dc9759b110015403b0a","_stepId":"5ed67dc9759b110015403b0c","_taskOutcomeId":"5ed67dc9759b110015403b0d","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:26:49.354Z","dateCompleted":"2020-06-02T16:26:50.158Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67dc9759b110015403b0e","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67de7759b110015403b0f","_stepId":"5ed67de7759b110015403b11","_taskOutcomeId":"5ed67de7759b110015403b12","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:27:19.497Z","dateCompleted":"2020-06-02T16:27:20.304Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67de7759b110015403b13","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e05759b110015403b14","_stepId":"5ed67e05759b110015403b16","_taskOutcomeId":"5ed67e05759b110015403b17","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:27:49.632Z","dateCompleted":"2020-06-02T16:27:50.432Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67e05759b110015403b18","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e23759b110015403b19","_stepId":"5ed67e23759b110015403b1b","_taskOutcomeId":"5ed67e23759b110015403b1c","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:28:19.751Z","dateCompleted":"2020-06-02T16:28:20.569Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67e23759b110015403b1d","version":0},{"tail":[],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e41759b110015403b1e","_stepId":"5ed67e41759b110015403b20","_taskOutcomeId":"5ed67e41759b110015403b21","name":"Step1","source":1,"machineId":"ip-172-31-87-230","ipAddress":"172.31.87.230","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":22,"dateStarted":"2020-06-02T16:28:49.843Z","dateCompleted":"2020-06-02T16:28:50.647Z","exitCode":255,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Unable to locate credentials. You can configure credentials by running \"aws configure\".\n","stdout":"","id":"5ed67e41759b110015403b22","version":0},{"tail":["At least one agent with tags \"{\"agentbuilder\":\"true\"}\" already running"],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e8f759b110015403b23","_stepId":"5ed67e8f759b110015403b25","_taskOutcomeId":"5ed67e8f759b110015403b26","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICcidGVzdHVzZXJAc2Fhc2dsdWUuY29tIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICcibXlwYXNzd29yZCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiNWVkNWQ0NzU3NTliMTEwMDE1NDAzYTQ5In0sICJhcmd1bWVudHMiOiAiIiwgInZhcmlhYmxlcyI6ICJ7XCJBV1NfQUNDRVNTX0tFWV9JRFwiOiBcIkFLSUFUVjJYTzJZRldBSk1RSlNOXCIsIFwiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZXCI6IFwibTN4UmpmVVJDb0VnSTQ3Mkp2d3RQeitFZWRTM0NZTHd4Sjdoc3BtT1wifSJ9LCAiaW5hY3RpdmVQZXJpb2RXYWl0VGltZSI6IDMwMDAwfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKCdhbWktMDk5ZTg4MmIwODc2YzgxMjQnLCAna2lraS0yMDE5UTEnLCAndDEubWljcm8nLCBbJ3NnLTAzNmRlMjUzN2MwNTlhNGFmJ10sICdzdWJuZXQtZDQ3YTJiZmEnLCAndnBjLWQyZDNiNGE4JywgMSwgMSwgYmFzZTY0X2J5dGVzLCBOb25lLCB0YWdzKQoKCmRlZiBSZXN0QVBJQ2FsbCh1cmwsIG1ldGhvZCwgaGVhZGVycywgZGF0YT17fSk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB0cnk6CiAgICAgICAgZGVmYXVsdF9oZWFkZXJzID0gewogICAgICAgICAgICAnQ29va2llJzogJ0F1dGg9e307Jy5mb3JtYXQodG9rZW4pLAogICAgICAgICAgICAnX29yZ0lkJzogJzVkZTk1YzA0NTMxNjJlODg5MWY1YTgzMCcKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAndGVzdHVzZXJAc2Fhc2dsdWUuY29tJywKICAgICAgICAncGFzc3dvcmQnOiAnbXlwYXNzd29yZCcKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCd7ImFnZW50YnVpbGRlciI6InRydWUifScpCnRhZ3NBcnJheSA9IFtdCmZvciB0IGluIHRhZ3M6CiAgICB0YWdzQXJyYXkuYXBwZW5kKHsna2V5JzogdCwgJ3ZhbHVlJzogdGFnc1t0XX0pCmFnZW50UXVlcnkgPSBSZXN0QVBJQ2FsbCgnaHR0cHM6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2FwaS92MC9hZ2VudC90YWdzL3t9P3Jlc3BvbnNlRmllbGRzPWlkJy5mb3JtYXQoanNvbi5kdW1wcyh0YWdzQXJyYXkpKSwgJ0dFVCcsIHt9KQoKcmVzID0gYWdlbnRRdWVyeS5qc29uKCkKaWYgcmVzWydzdGF0dXNDb2RlJ10gPT0gNDA0OgogICAgcHJpbnQgJ05vIGFnZW50IHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPT0gMDoKICAgICAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g=","status":20,"dateStarted":"2020-06-02T16:30:08.383Z","dateCompleted":"2020-06-02T16:30:09.190Z","exitCode":0,"signal":null,"stderr":"","stdout":"At least one agent with tags \"{\"agentbuilder\":\"true\"}\" already running\n","id":"5ed67e90759b110015403b27","version":0},{"tail":["...instance i-0d17c2d414986b307 is initializing","...instance i-0d17c2d414986b307 is initializing","...instance i-0d17c2d414986b307 is initializing","...instance i-0d17c2d414986b307 is ok","Launched 1 ec2 t1.micro instance(s) [i-0d17c2d414986b307]"],"lastUpdateId":24,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67f74759b110015403b28","_stepId":"5ed67f74759b110015403b2a","_taskOutcomeId":"5ed67f75759b110015403b2b","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICcidGVzdHVzZXJAc2Fhc2dsdWUuY29tIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICcibXlwYXNzd29yZCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiNWVkNWQ0NzU3NTliMTEwMDE1NDAzYTQ5In0sICJhcmd1bWVudHMiOiAiIiwgInZhcmlhYmxlcyI6ICJ7XCJBV1NfQUNDRVNTX0tFWV9JRFwiOiBcIkFLSUFUVjJYTzJZRldBSk1RSlNOXCIsIFwiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZXCI6IFwibTN4UmpmVVJDb0VnSTQ3Mkp2d3RQeitFZWRTM0NZTHd4Sjdoc3BtT1wifSJ9LCAiaW5hY3RpdmVQZXJpb2RXYWl0VGltZSI6IDMwMDAwfX0nKQogICAgICAgIAogICAgICAgIHByaW50KGRhdGEpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIAogICAgICAgIGRhdGFfYnl0ZXMgPSBkYXRhLmVuY29kZSgndXRmOCcpCiAgICAgICAgYmFzZTY0X2J5dGVzID0gYmFzZTY0LmI2NGVuY29kZShkYXRhX2J5dGVzKQoKICAgICAgICBsYXVuY2hfZWMyX2luc3RhbmNlKCdhbWktMDk5ZTg4MmIwODc2YzgxMjQnLCAna2lraS0yMDE5UTEnLCAndDEubWljcm8nLCBbJ3NnLTAzNmRlMjUzN2MwNTlhNGFmJ10sICdzdWJuZXQtZDQ3YTJiZmEnLCAndnBjLWQyZDNiNGE4JywgMSwgMSwgYmFzZTY0X2J5dGVzLCBOb25lLCB0YWdzKQoKCmRlZiBSZXN0QVBJQ2FsbCh1cmwsIG1ldGhvZCwgaGVhZGVycywgZGF0YT17fSk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB0cnk6CiAgICAgICAgZGVmYXVsdF9oZWFkZXJzID0gewogICAgICAgICAgICAnQ29va2llJzogJ0F1dGg9e307Jy5mb3JtYXQodG9rZW4pLAogICAgICAgICAgICAnX29yZ0lkJzogJzVkZTk1YzA0NTMxNjJlODg5MWY1YTgzMCcKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAndGVzdHVzZXJAc2Fhc2dsdWUuY29tJywKICAgICAgICAncGFzc3dvcmQnOiAnbXlwYXNzd29yZCcKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCd7ImFnZW50YnVpbGRlciI6InRydWUifScpCnRhZ3NBcnJheSA9IFtdCmZvciB0IGluIHRhZ3M6CiAgICB0YWdzQXJyYXkuYXBwZW5kKHsna2V5JzogdCwgJ3ZhbHVlJzogdGFnc1t0XX0pCmFnZW50UXVlcnkgPSBSZXN0QVBJQ2FsbCgnaHR0cHM6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2FwaS92MC9hZ2VudC90YWdzL3t9P3Jlc3BvbnNlRmllbGRzPWlkJy5mb3JtYXQoanNvbi5kdW1wcyh0YWdzQXJyYXkpKSwgJ0dFVCcsIHt9KQoKcmVzID0gYWdlbnRRdWVyeS5qc29uKCkKaWYgcmVzWydzdGF0dXNDb2RlJ10gPT0gNDA0OgogICAgcHJpbnQgJ05vIGFnZW50IHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGlmIGxlbihyZXNbJ2RhdGEnXSkgPT0gMDoKICAgICAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcigpCiAgICBlbHNlOgogICAgICAgIHByaW50ICdBdCBsZWFzdCBvbmUgYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g=","status":20,"dateStarted":"2020-06-02T16:33:57.094Z","stdout":"No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\n#!/usr/bin/python\nimport sys\nimport os\nimport requests\nimport json\nimport gzip\nimport shutil\nimport time\ntoken = ''\norgId = \"5de95c0453162e8891f5a830\"\nemail = \"testuser@saasglue.com\"\npassword = \"mypassword\"\nworkingdir = \"/home/ec2-user\"\nplatform = \"linux\"\narch = None\nconfig = {\"tags\": {\"agentbuilder\":\"true\"}, \"propertyOverrides\": {\"inactiveAgentTask\": {\"name\": \"InactiveAgentTask\", \"script\": { \"_id\": \"5ed5d475759b110015403a49\"}, \"arguments\": \"\", \"variables\": \"{\"AWS_ACCESS_KEY_ID\": \"AKIATV2XO2YFWAJMQJSN\", \"AWS_SECRET_ACCESS_KEY\": \"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\"}\"}, \"inactivePeriodWaitTime\": 30000}}\noutFile = '{}/sg-agent-launcher'.format(workingdir)\ndef RestAPILogin():\n    global token\n    global email\n    global password\n    url = 'http://kiki-go-server.herokuapp.com/login/apiLogin'\n    \n    headers = {\n        'Content-Type': 'application/json'\n    }\n    data = {\n        'email': email,\n        'password': password\n    }\n    res = requests.post(url=url, headers=headers, data=json.dumps(data))\n    if (res.status_code != 200):\n        raise Exception(\n            'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    token = res.cookies.get_dict()['Auth']\ndef GetDownloadUrl():\n    global token\n    global teamId\n    global platform\n    global arch\n    while token == '':\n        RestAPILogin()\n        if token == '':\n            print('API login failed')\n            time.sleep(5)\n            print('Retrying api login')\n    url = 'https://kiki-go-server.herokuapp.com/api/v0/agentDownload/agentstub/{}'.format(platform)\n    if arch:\n        url += ('/' + arch)\n    headers = {\n\t'Cookie': 'Auth={};'.format(token),\n        '_teamId': teamId\n    }\n    while True:\n        res = requests.get(url=url, headers=headers)\n        if (res.status_code == 200):\n            break\n        else:\n            if (res.status_code == 303):\n                time.sleep(10)\n            else:\n                raise Exception(\n                    'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    return res.json()['data']\ndef DownloadAgent():\n    global outFile\n    s3url = GetDownloadUrl()\n    res = requests.get(s3url, allow_redirects=True)\n    open('sg-agent-launcher.gz', 'wb').write(res.content)\n    with gzip.open('sg-agent-launcher.gz', 'rb') as f_in:\n        with open(outFile, 'wb') as f_out:\n            shutil.copyfileobj(f_in, f_out)\n    os.chmod(outFile, 0o777)\n    os.remove('sg-agent-launcher.gz')\nDownloadAgent()\nconfigFile = '{}/kiki.cfg'.format(workingdir)\nwith open(configFile, 'w') as f:\n    json.dump(config, f, indent=4)\nos.system('su - ec2-user -c {}'.format(outFile))\n# cmd = \"\"\"\n# echo | crontab\n# (crontab -l ; echo \"*/1 * * * * /usr/bin/flock -n /tmp/start_kiki_agent_launcher.lockfile {}\") | crontab -\n# \"\"\".format(outFile)\n# os.system(cmd)\nLaunching between 1 and 1 ec2 instances of type \"t1.micro\"\n...waiting for \"i-0d17c2d414986b307\" status\n...waiting for \"i-0d17c2d414986b307\" status\n...instance i-0d17c2d414986b307 is running\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is initializing\n...instance i-0d17c2d414986b307 is ok\nLaunched 1 ec2 t1.micro instance(s) [i-0d17c2d414986b307]\n","dateCompleted":"2020-06-02T16:37:41.678Z","exitCode":0,"signal":null,"stderr":"","id":"5ed67f75759b110015403b2c","version":0},{"tail":["...instance i-09b15c0431aaf536c is initializing","...instance i-09b15c0431aaf536c is initializing","...instance i-09b15c0431aaf536c is initializing","...instance i-09b15c0431aaf536c is ok","Launched 1 ec2 t1.micro instance(s) [i-09b15c0431aaf536c]"],"lastUpdateId":20,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed681f2759b110015403b2d","_stepId":"5ed681f2759b110015403b2f","_taskOutcomeId":"5ed681f2759b110015403b30","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICcidGVzdHVzZXJAc2Fhc2dsdWUuY29tIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICcibXlwYXNzd29yZCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiNWVkNWQ0NzU3NTliMTEwMDE1NDAzYTQ5In0sICJhcmd1bWVudHMiOiAiIiwgInZhcmlhYmxlcyI6ICJ7IkFXU19BQ0NFU1NfS0VZX0lEIjogIkFLSUFUVjJYTzJZRldBSk1RSlNOIiwgIkFXU19TRUNSRVRfQUNDRVNTX0tFWSI6ICJtM3hSamZVUkNvRWdJNDcySnZ3dFB6K0VlZFMzQ1lMd3hKN2hzcG1PIn0ifSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiAzMDAwMH19JykKICAgICAgICAKICAgICAgICBwcmludChkYXRhKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICAKICAgICAgICBkYXRhX2J5dGVzID0gZGF0YS5lbmNvZGUoJ3V0ZjgnKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUoZGF0YV9ieXRlcykKCiAgICAgICAgbGF1bmNoX2VjMl9pbnN0YW5jZSgnYW1pLTA5OWU4ODJiMDg3NmM4MTI0JywgJ2tpa2ktMjAxOVExJywgJ3QxLm1pY3JvJywgWydzZy0wMzZkZTI1MzdjMDU5YTRhZiddLCAnc3VibmV0LWQ0N2EyYmZhJywgJ3ZwYy1kMmQzYjRhOCcsIDEsIDEsIGJhc2U2NF9ieXRlcywgTm9uZSwgdGFncykKCgpkZWYgUmVzdEFQSUNhbGwodXJsLCBtZXRob2QsIGhlYWRlcnMsIGRhdGE9e30pOgogICAgZ2xvYmFsIHRva2VuCgogICAgdHJ5OgogICAgICAgIGRlZmF1bHRfaGVhZGVycyA9IHsKICAgICAgICAgICAgJ0Nvb2tpZSc6ICdBdXRoPXt9OycuZm9ybWF0KHRva2VuKSwKICAgICAgICAgICAgJ19vcmdJZCc6ICc1ZGU5NWMwNDUzMTYyZTg4OTFmNWE4MzAnCiAgICAgICAgfQoKICAgICAgICBoZWFkZXJzLnVwZGF0ZShkZWZhdWx0X2hlYWRlcnMpCgogICAgICAgIGlmIG1ldGhvZCA9PSAnUE9TVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ1BVVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLnB1dCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnR0VUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMuZ2V0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycykKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oJ3t9IG1ldGhvZCBub3Qgc3VwcG9ydGVkJy5mb3JtYXQobWV0aG9kKSkKICAgICAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgc3RyKHJlc1snc3RhdHVzX2NvZGUnXSlbMF0gIT0gJzInOgogICAgICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQogICAgICAgIAogICAgICAgIHJldHVybiByZXMKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXg6CiAgICAgICAgcHJpbnQgeydNZXRob2QnOiAnUmVzdEFQSUNhbGwnLCAnRXJyb3InOiBleCwgJ3VybCc6IHVybCwgJ21ldGhvZCc6IG1ldGhvZCwgJ19vcmdJZCc6IF9vcmdJZCwgJ2hlYWRlcnMnOiBoZWFkZXJzLCAnZGF0YSc6IGRhdGF9CiAgICAgICAgcmFpc2UgZXgKCgpkZWYgUmVzdEFQSUxvZ2luKCk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB1cmwgPSAnaHR0cDovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vbG9naW4vYXBpTG9naW4nCiAgICAKICAgIGhlYWRlcnMgPSB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgfQoKICAgIGRhdGEgPSB7CiAgICAgICAgJ2VtYWlsJzogJ3Rlc3R1c2VyQHNhYXNnbHVlLmNvbScsCiAgICAgICAgJ3Bhc3N3b3JkJzogJ215cGFzc3dvcmQnCiAgICB9CgogICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9anNvbi5kdW1wcyhkYXRhKSkKICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCByZXNbJ3N0YXR1c19jb2RlJ10gIT0gMjAwOgogICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKCiAgICB0b2tlbiA9IHJlcy5jb29raWVzLmdldF9kaWN0KClbJ0F1dGgnXQoKCndoaWxlIHRva2VuID09ICcnOgogICAgUmVzdEFQSUxvZ2luKCkKICAgIGlmIHRva2VuID09ICcnOgogICAgICAgIHByaW50ICdBUEkgbG9naW4gZmFpbGVkJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICB0aW1lLnNsZWVwKDUpCiAgICAgICAgcHJpbnQgJ1JldHJ5aW5nIGFwaSBsb2dpbicKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCgp0YWdzID0ganNvbi5sb2FkcygneyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0nKQp0YWdzQXJyYXkgPSBbXQpmb3IgdCBpbiB0YWdzOgogICAgdGFnc0FycmF5LmFwcGVuZCh7J2tleSc6IHQsICd2YWx1ZSc6IHRhZ3NbdF19KQphZ2VudFF1ZXJ5ID0gUmVzdEFQSUNhbGwoJ2h0dHBzOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9hcGkvdjAvYWdlbnQvdGFncy97fT9yZXNwb25zZUZpZWxkcz1pZCcuZm9ybWF0KGpzb24uZHVtcHModGFnc0FycmF5KSksICdHRVQnLCB7fSkKCnJlcyA9IGFnZW50UXVlcnkuanNvbigpCmlmIHJlc1snc3RhdHVzQ29kZSddID09IDQwNDoKICAgIHByaW50ICdObyBhZ2VudCB3aXRoIHRhZ3MgInsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9IiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZScKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIExhdW5jaE5ld0FnZW50QnVpbGRlcih0YWdzKQplbGlmIHJlc1snc3RhdHVzQ29kZSddICE9IDIwMDoKICAgIG1zZyA9ICdDYWxsIHRvIGdldCBhZ2VudHMgd2l0aCB0YWdzIGZhaWxlZCcKICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCmVsc2U6CiAgICBpZiBsZW4ocmVzWydkYXRhJ10pIDwgMToKICAgICAgICBwcmludCAnTGVzcyB0aGFuIDEgYWdlbnRzIHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lKHMpJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIoKQogICAgZWxzZToKICAgICAgICBwcmludCAnMSBhZ2VudChzKSB3aXRoIHRhZ3MgInsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9IiBhbHJlYWR5IHJ1bm5pbmcnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaA==","status":20,"dateStarted":"2020-06-02T16:44:34.878Z","stdout":"No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\n#!/usr/bin/python\nimport sys\nimport os\nimport requests\nimport json\nimport gzip\nimport shutil\nimport time\ntoken = ''\norgId = \"5de95c0453162e8891f5a830\"\nemail = \"testuser@saasglue.com\"\npassword = \"mypassword\"\nworkingdir = \"/home/ec2-user\"\nplatform = \"linux\"\narch = None\nconfig = {\"tags\": {\"agentbuilder\":\"true\"}, \"propertyOverrides\": {\"inactiveAgentTask\": {\"name\": \"InactiveAgentTask\", \"script\": { \"_id\": \"5ed5d475759b110015403a49\"}, \"arguments\": \"\", \"variables\": \"{\"AWS_ACCESS_KEY_ID\": \"AKIATV2XO2YFWAJMQJSN\", \"AWS_SECRET_ACCESS_KEY\": \"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\"}\"}, \"inactivePeriodWaitTime\": 30000}}\noutFile = '{}/sg-agent-launcher'.format(workingdir)\ndef RestAPILogin():\n    global token\n    global email\n    global password\n    url = 'http://kiki-go-server.herokuapp.com/login/apiLogin'\n    \n    headers = {\n        'Content-Type': 'application/json'\n    }\n    data = {\n        'email': email,\n        'password': password\n    }\n    res = requests.post(url=url, headers=headers, data=json.dumps(data))\n    if (res.status_code != 200):\n        raise Exception(\n            'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    token = res.cookies.get_dict()['Auth']\ndef GetDownloadUrl():\n    global token\n    global teamId\n    global platform\n    global arch\n    while token == '':\n        RestAPILogin()\n        if token == '':\n            print('API login failed')\n            time.sleep(5)\n            print('Retrying api login')\n    url = 'https://kiki-go-server.herokuapp.com/api/v0/agentDownload/agentstub/{}'.format(platform)\n    if arch:\n        url += ('/' + arch)\n    headers = {\n\t'Cookie': 'Auth={};'.format(token),\n        '_teamId': teamId\n    }\n    while True:\n        res = requests.get(url=url, headers=headers)\n        if (res.status_code == 200):\n            break\n        else:\n            if (res.status_code == 303):\n                time.sleep(10)\n            else:\n                raise Exception(\n                    'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    return res.json()['data']\ndef DownloadAgent():\n    global outFile\n    s3url = GetDownloadUrl()\n    res = requests.get(s3url, allow_redirects=True)\n    open('sg-agent-launcher.gz', 'wb').write(res.content)\n    with gzip.open('sg-agent-launcher.gz', 'rb') as f_in:\n        with open(outFile, 'wb') as f_out:\n            shutil.copyfileobj(f_in, f_out)\n    os.chmod(outFile, 0o777)\n    os.remove('sg-agent-launcher.gz')\nDownloadAgent()\nconfigFile = '{}/kiki.cfg'.format(workingdir)\nwith open(configFile, 'w') as f:\n    json.dump(config, f, indent=4)\nos.system('su - ec2-user -c {}'.format(outFile))\n# cmd = \"\"\"\n# echo | crontab\n# (crontab -l ; echo \"*/1 * * * * /usr/bin/flock -n /tmp/start_kiki_agent_launcher.lockfile {}\") | crontab -\n# \"\"\".format(outFile)\n# os.system(cmd)\nLaunching between 1 and 1 ec2 instances of type \"t1.micro\"\n...waiting for \"i-09b15c0431aaf536c\" status\n...waiting for \"i-09b15c0431aaf536c\" status\n...instance i-09b15c0431aaf536c is running\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is initializing\n...instance i-09b15c0431aaf536c is ok\nLaunched 1 ec2 t1.micro instance(s) [i-09b15c0431aaf536c]\n","dateCompleted":"2020-06-02T16:47:38.366Z","exitCode":0,"signal":null,"stderr":"","id":"5ed681f2759b110015403b31","version":0},{"tail":["...instance i-0e91ed9a694cc1155 is initializing","...instance i-0e91ed9a694cc1155 is initializing","...instance i-0e91ed9a694cc1155 is initializing","...instance i-0e91ed9a694cc1155 is initializing","...instance i-0e91ed9a694cc1155 is initializing"],"lastUpdateId":15,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68483759b110015403b32","_stepId":"5ed68483759b110015403b34","_taskOutcomeId":"5ed68484759b110015403b35","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICcidGVzdHVzZXJAc2Fhc2dsdWUuY29tIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICcibXlwYXNzd29yZCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiNWVkNWQ0NzU3NTliMTEwMDE1NDAzYTQ5In0sICJhcmd1bWVudHMiOiAiIiwgInZhcmlhYmxlcyI6IHsiQVdTX0FDQ0VTU19LRVlfSUQiOiAiQUtJQVRWMlhPMllGV0FKTVFKU04iLCAiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZIjogIm0zeFJqZlVSQ29FZ0k0NzJKdnd0UHorRWVkUzNDWUx3eEo3aHNwbU8ifX0sICJpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lIjogMzAwMDB9fScpCiAgICAgICAgCiAgICAgICAgcHJpbnQoZGF0YSkKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgCiAgICAgICAgZGF0YV9ieXRlcyA9IGRhdGEuZW5jb2RlKCd1dGY4JykKICAgICAgICBiYXNlNjRfYnl0ZXMgPSBiYXNlNjQuYjY0ZW5jb2RlKGRhdGFfYnl0ZXMpCgogICAgICAgIGxhdW5jaF9lYzJfaW5zdGFuY2UoJ2FtaS0wOTllODgyYjA4NzZjODEyNCcsICdraWtpLTIwMTlRMScsICd0MS5taWNybycsIFsnc2ctMDM2ZGUyNTM3YzA1OWE0YWYnXSwgJ3N1Ym5ldC1kNDdhMmJmYScsICd2cGMtZDJkM2I0YTgnLCAxLCAxLCBiYXNlNjRfYnl0ZXMsIE5vbmUsIHRhZ3MpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICd0ZXN0dXNlckBzYWFzZ2x1ZS5jb20nLAogICAgICAgICdwYXNzd29yZCc6ICdteXBhc3N3b3JkJwogICAgfQoKICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWpzb24uZHVtcHMoZGF0YSkpCiAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgcmVzWydzdGF0dXNfY29kZSddICE9IDIwMDoKICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCgogICAgdG9rZW4gPSByZXMuY29va2llcy5nZXRfZGljdCgpWydBdXRoJ10KCgp3aGlsZSB0b2tlbiA9PSAnJzoKICAgIFJlc3RBUElMb2dpbigpCiAgICBpZiB0b2tlbiA9PSAnJzoKICAgICAgICBwcmludCAnQVBJIGxvZ2luIGZhaWxlZCcKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgdGltZS5zbGVlcCg1KQogICAgICAgIHByaW50ICdSZXRyeWluZyBhcGkgbG9naW4nCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKdGFncyA9IGpzb24ubG9hZHMoJ3siYWdlbnRidWlsZGVyIjoidHJ1ZSJ9JykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA8IDE6CiAgICAgICAgcHJpbnQgJ0xlc3MgdGhhbiAxIGFnZW50cyB3aXRoIHRhZ3MgInsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9IiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZShzKScKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJzEgYWdlbnQocykgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g=","status":22,"dateStarted":"2020-06-02T16:55:32.241Z","stdout":"No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\n#!/usr/bin/python\nimport sys\nimport os\nimport requests\nimport json\nimport gzip\nimport shutil\nimport time\ntoken = ''\norgId = \"5de95c0453162e8891f5a830\"\nemail = \"testuser@saasglue.com\"\npassword = \"mypassword\"\nworkingdir = \"/home/ec2-user\"\nplatform = \"linux\"\narch = None\nconfig = {\"tags\": {\"agentbuilder\":\"true\"}, \"propertyOverrides\": {\"inactiveAgentTask\": {\"name\": \"InactiveAgentTask\", \"script\": { \"_id\": \"5ed5d475759b110015403a49\"}, \"arguments\": \"\", \"variables\": {\"AWS_ACCESS_KEY_ID\": \"AKIATV2XO2YFWAJMQJSN\", \"AWS_SECRET_ACCESS_KEY\": \"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\"}}, \"inactivePeriodWaitTime\": 30000}}\noutFile = '{}/sg-agent-launcher'.format(workingdir)\ndef RestAPILogin():\n    global token\n    global email\n    global password\n    url = 'http://kiki-go-server.herokuapp.com/login/apiLogin'\n    \n    headers = {\n        'Content-Type': 'application/json'\n    }\n    data = {\n        'email': email,\n        'password': password\n    }\n    res = requests.post(url=url, headers=headers, data=json.dumps(data))\n    if (res.status_code != 200):\n        raise Exception(\n            'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    token = res.cookies.get_dict()['Auth']\ndef GetDownloadUrl():\n    global token\n    global teamId\n    global platform\n    global arch\n    while token == '':\n        RestAPILogin()\n        if token == '':\n            print('API login failed')\n            time.sleep(5)\n            print('Retrying api login')\n    url = 'https://kiki-go-server.herokuapp.com/api/v0/agentDownload/agentstub/{}'.format(platform)\n    if arch:\n        url += ('/' + arch)\n    headers = {\n\t'Cookie': 'Auth={};'.format(token),\n        '_teamId': teamId\n    }\n    while True:\n        res = requests.get(url=url, headers=headers)\n        if (res.status_code == 200):\n            break\n        else:\n            if (res.status_code == 303):\n                time.sleep(10)\n            else:\n                raise Exception(\n                    'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    return res.json()['data']\ndef DownloadAgent():\n    global outFile\n    s3url = GetDownloadUrl()\n    res = requests.get(s3url, allow_redirects=True)\n    open('sg-agent-launcher.gz', 'wb').write(res.content)\n    with gzip.open('sg-agent-launcher.gz', 'rb') as f_in:\n        with open(outFile, 'wb') as f_out:\n            shutil.copyfileobj(f_in, f_out)\n    os.chmod(outFile, 0o777)\n    os.remove('sg-agent-launcher.gz')\nDownloadAgent()\nconfigFile = '{}/kiki.cfg'.format(workingdir)\nwith open(configFile, 'w') as f:\n    json.dump(config, f, indent=4)\nos.system('su - ec2-user -c {}'.format(outFile))\n# cmd = \"\"\"\n# echo | crontab\n# (crontab -l ; echo \"*/1 * * * * /usr/bin/flock -n /tmp/start_kiki_agent_launcher.lockfile {}\") | crontab -\n# \"\"\".format(outFile)\n# os.system(cmd)\nLaunching between 1 and 1 ec2 instances of type \"t1.micro\"\n...waiting for \"i-0e91ed9a694cc1155\" status\n...waiting for \"i-0e91ed9a694cc1155\" status\n...instance i-0e91ed9a694cc1155 is running\n...instance i-0e91ed9a694cc1155 is initializing\n...instance i-0e91ed9a694cc1155 is initializing\n...instance i-0e91ed9a694cc1155 is initializing\n...instance i-0e91ed9a694cc1155 is initializing\n...instance i-0e91ed9a694cc1155 is initializing\n...instance i-0e91ed9a694cc1155 is initializing\n...instance i-0e91ed9a694cc1155 is initializing\n...instance i-0e91ed9a694cc1155 is initializing\n...instance i-0e91ed9a694cc1155 is initializing\n...instance i-0e91ed9a694cc1155 is initializing\n...instance i-0e91ed9a694cc1155 is initializing\n","dateCompleted":"2020-06-02T16:57:45.444Z","exitCode":1,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Traceback (most recent call last):\n  File \"/home/ec2-user/2y3yT0qyHN/fYyIvwT69G.py\", line 114, in <module>\n  File \"/home/ec2-user/2y3yT0qyHN/fYyIvwT69G.py\", line 41, in LaunchNewAgentBuilder\n  File \"/home/ec2-user/2y3yT0qyHN/ec2_access.py\", line 61, in launch_ec2_instance\n    status = res['InstanceStatuses'][0]\nIndexError: list index out of range\n","id":"5ed68484759b110015403b36","version":0},{"tail":["                \"Name\": \"running\"","            }","        }","    ]","}"],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68500759b110015403b38","_stepId":"5ed68500759b110015403b3a","_taskOutcomeId":"5ed68501759b110015403b3b","name":"Step1","source":1,"machineId":"ip-172-31-87-203","ipAddress":"172.31.87.203","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":20,"dateStarted":"2020-06-02T16:57:37.163Z","dateCompleted":"2020-06-02T16:57:42.174Z","exitCode":0,"signal":null,"stderr":"","stdout":"{\n    \"TerminatingInstances\": [\n        {\n            \"InstanceId\": \"i-0e91ed9a694cc1155\", \n            \"CurrentState\": {\n                \"Code\": 32, \n                \"Name\": \"shutting-down\"\n            }, \n            \"PreviousState\": {\n                \"Code\": 16, \n                \"Name\": \"running\"\n            }\n        }\n    ]\n}\n","id":"5ed68501759b110015403b3c","version":0},{"tail":["1 agent(s) with tags \"{\"agentbuilder\":\"true\"}\" already running"],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68563759b110015403b3d","_stepId":"5ed68563759b110015403b3f","_taskOutcomeId":"5ed68563759b110015403b40","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICcidGVzdHVzZXJAc2Fhc2dsdWUuY29tIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICcibXlwYXNzd29yZCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiNWVkNWQ0NzU3NTliMTEwMDE1NDAzYTQ5In0sICJhcmd1bWVudHMiOiAiIiwgInZhcmlhYmxlcyI6IHsiQVdTX0FDQ0VTU19LRVlfSUQiOiAiQUtJQVRWMlhPMllGV0FKTVFKU04iLCAiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZIjogIm0zeFJqZlVSQ29FZ0k0NzJKdnd0UHorRWVkUzNDWUx3eEo3aHNwbU8ifX0sICJpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lIjogOTAwMDB9fScpCiAgICAgICAgCiAgICAgICAgcHJpbnQoZGF0YSkKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgCiAgICAgICAgZGF0YV9ieXRlcyA9IGRhdGEuZW5jb2RlKCd1dGY4JykKICAgICAgICBiYXNlNjRfYnl0ZXMgPSBiYXNlNjQuYjY0ZW5jb2RlKGRhdGFfYnl0ZXMpCgogICAgICAgIGxhdW5jaF9lYzJfaW5zdGFuY2UoJ2FtaS0wOTllODgyYjA4NzZjODEyNCcsICdraWtpLTIwMTlRMScsICd0MS5taWNybycsIFsnc2ctMDM2ZGUyNTM3YzA1OWE0YWYnXSwgJ3N1Ym5ldC1kNDdhMmJmYScsICd2cGMtZDJkM2I0YTgnLCAxLCAxLCBiYXNlNjRfYnl0ZXMsIE5vbmUsIHRhZ3MpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICd0ZXN0dXNlckBzYWFzZ2x1ZS5jb20nLAogICAgICAgICdwYXNzd29yZCc6ICdteXBhc3N3b3JkJwogICAgfQoKICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWpzb24uZHVtcHMoZGF0YSkpCiAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgcmVzWydzdGF0dXNfY29kZSddICE9IDIwMDoKICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCgogICAgdG9rZW4gPSByZXMuY29va2llcy5nZXRfZGljdCgpWydBdXRoJ10KCgp3aGlsZSB0b2tlbiA9PSAnJzoKICAgIFJlc3RBUElMb2dpbigpCiAgICBpZiB0b2tlbiA9PSAnJzoKICAgICAgICBwcmludCAnQVBJIGxvZ2luIGZhaWxlZCcKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgdGltZS5zbGVlcCg1KQogICAgICAgIHByaW50ICdSZXRyeWluZyBhcGkgbG9naW4nCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKdGFncyA9IGpzb24ubG9hZHMoJ3siYWdlbnRidWlsZGVyIjoidHJ1ZSJ9JykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA8IDE6CiAgICAgICAgcHJpbnQgJ0xlc3MgdGhhbiAxIGFnZW50cyB3aXRoIHRhZ3MgInsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9IiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZShzKScKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJzEgYWdlbnQocykgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g=","status":20,"dateStarted":"2020-06-02T16:59:15.537Z","dateCompleted":"2020-06-02T16:59:16.292Z","exitCode":0,"signal":null,"stderr":"","stdout":"1 agent(s) with tags \"{\"agentbuilder\":\"true\"}\" already running\n","id":"5ed68563759b110015403b41","version":0},{"tail":["Less than 2 agents with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine(s)"],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68584759b110015403b42","_stepId":"5ed68584759b110015403b44","_taskOutcomeId":"5ed68584759b110015403b45","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICcidGVzdHVzZXJAc2Fhc2dsdWUuY29tIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICcibXlwYXNzd29yZCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiNWVkNWQ0NzU3NTliMTEwMDE1NDAzYTQ5In0sICJhcmd1bWVudHMiOiAiIiwgInZhcmlhYmxlcyI6IHsiQVdTX0FDQ0VTU19LRVlfSUQiOiAiQUtJQVRWMlhPMllGV0FKTVFKU04iLCAiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZIjogIm0zeFJqZlVSQ29FZ0k0NzJKdnd0UHorRWVkUzNDWUx3eEo3aHNwbU8ifX0sICJpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lIjogOTAwMDB9fScpCiAgICAgICAgCiAgICAgICAgcHJpbnQoZGF0YSkKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgCiAgICAgICAgZGF0YV9ieXRlcyA9IGRhdGEuZW5jb2RlKCd1dGY4JykKICAgICAgICBiYXNlNjRfYnl0ZXMgPSBiYXNlNjQuYjY0ZW5jb2RlKGRhdGFfYnl0ZXMpCgogICAgICAgIGxhdW5jaF9lYzJfaW5zdGFuY2UoJ2FtaS0wOTllODgyYjA4NzZjODEyNCcsICdraWtpLTIwMTlRMScsICd0MS5taWNybycsIFsnc2ctMDM2ZGUyNTM3YzA1OWE0YWYnXSwgJ3N1Ym5ldC1kNDdhMmJmYScsICd2cGMtZDJkM2I0YTgnLCAxLCAyLCBiYXNlNjRfYnl0ZXMsIE5vbmUsIHRhZ3MpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICd0ZXN0dXNlckBzYWFzZ2x1ZS5jb20nLAogICAgICAgICdwYXNzd29yZCc6ICdteXBhc3N3b3JkJwogICAgfQoKICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWpzb24uZHVtcHMoZGF0YSkpCiAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgcmVzWydzdGF0dXNfY29kZSddICE9IDIwMDoKICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCgogICAgdG9rZW4gPSByZXMuY29va2llcy5nZXRfZGljdCgpWydBdXRoJ10KCgp3aGlsZSB0b2tlbiA9PSAnJzoKICAgIFJlc3RBUElMb2dpbigpCiAgICBpZiB0b2tlbiA9PSAnJzoKICAgICAgICBwcmludCAnQVBJIGxvZ2luIGZhaWxlZCcKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgdGltZS5zbGVlcCg1KQogICAgICAgIHByaW50ICdSZXRyeWluZyBhcGkgbG9naW4nCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKdGFncyA9IGpzb24ubG9hZHMoJ3siYWdlbnRidWlsZGVyIjoidHJ1ZSJ9JykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA8IDI6CiAgICAgICAgcHJpbnQgJ0xlc3MgdGhhbiAyIGFnZW50cyB3aXRoIHRhZ3MgInsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9IiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZShzKScKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJzIgYWdlbnQocykgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g=","status":22,"dateStarted":"2020-06-02T16:59:48.468Z","dateCompleted":"2020-06-02T16:59:49.198Z","exitCode":1,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Traceback (most recent call last):\n  File \"/home/ec2-user/WLgAr1vIvz/HDc75hXl7Z.py\", line 122, in <module>\n    LaunchNewAgentBuilder()\nTypeError: LaunchNewAgentBuilder() takes exactly 1 argument (0 given)\n","stdout":"Less than 2 agents with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine(s)\n","id":"5ed68584759b110015403b46","version":0},{"tail":["...instance i-0195b74a48526ca3b is initializing","...instance i-0195b74a48526ca3b is initializing","...instance i-0195b74a48526ca3b is initializing","...instance i-0195b74a48526ca3b is initializing","...instance i-0195b74a48526ca3b is initializing"],"lastUpdateId":20,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed685cd759b110015403b47","_stepId":"5ed685cd759b110015403b49","_taskOutcomeId":"5ed685cd759b110015403b4a","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpOgogICAgcHJpbnQgJ0NoZWNraW5nIGZvciBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQodGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgIHJlcyA9IGdldF9ydW5uaW5nX2luc3RhbmNlc193aXRoX3RhZ3ModGFncykKICAgIG51bUV4aXN0aW5nSW5zdGFuY2VzID0gbGVuKHJlcykKICAgIHByaW50ICdGb3VuZCB7fSBleGlzdGluZyBlYzIgaW5zdGFuY2VzIHdpdGggdGFncyAie30iJy5mb3JtYXQobnVtRXhpc3RpbmdJbnN0YW5jZXMsIHRhZ3MpCiAgICBzeXMuc3Rkb3V0LmZsdXNoCgogICAgaWYgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPCAxOgogICAgICAgIGlmIG5vdCBwYXRoLmV4aXN0cygnYm9vdHN0cmFwLWVjMi5weScpOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24gKCdGaWxlIGJvb3RzdHJhcC1lYzIucHkgbm90IGZvdW5kJykKCiAgICAgICAgd2l0aCBvcGVuKCdib290c3RyYXAtZWMyLnB5JywgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICBkYXRhID0gZmlsZS5yZWFkKCkKCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW29yZ0lkXScsICciNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2VtYWlsXScsICcidGVzdHVzZXJAc2Fhc2dsdWUuY29tIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3Bhc3N3b3JkXScsICcibXlwYXNzd29yZCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1t3b3JraW5nZGlyXScsICciL2hvbWUvZWMyLXVzZXIiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGxhdGZvcm1dJywgJyJsaW51eCInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1thcmNoXScsICdOb25lJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbY29uZmlnXScsICd7InRhZ3MiOiB7ImFnZW50YnVpbGRlciI6InRydWUifSwgInByb3BlcnR5T3ZlcnJpZGVzIjogeyJpbmFjdGl2ZUFnZW50VGFzayI6IHsibmFtZSI6ICJJbmFjdGl2ZUFnZW50VGFzayIsICJzY3JpcHQiOiB7ICJfaWQiOiAiNWVkNWQ0NzU3NTliMTEwMDE1NDAzYTQ5In0sICJhcmd1bWVudHMiOiAiIiwgInZhcmlhYmxlcyI6IHsiQVdTX0FDQ0VTU19LRVlfSUQiOiAiQUtJQVRWMlhPMllGV0FKTVFKU04iLCAiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZIjogIm0zeFJqZlVSQ29FZ0k0NzJKdnd0UHorRWVkUzNDWUx3eEo3aHNwbU8ifX0sICJpbmFjdGl2ZVBlcmlvZFdhaXRUaW1lIjogOTAwMDB9fScpCiAgICAgICAgCiAgICAgICAgcHJpbnQoZGF0YSkKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgCiAgICAgICAgZGF0YV9ieXRlcyA9IGRhdGEuZW5jb2RlKCd1dGY4JykKICAgICAgICBiYXNlNjRfYnl0ZXMgPSBiYXNlNjQuYjY0ZW5jb2RlKGRhdGFfYnl0ZXMpCgogICAgICAgIGxhdW5jaF9lYzJfaW5zdGFuY2UoJ2FtaS0wOTllODgyYjA4NzZjODEyNCcsICdraWtpLTIwMTlRMScsICd0MS5taWNybycsIFsnc2ctMDM2ZGUyNTM3YzA1OWE0YWYnXSwgJ3N1Ym5ldC1kNDdhMmJmYScsICd2cGMtZDJkM2I0YTgnLCAxLCAyLCBiYXNlNjRfYnl0ZXMsIE5vbmUsIHRhZ3MpCgoKZGVmIFJlc3RBUElDYWxsKHVybCwgbWV0aG9kLCBoZWFkZXJzLCBkYXRhPXt9KToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHRyeToKICAgICAgICBkZWZhdWx0X2hlYWRlcnMgPSB7CiAgICAgICAgICAgICdDb29raWUnOiAnQXV0aD17fTsnLmZvcm1hdCh0b2tlbiksCiAgICAgICAgICAgICdfb3JnSWQnOiAnNWRlOTVjMDQ1MzE2MmU4ODkxZjVhODMwJwogICAgICAgIH0KCiAgICAgICAgaGVhZGVycy51cGRhdGUoZGVmYXVsdF9oZWFkZXJzKQoKICAgICAgICBpZiBtZXRob2QgPT0gJ1BPU1QnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdQVVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5wdXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpCiAgICAgICAgZWxpZiBtZXRob2QgPT0gJ0dFVCc6CiAgICAgICAgICAgIHJlcyA9IHJlcXVlc3RzLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCd7fSBtZXRob2Qgbm90IHN1cHBvcnRlZCcuZm9ybWF0KG1ldGhvZCkpCiAgICAgICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHN0cihyZXNbJ3N0YXR1c19jb2RlJ10pWzBdICE9ICcyJzoKICAgICAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKICAgICAgICAKICAgICAgICByZXR1cm4gcmVzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4OgogICAgICAgIHByaW50IHsnTWV0aG9kJzogJ1Jlc3RBUElDYWxsJywgJ0Vycm9yJzogZXgsICd1cmwnOiB1cmwsICdtZXRob2QnOiBtZXRob2QsICdfb3JnSWQnOiBfb3JnSWQsICdoZWFkZXJzJzogaGVhZGVycywgJ2RhdGEnOiBkYXRhfQogICAgICAgIHJhaXNlIGV4CgoKZGVmIFJlc3RBUElMb2dpbigpOgogICAgZ2xvYmFsIHRva2VuCgogICAgdXJsID0gJ2h0dHA6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2xvZ2luL2FwaUxvZ2luJwogICAgCiAgICBoZWFkZXJzID0gewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0KCiAgICBkYXRhID0gewogICAgICAgICdlbWFpbCc6ICd0ZXN0dXNlckBzYWFzZ2x1ZS5jb20nLAogICAgICAgICdwYXNzd29yZCc6ICdteXBhc3N3b3JkJwogICAgfQoKICAgIHJlcyA9IHJlcXVlc3RzLnBvc3QodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWpzb24uZHVtcHMoZGF0YSkpCiAgICBpZiAnc3RhdHVzX2NvZGUnIGluIHJlcyBhbmQgcmVzWydzdGF0dXNfY29kZSddICE9IDIwMDoKICAgICAgICBtc2cgPSAnQ2FsbCB0byB7fSByZXR1cm5lZCB7fSAtIHt9Jy5mb3JtYXQodXJsLCByZXMuc3RhdHVzX2NvZGUsIHJlcy50ZXh0KQogICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCgogICAgdG9rZW4gPSByZXMuY29va2llcy5nZXRfZGljdCgpWydBdXRoJ10KCgp3aGlsZSB0b2tlbiA9PSAnJzoKICAgIFJlc3RBUElMb2dpbigpCiAgICBpZiB0b2tlbiA9PSAnJzoKICAgICAgICBwcmludCAnQVBJIGxvZ2luIGZhaWxlZCcKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgdGltZS5zbGVlcCg1KQogICAgICAgIHByaW50ICdSZXRyeWluZyBhcGkgbG9naW4nCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAoKdGFncyA9IGpzb24ubG9hZHMoJ3siYWdlbnRidWlsZGVyIjoidHJ1ZSJ9JykKdGFnc0FycmF5ID0gW10KZm9yIHQgaW4gdGFnczoKICAgIHRhZ3NBcnJheS5hcHBlbmQoeydrZXknOiB0LCAndmFsdWUnOiB0YWdzW3RdfSkKYWdlbnRRdWVyeSA9IFJlc3RBUElDYWxsKCdodHRwczovL2tpa2ktZ28tc2VydmVyLmhlcm9rdWFwcC5jb20vYXBpL3YwL2FnZW50L3RhZ3Mve30/cmVzcG9uc2VGaWVsZHM9aWQnLmZvcm1hdChqc29uLmR1bXBzKHRhZ3NBcnJheSkpLCAnR0VUJywge30pCgpyZXMgPSBhZ2VudFF1ZXJ5Lmpzb24oKQppZiByZXNbJ3N0YXR1c0NvZGUnXSA9PSA0MDQ6CiAgICBwcmludCAnTm8gYWdlbnQgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgY3VycmVudGx5IHJ1bm5pbmcgLSBsYXVuY2hpbmcgbmV3IGFnZW50IG1hY2hpbmUnCiAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncykKZWxpZiByZXNbJ3N0YXR1c0NvZGUnXSAhPSAyMDA6CiAgICBtc2cgPSAnQ2FsbCB0byBnZXQgYWdlbnRzIHdpdGggdGFncyBmYWlsZWQnCiAgICByYWlzZSBFeGNlcHRpb24obXNnKQplbHNlOgogICAgaWYgbGVuKHJlc1snZGF0YSddKSA8IDI6CiAgICAgICAgcHJpbnQgJ0xlc3MgdGhhbiAyIGFnZW50cyB3aXRoIHRhZ3MgInsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9IiBjdXJyZW50bHkgcnVubmluZyAtIGxhdW5jaGluZyBuZXcgYWdlbnQgbWFjaGluZShzKScKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoCiAgICAgICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MpCiAgICBlbHNlOgogICAgICAgIHByaW50ICcyIGFnZW50KHMpIHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGFscmVhZHkgcnVubmluZycKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNo","status":22,"dateStarted":"2020-06-02T17:01:02.000Z","stdout":"Less than 2 agents with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine(s)\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\n#!/usr/bin/python\nimport sys\nimport os\nimport requests\nimport json\nimport gzip\nimport shutil\nimport time\ntoken = ''\norgId = \"5de95c0453162e8891f5a830\"\nemail = \"testuser@saasglue.com\"\npassword = \"mypassword\"\nworkingdir = \"/home/ec2-user\"\nplatform = \"linux\"\narch = None\nconfig = {\"tags\": {\"agentbuilder\":\"true\"}, \"propertyOverrides\": {\"inactiveAgentTask\": {\"name\": \"InactiveAgentTask\", \"script\": { \"_id\": \"5ed5d475759b110015403a49\"}, \"arguments\": \"\", \"variables\": {\"AWS_ACCESS_KEY_ID\": \"AKIATV2XO2YFWAJMQJSN\", \"AWS_SECRET_ACCESS_KEY\": \"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\"}}, \"inactivePeriodWaitTime\": 90000}}\noutFile = '{}/sg-agent-launcher'.format(workingdir)\ndef RestAPILogin():\n    global token\n    global email\n    global password\n    url = 'http://kiki-go-server.herokuapp.com/login/apiLogin'\n    \n    headers = {\n        'Content-Type': 'application/json'\n    }\n    data = {\n        'email': email,\n        'password': password\n    }\n    res = requests.post(url=url, headers=headers, data=json.dumps(data))\n    if (res.status_code != 200):\n        raise Exception(\n            'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    token = res.cookies.get_dict()['Auth']\ndef GetDownloadUrl():\n    global token\n    global teamId\n    global platform\n    global arch\n    while token == '':\n        RestAPILogin()\n        if token == '':\n            print('API login failed')\n            time.sleep(5)\n            print('Retrying api login')\n    url = 'https://kiki-go-server.herokuapp.com/api/v0/agentDownload/agentstub/{}'.format(platform)\n    if arch:\n        url += ('/' + arch)\n    headers = {\n\t'Cookie': 'Auth={};'.format(token),\n        '_teamId': teamId\n    }\n    while True:\n        res = requests.get(url=url, headers=headers)\n        if (res.status_code == 200):\n            break\n        else:\n            if (res.status_code == 303):\n                time.sleep(10)\n            else:\n                raise Exception(\n                    'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    return res.json()['data']\ndef DownloadAgent():\n    global outFile\n    s3url = GetDownloadUrl()\n    res = requests.get(s3url, allow_redirects=True)\n    open('sg-agent-launcher.gz', 'wb').write(res.content)\n    with gzip.open('sg-agent-launcher.gz', 'rb') as f_in:\n        with open(outFile, 'wb') as f_out:\n            shutil.copyfileobj(f_in, f_out)\n    os.chmod(outFile, 0o777)\n    os.remove('sg-agent-launcher.gz')\nDownloadAgent()\nconfigFile = '{}/kiki.cfg'.format(workingdir)\nwith open(configFile, 'w') as f:\n    json.dump(config, f, indent=4)\nos.system('su - ec2-user -c {}'.format(outFile))\n# cmd = \"\"\"\n# echo | crontab\n# (crontab -l ; echo \"*/1 * * * * /usr/bin/flock -n /tmp/start_kiki_agent_launcher.lockfile {}\") | crontab -\n# \"\"\".format(outFile)\n# os.system(cmd)\nLaunching between 1 and 2 ec2 instances of type \"t1.micro\"\n...waiting for \"i-0195b74a48526ca3b\" status\n...waiting for \"i-0195b74a48526ca3b\" status\n...instance i-0195b74a48526ca3b is running\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n...instance i-0195b74a48526ca3b is initializing\n","dateCompleted":"2020-06-02T17:04:05.684Z","exitCode":1,"runtimeVars":{"route":"fail"},"signal":null,"stderr":"Traceback (most recent call last):\n  File \"/home/ec2-user/zBD3zJERhe/1cY5N0Yzxo.py\", line 122, in <module>\n  File \"/home/ec2-user/zBD3zJERhe/1cY5N0Yzxo.py\", line 41, in LaunchNewAgentBuilder\n  File \"/home/ec2-user/zBD3zJERhe/ec2_access.py\", line 61, in launch_ec2_instance\n    status = res['InstanceStatuses'][0]\nIndexError: list index out of range\n","id":"5ed685ce759b110015403b4b","version":0},{"tail":["                \"Name\": \"running\"","            }","        }","    ]","}"],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68680759b110015403b4e","_stepId":"5ed68680759b110015403b51","_taskOutcomeId":"5ed68680759b110015403b54","name":"Step1","source":1,"machineId":"ip-172-31-92-27","ipAddress":"172.31.92.27","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":20,"dateStarted":"2020-06-02T17:04:00.243Z","dateCompleted":"2020-06-02T17:04:04.769Z","exitCode":0,"signal":null,"stderr":"","stdout":"{\n    \"TerminatingInstances\": [\n        {\n            \"InstanceId\": \"i-0da398aceb5a10f00\", \n            \"CurrentState\": {\n                \"Code\": 32, \n                \"Name\": \"shutting-down\"\n            }, \n            \"PreviousState\": {\n                \"Code\": 16, \n                \"Name\": \"running\"\n            }\n        }\n    ]\n}\n","id":"5ed68680759b110015403b56","version":0},{"tail":["                \"Name\": \"running\"","            }","        }","    ]","}"],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68680759b110015403b50","_stepId":"5ed68680759b110015403b53","_taskOutcomeId":"5ed68680759b110015403b55","name":"Step1","source":1,"machineId":"ip-172-31-91-43","ipAddress":"172.31.91.43","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":20,"dateStarted":"2020-06-02T17:04:00.335Z","dateCompleted":"2020-06-02T17:04:04.738Z","exitCode":0,"signal":null,"stderr":"","stdout":"{\n    \"TerminatingInstances\": [\n        {\n            \"InstanceId\": \"i-0195b74a48526ca3b\", \n            \"CurrentState\": {\n                \"Code\": 32, \n                \"Name\": \"shutting-down\"\n            }, \n            \"PreviousState\": {\n                \"Code\": 16, \n                \"Name\": \"running\"\n            }\n        }\n    ]\n}\n","id":"5ed68680759b110015403b57","version":0},{"tail":["...instance i-0328f9875ce2d1ee8 is initializing","...instance i-0328f9875ce2d1ee8 is ok","...instance i-0eb12f69f0ad20eb6 is running","...instance i-0eb12f69f0ad20eb6 is ok","Launched 2 ec2 t1.micro instance(s) [i-0328f9875ce2d1ee8,i-0eb12f69f0ad20eb6]"],"lastUpdateId":31,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68bd8759b110015403b59","_stepId":"5ed68bd8759b110015403b5b","_taskOutcomeId":"5ed68bd9759b110015403b5c","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MsIG1pbkNvdW50LCBtYXhDb3VudCk6CiAgICBwcmludCAnQ2hlY2tpbmcgZm9yIGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdCh0YWdzKQogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgcmVzID0gZ2V0X3J1bm5pbmdfaW5zdGFuY2VzX3dpdGhfdGFncyh0YWdzKQogICAgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPSBsZW4ocmVzKQogICAgcHJpbnQgJ0ZvdW5kIHt9IGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdChudW1FeGlzdGluZ0luc3RhbmNlcywgdGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKCiAgICBpZiBudW1FeGlzdGluZ0luc3RhbmNlcyA8IDE6CiAgICAgICAgaWYgbm90IHBhdGguZXhpc3RzKCdib290c3RyYXAtZWMyLnB5Jyk6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbiAoJ0ZpbGUgYm9vdHN0cmFwLWVjMi5weSBub3QgZm91bmQnKQoKICAgICAgICB3aXRoIG9wZW4oJ2Jvb3RzdHJhcC1lYzIucHknLCAncicpIGFzIGZpbGU6CiAgICAgICAgICAgIGRhdGEgPSBmaWxlLnJlYWQoKQoKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbb3JnSWRdJywgJyI1ZGU5NWMwNDUzMTYyZTg4OTFmNWE4MzAiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbZW1haWxdJywgJyJ0ZXN0dXNlckBzYWFzZ2x1ZS5jb20iJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJteXBhc3N3b3JkIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3dvcmtpbmdkaXJdJywgJyIvaG9tZS9lYzItdXNlciInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tjb25maWddJywgJ3sidGFncyI6IHsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9LCAicHJvcGVydHlPdmVycmlkZXMiOiB7ImluYWN0aXZlQWdlbnRUYXNrIjogeyJuYW1lIjogIkluYWN0aXZlQWdlbnRUYXNrIiwgInNjcmlwdCI6IHsgIl9pZCI6ICI1ZWQ1ZDQ3NTc1OWIxMTAwMTU0MDNhNDkifSwgImFyZ3VtZW50cyI6ICIiLCAidmFyaWFibGVzIjogeyJBV1NfQUNDRVNTX0tFWV9JRCI6ICJBS0lBVFYyWE8yWUZXQUpNUUpTTiIsICJBV1NfU0VDUkVUX0FDQ0VTU19LRVkiOiAibTN4UmpmVVJDb0VnSTQ3Mkp2d3RQeitFZWRTM0NZTHd4Sjdoc3BtTyJ9fSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiA5MDAwMH19JykKICAgICAgICAKICAgICAgICBwcmludChkYXRhKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICAKICAgICAgICBkYXRhX2J5dGVzID0gZGF0YS5lbmNvZGUoJ3V0ZjgnKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUoZGF0YV9ieXRlcykKCiAgICAgICAgbGF1bmNoX2VjMl9pbnN0YW5jZSgnYW1pLTA5OWU4ODJiMDg3NmM4MTI0JywgJ2tpa2ktMjAxOVExJywgJ3QxLm1pY3JvJywgWydzZy0wMzZkZTI1MzdjMDU5YTRhZiddLCAnc3VibmV0LWQ0N2EyYmZhJywgJ3ZwYy1kMmQzYjRhOCcsIG1pbkNvdW50LCBtYXhDb3VudCwgYmFzZTY0X2J5dGVzLCBOb25lLCB0YWdzKQoKCmRlZiBSZXN0QVBJQ2FsbCh1cmwsIG1ldGhvZCwgaGVhZGVycywgZGF0YT17fSk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB0cnk6CiAgICAgICAgZGVmYXVsdF9oZWFkZXJzID0gewogICAgICAgICAgICAnQ29va2llJzogJ0F1dGg9e307Jy5mb3JtYXQodG9rZW4pLAogICAgICAgICAgICAnX29yZ0lkJzogJzVkZTk1YzA0NTMxNjJlODg5MWY1YTgzMCcKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAndGVzdHVzZXJAc2Fhc2dsdWUuY29tJywKICAgICAgICAncGFzc3dvcmQnOiAnbXlwYXNzd29yZCcKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCd7ImFnZW50YnVpbGRlciI6InRydWUifScpCnRhZ3NBcnJheSA9IFtdCmZvciB0IGluIHRhZ3M6CiAgICB0YWdzQXJyYXkuYXBwZW5kKHsna2V5JzogdCwgJ3ZhbHVlJzogdGFnc1t0XX0pCmFnZW50UXVlcnkgPSBSZXN0QVBJQ2FsbCgnaHR0cHM6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2FwaS92MC9hZ2VudC90YWdzL3t9P3Jlc3BvbnNlRmllbGRzPWlkJy5mb3JtYXQoanNvbi5kdW1wcyh0YWdzQXJyYXkpKSwgJ0dFVCcsIHt9KQoKcmVzID0gYWdlbnRRdWVyeS5qc29uKCkKaWYgcmVzWydzdGF0dXNDb2RlJ10gPT0gNDA0OgogICAgcHJpbnQgJ05vIGFnZW50IHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MsIDEsIDIpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGNudFJ1bm5pbmdBZ2VudHMgPSBsZW4ocmVzWydkYXRhJ10pCiAgICBpZiBjbnRSdW5uaW5nQWdlbnRzIDwgMjoKICAgICAgICBudW1BZ2VudHNUb1N0YXJ0ID0gMiAtIGNudFJ1bm5pbmdBZ2VudHMKICAgICAgICBwcmludCAnTGVzcyB0aGFuIDIgYWdlbnRzIHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lKHMpJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncywgMSwgbnVtQWdlbnRzVG9TdGFydCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJzIgYWdlbnQocykgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g=","status":20,"dateStarted":"2020-06-02T17:26:49.026Z","stdout":"No agent with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\n#!/usr/bin/python\nimport sys\nimport os\nimport requests\nimport json\nimport gzip\nimport shutil\nimport time\ntoken = ''\norgId = \"5de95c0453162e8891f5a830\"\nemail = \"testuser@saasglue.com\"\npassword = \"mypassword\"\nworkingdir = \"/home/ec2-user\"\nplatform = \"linux\"\narch = None\nconfig = {\"tags\": {\"agentbuilder\":\"true\"}, \"propertyOverrides\": {\"inactiveAgentTask\": {\"name\": \"InactiveAgentTask\", \"script\": { \"_id\": \"5ed5d475759b110015403a49\"}, \"arguments\": \"\", \"variables\": {\"AWS_ACCESS_KEY_ID\": \"AKIATV2XO2YFWAJMQJSN\", \"AWS_SECRET_ACCESS_KEY\": \"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\"}}, \"inactivePeriodWaitTime\": 90000}}\noutFile = '{}/sg-agent-launcher'.format(workingdir)\ndef RestAPILogin():\n    global token\n    global email\n    global password\n    url = 'http://kiki-go-server.herokuapp.com/login/apiLogin'\n    \n    headers = {\n        'Content-Type': 'application/json'\n    }\n    data = {\n        'email': email,\n        'password': password\n    }\n    res = requests.post(url=url, headers=headers, data=json.dumps(data))\n    if (res.status_code != 200):\n        raise Exception(\n            'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    token = res.cookies.get_dict()['Auth']\ndef GetDownloadUrl():\n    global token\n    global teamId\n    global platform\n    global arch\n    while token == '':\n        RestAPILogin()\n        if token == '':\n            print('API login failed')\n            time.sleep(5)\n            print('Retrying api login')\n    url = 'https://kiki-go-server.herokuapp.com/api/v0/agentDownload/agentstub/{}'.format(platform)\n    if arch:\n        url += ('/' + arch)\n    headers = {\n\t'Cookie': 'Auth={};'.format(token),\n        '_teamId': teamId\n    }\n    while True:\n        res = requests.get(url=url, headers=headers)\n        if (res.status_code == 200):\n            break\n        else:\n            if (res.status_code == 303):\n                time.sleep(10)\n            else:\n                raise Exception(\n                    'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    return res.json()['data']\ndef DownloadAgent():\n    global outFile\n    s3url = GetDownloadUrl()\n    res = requests.get(s3url, allow_redirects=True)\n    open('sg-agent-launcher.gz', 'wb').write(res.content)\n    with gzip.open('sg-agent-launcher.gz', 'rb') as f_in:\n        with open(outFile, 'wb') as f_out:\n            shutil.copyfileobj(f_in, f_out)\n    os.chmod(outFile, 0o777)\n    os.remove('sg-agent-launcher.gz')\nDownloadAgent()\nconfigFile = '{}/kiki.cfg'.format(workingdir)\nwith open(configFile, 'w') as f:\n    json.dump(config, f, indent=4)\nos.system('su - ec2-user -c {}'.format(outFile))\n# cmd = \"\"\"\n# echo | crontab\n# (crontab -l ; echo \"*/1 * * * * /usr/bin/flock -n /tmp/start_kiki_agent_launcher.lockfile {}\") | crontab -\n# \"\"\".format(outFile)\n# os.system(cmd)\nLaunching between 1 and 2 ec2 instances of type \"t1.micro\"\n...waiting for \"i-0328f9875ce2d1ee8\" status\n...waiting for \"i-0328f9875ce2d1ee8\" status\n...instance i-0328f9875ce2d1ee8 is running\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is initializing\n...instance i-0328f9875ce2d1ee8 is ok\n...instance i-0eb12f69f0ad20eb6 is running\n...instance i-0eb12f69f0ad20eb6 is ok\nLaunched 2 ec2 t1.micro instance(s) [i-0328f9875ce2d1ee8,i-0eb12f69f0ad20eb6]\n","dateCompleted":"2020-06-02T17:31:44.135Z","exitCode":0,"signal":null,"stderr":"","id":"5ed68bd9759b110015403b5d","version":0},{"tail":["...instance i-07737b90909855029 is initializing","...instance i-07737b90909855029 is initializing","...instance i-07737b90909855029 is initializing","...instance i-07737b90909855029 is ok","Launched 1 ec2 t1.micro instance(s) [i-07737b90909855029]"],"lastUpdateId":18,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68fc8759b110015403b5f","_stepId":"5ed68fc8759b110015403b61","_taskOutcomeId":"5ed68fc9759b110015403b62","name":"step1","source":1,"machineId":"ip-172-31-93-56.ec2.internal","ipAddress":"172.31.93.56","runCode":"aW1wb3J0IGJhc2U2NAppbXBvcnQgc3lzCmltcG9ydCBvcwpmcm9tIG9zIGltcG9ydCBwYXRoCmltcG9ydCByZXF1ZXN0cwppbXBvcnQganNvbgpmcm9tIGVjMl9hY2Nlc3MgaW1wb3J0ICoKCgp0b2tlbiA9ICcnCgpkZWYgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MsIG1pbkNvdW50LCBtYXhDb3VudCk6CiAgICBwcmludCAnQ2hlY2tpbmcgZm9yIGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdCh0YWdzKQogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgcmVzID0gZ2V0X3J1bm5pbmdfaW5zdGFuY2VzX3dpdGhfdGFncyh0YWdzKQogICAgbnVtRXhpc3RpbmdJbnN0YW5jZXMgPSBsZW4ocmVzKQogICAgcHJpbnQgJ0ZvdW5kIHt9IGV4aXN0aW5nIGVjMiBpbnN0YW5jZXMgd2l0aCB0YWdzICJ7fSInLmZvcm1hdChudW1FeGlzdGluZ0luc3RhbmNlcywgdGFncykKICAgIHN5cy5zdGRvdXQuZmx1c2gKCiAgICBpZiBudW1FeGlzdGluZ0luc3RhbmNlcyA8IDE6CiAgICAgICAgaWYgbm90IHBhdGguZXhpc3RzKCdib290c3RyYXAtZWMyLnB5Jyk6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbiAoJ0ZpbGUgYm9vdHN0cmFwLWVjMi5weSBub3QgZm91bmQnKQoKICAgICAgICB3aXRoIG9wZW4oJ2Jvb3RzdHJhcC1lYzIucHknLCAncicpIGFzIGZpbGU6CiAgICAgICAgICAgIGRhdGEgPSBmaWxlLnJlYWQoKQoKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbb3JnSWRdJywgJyI1ZGU5NWMwNDUzMTYyZTg4OTFmNWE4MzAiJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbZW1haWxdJywgJyJ0ZXN0dXNlckBzYWFzZ2x1ZS5jb20iJykKICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKCdbcGFzc3dvcmRdJywgJyJteXBhc3N3b3JkIicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW3dvcmtpbmdkaXJdJywgJyIvaG9tZS9lYzItdXNlciInKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1twbGF0Zm9ybV0nLCAnImxpbnV4IicpCiAgICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZSgnW2FyY2hdJywgJ05vbmUnKQogICAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoJ1tjb25maWddJywgJ3sidGFncyI6IHsiYWdlbnRidWlsZGVyIjoidHJ1ZSJ9LCAicHJvcGVydHlPdmVycmlkZXMiOiB7ImluYWN0aXZlQWdlbnRUYXNrIjogeyJuYW1lIjogIkluYWN0aXZlQWdlbnRUYXNrIiwgInNjcmlwdCI6IHsgIl9pZCI6ICI1ZWQ1ZDQ3NTc1OWIxMTAwMTU0MDNhNDkifSwgImFyZ3VtZW50cyI6ICIiLCAidmFyaWFibGVzIjogeyJBV1NfQUNDRVNTX0tFWV9JRCI6ICJBS0lBVFYyWE8yWUZXQUpNUUpTTiIsICJBV1NfU0VDUkVUX0FDQ0VTU19LRVkiOiAibTN4UmpmVVJDb0VnSTQ3Mkp2d3RQeitFZWRTM0NZTHd4Sjdoc3BtTyJ9fSwgImluYWN0aXZlUGVyaW9kV2FpdFRpbWUiOiA5MDAwMH19JykKICAgICAgICAKICAgICAgICBwcmludChkYXRhKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICAKICAgICAgICBkYXRhX2J5dGVzID0gZGF0YS5lbmNvZGUoJ3V0ZjgnKQogICAgICAgIGJhc2U2NF9ieXRlcyA9IGJhc2U2NC5iNjRlbmNvZGUoZGF0YV9ieXRlcykKCiAgICAgICAgbGF1bmNoX2VjMl9pbnN0YW5jZSgnYW1pLTA5OWU4ODJiMDg3NmM4MTI0JywgJ2tpa2ktMjAxOVExJywgJ3QxLm1pY3JvJywgWydzZy0wMzZkZTI1MzdjMDU5YTRhZiddLCAnc3VibmV0LWQ0N2EyYmZhJywgJ3ZwYy1kMmQzYjRhOCcsIG1pbkNvdW50LCBtYXhDb3VudCwgYmFzZTY0X2J5dGVzLCBOb25lLCB0YWdzKQoKCmRlZiBSZXN0QVBJQ2FsbCh1cmwsIG1ldGhvZCwgaGVhZGVycywgZGF0YT17fSk6CiAgICBnbG9iYWwgdG9rZW4KCiAgICB0cnk6CiAgICAgICAgZGVmYXVsdF9oZWFkZXJzID0gewogICAgICAgICAgICAnQ29va2llJzogJ0F1dGg9e307Jy5mb3JtYXQodG9rZW4pLAogICAgICAgICAgICAnX29yZ0lkJzogJzVkZTk1YzA0NTMxNjJlODg5MWY1YTgzMCcKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMudXBkYXRlKGRlZmF1bHRfaGVhZGVycykKCiAgICAgICAgaWYgbWV0aG9kID09ICdQT1NUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucG9zdCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGRhdGE9ZGF0YSkKICAgICAgICBlbGlmIG1ldGhvZCA9PSAnUFVUJzoKICAgICAgICAgICAgcmVzID0gcmVxdWVzdHMucHV0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQogICAgICAgIGVsaWYgbWV0aG9kID09ICdHRVQnOgogICAgICAgICAgICByZXMgPSByZXF1ZXN0cy5nZXQodXJsPXVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigne30gbWV0aG9kIG5vdCBzdXBwb3J0ZWQnLmZvcm1hdChtZXRob2QpKQogICAgICAgIGlmICdzdGF0dXNfY29kZScgaW4gcmVzIGFuZCBzdHIocmVzWydzdGF0dXNfY29kZSddKVswXSAhPSAnMic6CiAgICAgICAgICAgIG1zZyA9ICdDYWxsIHRvIHt9IHJldHVybmVkIHt9IC0ge30nLmZvcm1hdCh1cmwsIHJlcy5zdGF0dXNfY29kZSwgcmVzLnRleHQpCiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihtc2cpCiAgICAgICAgCiAgICAgICAgcmV0dXJuIHJlcwogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleDoKICAgICAgICBwcmludCB7J01ldGhvZCc6ICdSZXN0QVBJQ2FsbCcsICdFcnJvcic6IGV4LCAndXJsJzogdXJsLCAnbWV0aG9kJzogbWV0aG9kLCAnX29yZ0lkJzogX29yZ0lkLCAnaGVhZGVycyc6IGhlYWRlcnMsICdkYXRhJzogZGF0YX0KICAgICAgICByYWlzZSBleAoKCmRlZiBSZXN0QVBJTG9naW4oKToKICAgIGdsb2JhbCB0b2tlbgoKICAgIHVybCA9ICdodHRwOi8va2lraS1nby1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9sb2dpbi9hcGlMb2dpbicKICAgIAogICAgaGVhZGVycyA9IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9CgogICAgZGF0YSA9IHsKICAgICAgICAnZW1haWwnOiAndGVzdHVzZXJAc2Fhc2dsdWUuY29tJywKICAgICAgICAncGFzc3dvcmQnOiAnbXlwYXNzd29yZCcKICAgIH0KCiAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1qc29uLmR1bXBzKGRhdGEpKQogICAgaWYgJ3N0YXR1c19jb2RlJyBpbiByZXMgYW5kIHJlc1snc3RhdHVzX2NvZGUnXSAhPSAyMDA6CiAgICAgICAgbXNnID0gJ0NhbGwgdG8ge30gcmV0dXJuZWQge30gLSB7fScuZm9ybWF0KHVybCwgcmVzLnN0YXR1c19jb2RlLCByZXMudGV4dCkKICAgICAgICByYWlzZSBFeGNlcHRpb24obXNnKQoKICAgIHRva2VuID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKVsnQXV0aCddCgoKd2hpbGUgdG9rZW4gPT0gJyc6CiAgICBSZXN0QVBJTG9naW4oKQogICAgaWYgdG9rZW4gPT0gJyc6CiAgICAgICAgcHJpbnQgJ0FQSSBsb2dpbiBmYWlsZWQnCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaAogICAgICAgIHRpbWUuc2xlZXAoNSkKICAgICAgICBwcmludCAnUmV0cnlpbmcgYXBpIGxvZ2luJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKCnRhZ3MgPSBqc29uLmxvYWRzKCd7ImFnZW50YnVpbGRlciI6InRydWUifScpCnRhZ3NBcnJheSA9IFtdCmZvciB0IGluIHRhZ3M6CiAgICB0YWdzQXJyYXkuYXBwZW5kKHsna2V5JzogdCwgJ3ZhbHVlJzogdGFnc1t0XX0pCmFnZW50UXVlcnkgPSBSZXN0QVBJQ2FsbCgnaHR0cHM6Ly9raWtpLWdvLXNlcnZlci5oZXJva3VhcHAuY29tL2FwaS92MC9hZ2VudC90YWdzL3t9P3Jlc3BvbnNlRmllbGRzPWlkJy5mb3JtYXQoanNvbi5kdW1wcyh0YWdzQXJyYXkpKSwgJ0dFVCcsIHt9KQoKcmVzID0gYWdlbnRRdWVyeS5qc29uKCkKaWYgcmVzWydzdGF0dXNDb2RlJ10gPT0gNDA0OgogICAgcHJpbnQgJ05vIGFnZW50IHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lJwogICAgc3lzLnN0ZG91dC5mbHVzaAogICAgTGF1bmNoTmV3QWdlbnRCdWlsZGVyKHRhZ3MsIDEsIDIpCmVsaWYgcmVzWydzdGF0dXNDb2RlJ10gIT0gMjAwOgogICAgbXNnID0gJ0NhbGwgdG8gZ2V0IGFnZW50cyB3aXRoIHRhZ3MgZmFpbGVkJwogICAgcmFpc2UgRXhjZXB0aW9uKG1zZykKZWxzZToKICAgIGNudFJ1bm5pbmdBZ2VudHMgPSBsZW4ocmVzWydkYXRhJ10pCiAgICBpZiBjbnRSdW5uaW5nQWdlbnRzIDwgMjoKICAgICAgICBudW1BZ2VudHNUb1N0YXJ0ID0gMiAtIGNudFJ1bm5pbmdBZ2VudHMKICAgICAgICBwcmludCAnTGVzcyB0aGFuIDIgYWdlbnRzIHdpdGggdGFncyAieyJhZ2VudGJ1aWxkZXIiOiJ0cnVlIn0iIGN1cnJlbnRseSBydW5uaW5nIC0gbGF1bmNoaW5nIG5ldyBhZ2VudCBtYWNoaW5lKHMpJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2gKICAgICAgICBMYXVuY2hOZXdBZ2VudEJ1aWxkZXIodGFncywgMSwgbnVtQWdlbnRzVG9TdGFydCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJzIgYWdlbnQocykgd2l0aCB0YWdzICJ7ImFnZW50YnVpbGRlciI6InRydWUifSIgYWxyZWFkeSBydW5uaW5nJwogICAgICAgIHN5cy5zdGRvdXQuZmx1c2g=","status":20,"dateStarted":"2020-06-02T17:43:37.242Z","stdout":"Less than 2 agents with tags \"{\"agentbuilder\":\"true\"}\" currently running - launching new agent machine(s)\nChecking for existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\nFound 0 existing ec2 instances with tags \"{u'agentbuilder': u'true'}\"\n#!/usr/bin/python\nimport sys\nimport os\nimport requests\nimport json\nimport gzip\nimport shutil\nimport time\ntoken = ''\norgId = \"5de95c0453162e8891f5a830\"\nemail = \"testuser@saasglue.com\"\npassword = \"mypassword\"\nworkingdir = \"/home/ec2-user\"\nplatform = \"linux\"\narch = None\nconfig = {\"tags\": {\"agentbuilder\":\"true\"}, \"propertyOverrides\": {\"inactiveAgentTask\": {\"name\": \"InactiveAgentTask\", \"script\": { \"_id\": \"5ed5d475759b110015403a49\"}, \"arguments\": \"\", \"variables\": {\"AWS_ACCESS_KEY_ID\": \"AKIATV2XO2YFWAJMQJSN\", \"AWS_SECRET_ACCESS_KEY\": \"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\"}}, \"inactivePeriodWaitTime\": 90000}}\noutFile = '{}/sg-agent-launcher'.format(workingdir)\ndef RestAPILogin():\n    global token\n    global email\n    global password\n    url = 'http://kiki-go-server.herokuapp.com/login/apiLogin'\n    \n    headers = {\n        'Content-Type': 'application/json'\n    }\n    data = {\n        'email': email,\n        'password': password\n    }\n    res = requests.post(url=url, headers=headers, data=json.dumps(data))\n    if (res.status_code != 200):\n        raise Exception(\n            'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    token = res.cookies.get_dict()['Auth']\ndef GetDownloadUrl():\n    global token\n    global teamId\n    global platform\n    global arch\n    while token == '':\n        RestAPILogin()\n        if token == '':\n            print('API login failed')\n            time.sleep(5)\n            print('Retrying api login')\n    url = 'https://kiki-go-server.herokuapp.com/api/v0/agentDownload/agentstub/{}'.format(platform)\n    if arch:\n        url += ('/' + arch)\n    headers = {\n\t'Cookie': 'Auth={};'.format(token),\n        '_teamId': teamId\n    }\n    while True:\n        res = requests.get(url=url, headers=headers)\n        if (res.status_code == 200):\n            break\n        else:\n            if (res.status_code == 303):\n                time.sleep(10)\n            else:\n                raise Exception(\n                    'Call to {} returned {} - {}'.format(url, res.status_code, res.text))\n    return res.json()['data']\ndef DownloadAgent():\n    global outFile\n    s3url = GetDownloadUrl()\n    res = requests.get(s3url, allow_redirects=True)\n    open('sg-agent-launcher.gz', 'wb').write(res.content)\n    with gzip.open('sg-agent-launcher.gz', 'rb') as f_in:\n        with open(outFile, 'wb') as f_out:\n            shutil.copyfileobj(f_in, f_out)\n    os.chmod(outFile, 0o777)\n    os.remove('sg-agent-launcher.gz')\nDownloadAgent()\nconfigFile = '{}/kiki.cfg'.format(workingdir)\nwith open(configFile, 'w') as f:\n    json.dump(config, f, indent=4)\nos.system('su - ec2-user -c {}'.format(outFile))\n# cmd = \"\"\"\n# echo | crontab\n# (crontab -l ; echo \"*/1 * * * * /usr/bin/flock -n /tmp/start_kiki_agent_launcher.lockfile {}\") | crontab -\n# \"\"\".format(outFile)\n# os.system(cmd)\nLaunching between 1 and 1 ec2 instances of type \"t1.micro\"\n...waiting for \"i-07737b90909855029\" status\n...waiting for \"i-07737b90909855029\" status\n...instance i-07737b90909855029 is running\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is initializing\n...instance i-07737b90909855029 is ok\nLaunched 1 ec2 t1.micro instance(s) [i-07737b90909855029]\n","dateCompleted":"2020-06-02T17:46:21.158Z","exitCode":0,"signal":null,"stderr":"","id":"5ed68fc9759b110015403b63","version":0},{"tail":["                \"Name\": \"running\"","            }","        }","    ]","}"],"lastUpdateId":2,"archived":false,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed6907e759b110015403b65","_stepId":"5ed6907e759b110015403b67","_taskOutcomeId":"5ed6907e759b110015403b68","name":"Step1","source":1,"machineId":"ip-172-31-84-218","ipAddress":"172.31.84.218","runCode":"QVdTX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKUkVHSU9OPSQoY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9keW5hbWljL2luc3RhbmNlLWlkZW50aXR5L2RvY3VtZW50IHwgYXdrIC1GJyInICcvXCJyZWdpb25cIi8geyBwcmludCAkNCB9JykKYXdzIGVjMiB0ZXJtaW5hdGUtaW5zdGFuY2VzIC0taW5zdGFuY2UtaWRzICRBV1NfSU5TVEFOQ0VfSUQgLS1yZWdpb24gJFJFR0lPTg==","status":20,"dateStarted":"2020-06-02T17:46:38.372Z","dateCompleted":"2020-06-02T17:46:43.558Z","exitCode":0,"signal":null,"stderr":"","stdout":"{\n    \"TerminatingInstances\": [\n        {\n            \"InstanceId\": \"i-07737b90909855029\", \n            \"CurrentState\": {\n                \"Code\": 32, \n                \"Name\": \"shutting-down\"\n            }, \n            \"PreviousState\": {\n                \"Code\": 16, \n                \"Name\": \"running\"\n            }\n        }\n    ]\n}\n","id":"5ed6907e759b110015403b69","version":0}],"task":[{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"_teamId":"5de95c0453162e8891f5a830","name":"Task1","source":0,"requiredTags":{},"target":1,"targetAgentId":"","correlationId":"906015085","_jobId":"5ed5c519759b110015403a11","runtimeVars":{"phrase":"\"hello world\""},"up_dep":{},"id":"5ed5c519759b110015403a12","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"_teamId":"5de95c0453162e8891f5a830","name":"Task1","source":0,"requiredTags":{},"target":1,"targetAgentId":"","correlationId":"954552850","_jobId":"5ed5c52b759b110015403a16","runtimeVars":{"phrase":"\"hello world!\""},"up_dep":{},"id":"5ed5c52b759b110015403a17","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5aa759b110015403a1e","5ed5c5c8759b110015403a1f"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c8c8759b110015403a22","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","route":"fail"},"source":1,"up_dep":{},"TTL":null,"id":"5ed5c8c8759b110015403a23","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5aa759b110015403a1e","5ed5c5c8759b110015403a1f"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c91a759b110015403a27","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","route":"fail"},"source":1,"up_dep":{},"TTL":null,"id":"5ed5c91a759b110015403a28","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5aa759b110015403a1e","5ed5c5c8759b110015403a1f"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c957759b110015403a2c","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","route":"fail"},"source":1,"up_dep":{},"TTL":null,"id":"5ed5c957759b110015403a2d","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5aa759b110015403a1e","5ed5c5c8759b110015403a1f"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c9a7759b110015403a31","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1"},"source":1,"up_dep":{},"TTL":null,"id":"5ed5c9a7759b110015403a32","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5aa759b110015403a1e","5ed5c5c8759b110015403a1f"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5ce66759b110015403a37","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"[{\"agentbuilder\":\"true\"}]","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","route":"fail"},"source":1,"up_dep":{},"TTL":null,"id":"5ed5ce66759b110015403a38","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d095759b110015403a3e","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","route":"fail"},"source":1,"up_dep":{},"TTL":null,"id":"5ed5d095759b110015403a3f","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f","5ed5d07f759b110015403a3c"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d0b1759b110015403a43","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1"},"source":1,"up_dep":{},"TTL":null,"id":"5ed5d0b1759b110015403a44","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f","5ed5d07f759b110015403a3c"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d78a759b110015403a4a","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","IAMRole":"None","route":"fail"},"source":1,"up_dep":{},"TTL":null,"id":"5ed5d78a759b110015403a4b","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed5d9d4759b110015403a54","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d9f4759b110015403a55","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed5d9f4759b110015403a56","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed5d9d4759b110015403a54","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da17759b110015403a5a","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed5da17759b110015403a5b","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed5d9d4759b110015403a54","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da35759b110015403a5f","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed5da35759b110015403a60","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed5d9d4759b110015403a54","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da53759b110015403a64","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed5da53759b110015403a65","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f","5ed5d07f759b110015403a3c"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d972759b110015403a4f","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MinCount":"1","MaxCount":"1","IAMRole":"None"},"source":1,"up_dep":{},"TTL":null,"id":"5ed5d972759b110015403a50","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed5d9d4759b110015403a54","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da71759b110015403a69","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed5da71759b110015403a6a","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed5d9d4759b110015403a54","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da90759b110015403a6e","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed5da90759b110015403a6f","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed5d9d4759b110015403a54","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5daae759b110015403a73","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed5daae759b110015403a74","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed5d9d4759b110015403a54","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5dacc759b110015403a78","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed5dacc759b110015403a79","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed5d9d4759b110015403a54","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5daea759b110015403a7d","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed5daea759b110015403a7e","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","name":"Task1","source":0,"requiredTags":{"ec2admin":"true"},"target":4,"targetAgentId":"","correlationId":"119534579","_jobId":"5ed678a0759b110015403a82","runtimeVars":{},"up_dep":{},"id":"5ed678a0759b110015403a83","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67ad1759b110015403a8d","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67ad2759b110015403a8e","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67af6759b110015403a92","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67af6759b110015403a93","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b14759b110015403a97","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67b14759b110015403a98","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b32759b110015403a9c","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67b32759b110015403a9d","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b50759b110015403aa1","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67b50759b110015403aa2","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f","5ed5d07f759b110015403a3c"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67a47759b110015403a87","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MinCount":"1","MaxCount":"1","IAMRole":"None"},"source":1,"up_dep":{},"TTL":null,"id":"5ed67a47759b110015403a88","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b6e759b110015403aa6","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67b6e759b110015403aa7","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b8c759b110015403aab","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67b8c759b110015403aac","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67baa759b110015403ab0","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67baa759b110015403ab1","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67bc9759b110015403ab5","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67bc9759b110015403ab6","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67be7759b110015403aba","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67be7759b110015403abb","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c05759b110015403abf","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67c05759b110015403ac0","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c23759b110015403ac4","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67c23759b110015403ac5","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c41759b110015403ac9","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67c41759b110015403aca","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c5f759b110015403ace","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67c5f759b110015403acf","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c7d759b110015403ad3","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67c7d759b110015403ad4","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c9c759b110015403ad8","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67c9c759b110015403ad9","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cba759b110015403add","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67cba759b110015403ade","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cd8759b110015403ae2","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67cd8759b110015403ae3","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cf6759b110015403ae7","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67cf6759b110015403ae8","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d14759b110015403aec","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67d14759b110015403aed","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d32759b110015403af1","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67d32759b110015403af2","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d50759b110015403af6","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67d50759b110015403af7","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d6e759b110015403afb","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67d6e759b110015403afc","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d8d759b110015403b00","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67d8d759b110015403b01","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67dab759b110015403b05","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67dab759b110015403b06","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67dc9759b110015403b0a","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67dc9759b110015403b0b","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67de7759b110015403b0f","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67de7759b110015403b10","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e05759b110015403b14","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67e05759b110015403b15","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e23759b110015403b19","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67e23759b110015403b1a","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed67ab1759b110015403a8c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e41759b110015403b1e","runtimeVars":{"route":"fail"},"up_dep":{},"id":"5ed67e41759b110015403b1f","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f","5ed5d07f759b110015403a3c"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e8f759b110015403b23","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MinCount":"1","MaxCount":"1","IAMRole":"None"},"source":1,"up_dep":{},"TTL":null,"id":"5ed67e8f759b110015403b24","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f","5ed5d07f759b110015403a3c"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67f74759b110015403b28","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MinCount":"1","MaxCount":"1","IAMRole":"None"},"source":1,"up_dep":{},"TTL":null,"id":"5ed67f74759b110015403b29","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f","5ed5d07f759b110015403a3c"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed681f2759b110015403b2d","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MaxCount":"1","IAMRole":"None"},"source":1,"up_dep":{},"TTL":null,"id":"5ed681f2759b110015403b2e","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed684e0759b110015403b37","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68500759b110015403b38","runtimeVars":{},"up_dep":{},"id":"5ed68500759b110015403b39","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f","5ed5d07f759b110015403a3c"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68483759b110015403b32","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MaxCount":"1","IAMRole":"None","route":"fail"},"source":1,"up_dep":{},"TTL":null,"id":"5ed68483759b110015403b33","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f","5ed5d07f759b110015403a3c"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68563759b110015403b3d","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"90000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MaxCount":"1","IAMRole":"None"},"source":1,"up_dep":{},"TTL":null,"id":"5ed68563759b110015403b3e","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f","5ed5d07f759b110015403a3c"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68584759b110015403b42","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"90000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MaxCount":"2","IAMRole":"None","route":"fail"},"source":1,"up_dep":{},"TTL":null,"id":"5ed68584759b110015403b43","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed68623759b110015403b4c","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68680759b110015403b4e","runtimeVars":{},"up_dep":{},"id":"5ed68680759b110015403b4f","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed68623759b110015403b4d","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68680759b110015403b50","runtimeVars":{},"up_dep":{},"id":"5ed68680759b110015403b52","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5c5c8759b110015403a1f","5ed5d07f759b110015403a3c"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed685cd759b110015403b47","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"90000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MaxCount":"2","IAMRole":"None","route":"fail"},"source":1,"up_dep":{},"TTL":null,"id":"5ed685cd759b110015403b48","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5d07f759b110015403a3c","5ed68bb7759b110015403b58"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68bd8759b110015403b59","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"90000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","IAMRole":"None","MaxCount":"2"},"source":1,"up_dep":{},"TTL":null,"id":"5ed68bd8759b110015403b5a","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5d07f759b110015403a3c","5ed68bb7759b110015403b58"],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":["5e9bf416ed382e0015d511e7"],"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68fc8759b110015403b5f","name":"LaunchBuilder","targetAgentId":null,"requiredTags":{"ec2admin":"true"},"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"90000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","IAMRole":"None","MaxCount":"2"},"source":1,"up_dep":{},"TTL":null,"id":"5ed68fc8759b110015403b60","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":[],"status":5,"autoRestart":false,"down_dep":[],"attemptedRunAgentIds":[],"name":"InactiveTask","source":1,"targetAgentId":"5ed69022759b110015403b64","requiredTags":[],"target":16,"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed6907e759b110015403b65","runtimeVars":{},"up_dep":{},"id":"5ed6907e759b110015403b66","version":0}],"taskDef":[{"fromRoutes":[],"toRoutes":[],"artifacts":[],"name":"Task1","_teamId":"5de95c0453162e8891f5a830","_jobDefId":"5eb08a6094dadd7ec1898302","requiredTags":[],"target":1,"id":"5eb08b4494dadd7ec1898303","version":0},{"fromRoutes":[],"toRoutes":[],"artifacts":["5ed5d07f759b110015403a3c","5ed68bb7759b110015403b58"],"_jobDefId":"5ed5c53c759b110015403a1b","target":4,"name":"LaunchBuilder","requiredTags":{"ec2admin":"true"},"_teamId":"5de95c0453162e8891f5a830","id":"5ed5c54a759b110015403a1c","version":0}],"taskOutcome":[{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c519759b110015403a11","_taskId":"5ed5c519759b110015403a12","_agentId":"5ed51ddbcd2de1001528eb94","source":0,"status":20,"correlationId":"906015085","dateStarted":"2020-06-02T03:18:49.900Z","ipAddress":"192.168.10.41,10.211.55.2,10.37.129.2","machineId":"richwood-macbook.local","artifactsDownloadedSize":0,"target":1,"runtimeVars":{"phrase":"\"hello world\""},"dateCompleted":"2020-06-02T03:18:50.580Z","id":"5ed5c51a759b110015403a14","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c52b759b110015403a16","_taskId":"5ed5c52b759b110015403a17","_agentId":"5e9bf416ed382e0015d511e7","source":0,"status":20,"correlationId":"954552850","dateStarted":"2020-06-02T03:19:07.354Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":0,"target":1,"runtimeVars":{"phrase":"\"hello world!\""},"dateCompleted":"2020-06-02T03:19:07.418Z","id":"5ed5c52b759b110015403a19","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c8c8759b110015403a22","_taskId":"5ed5c8c8759b110015403a23","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":22,"dateStarted":"2020-06-02T03:34:32.968Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10202,"target":4,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","route":"fail"},"dateCompleted":"2020-06-02T03:34:33.212Z","route":"fail","id":"5ed5c8c9759b110015403a25","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c91a759b110015403a27","_taskId":"5ed5c91a759b110015403a28","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":22,"dateStarted":"2020-06-02T03:35:54.371Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10202,"target":4,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","route":"fail"},"dateCompleted":"2020-06-02T03:35:55.253Z","route":"fail","id":"5ed5c91a759b110015403a2a","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c957759b110015403a2c","_taskId":"5ed5c957759b110015403a2d","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":22,"dateStarted":"2020-06-02T03:36:55.994Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10202,"target":4,"runtimeVars":{"teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","route":"fail"},"dateCompleted":"2020-06-02T03:36:57.009Z","route":"fail","id":"5ed5c958759b110015403a2f","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5c9a7759b110015403a31","_taskId":"5ed5c9a7759b110015403a32","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":20,"dateStarted":"2020-06-02T03:38:15.118Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10202,"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1"},"dateCompleted":"2020-06-02T03:42:59.820Z","id":"5ed5c9a7759b110015403a34","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5ce66759b110015403a37","_taskId":"5ed5ce66759b110015403a38","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":22,"dateStarted":"2020-06-02T03:58:30.535Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10202,"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"[{\"agentbuilder\":\"true\"}]","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","route":"fail"},"dateCompleted":"2020-06-02T03:58:31.408Z","route":"fail","id":"5ed5ce66759b110015403a3a","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d095759b110015403a3e","_taskId":"5ed5d095759b110015403a3f","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":22,"dateStarted":"2020-06-02T04:07:49.952Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":7723,"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","route":"fail"},"dateCompleted":"2020-06-02T04:07:51.289Z","route":"fail","id":"5ed5d096759b110015403a41","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d0b1759b110015403a43","_taskId":"5ed5d0b1759b110015403a44","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":20,"dateStarted":"2020-06-02T04:08:17.701Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10216,"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1"},"dateCompleted":"2020-06-02T04:11:21.336Z","id":"5ed5d0b1759b110015403a46","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d78a759b110015403a4a","_taskId":"5ed5d78a759b110015403a4b","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":22,"dateStarted":"2020-06-02T04:37:30.836Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10216,"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000","ImageId":"ami-099e882b0876c8124","KeyName":"kiki-2019Q1","InstanceType":"t1.micro","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"subnet-d47a2bfa","VpcId":"vpc-d2d3b4a8","MinCount":"1","MaxCount":"1","IAMRole":"None","route":"fail"},"dateCompleted":"2020-06-02T04:37:32.318Z","route":"fail","id":"5ed5d78b759b110015403a4d","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d972759b110015403a4f","_taskId":"5ed5d972759b110015403a50","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":20,"dateStarted":"2020-06-02T04:45:39.037Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10216,"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MinCount":"1","MaxCount":"1","IAMRole":"None"},"dateCompleted":"2020-06-02T04:49:43.160Z","id":"5ed5d973759b110015403a52","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5d9f4759b110015403a55","_taskId":"5ed5d9f4759b110015403a56","_agentId":"5ed5d9d4759b110015403a54","source":1,"status":22,"dateStarted":"2020-06-02T04:47:48.521Z","ipAddress":"172.31.80.129","machineId":"ip-172-31-80-129","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T04:47:54.230Z","route":"fail","id":"5ed5d9f4759b110015403a58","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da17759b110015403a5a","_taskId":"5ed5da17759b110015403a5b","_agentId":"5ed5d9d4759b110015403a54","source":1,"status":22,"dateStarted":"2020-06-02T04:48:23.635Z","ipAddress":"172.31.80.129","machineId":"ip-172-31-80-129","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T04:48:24.454Z","route":"fail","id":"5ed5da17759b110015403a5d","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da35759b110015403a5f","_taskId":"5ed5da35759b110015403a60","_agentId":"5ed5d9d4759b110015403a54","source":1,"status":22,"dateStarted":"2020-06-02T04:48:53.773Z","ipAddress":"172.31.80.129","machineId":"ip-172-31-80-129","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T04:48:54.594Z","route":"fail","id":"5ed5da35759b110015403a62","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da53759b110015403a64","_taskId":"5ed5da53759b110015403a65","_agentId":"5ed5d9d4759b110015403a54","source":1,"status":22,"dateStarted":"2020-06-02T04:49:23.905Z","ipAddress":"172.31.80.129","machineId":"ip-172-31-80-129","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T04:49:24.700Z","route":"fail","id":"5ed5da53759b110015403a67","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da71759b110015403a69","_taskId":"5ed5da71759b110015403a6a","_agentId":"5ed5d9d4759b110015403a54","source":1,"status":22,"dateStarted":"2020-06-02T04:49:54.010Z","ipAddress":"172.31.80.129","machineId":"ip-172-31-80-129","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T04:49:54.805Z","route":"fail","id":"5ed5da72759b110015403a6c","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5da90759b110015403a6e","_taskId":"5ed5da90759b110015403a6f","_agentId":"5ed5d9d4759b110015403a54","source":1,"status":22,"dateStarted":"2020-06-02T04:50:24.183Z","ipAddress":"172.31.80.129","machineId":"ip-172-31-80-129","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T04:50:25.022Z","route":"fail","id":"5ed5da90759b110015403a71","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5daae759b110015403a73","_taskId":"5ed5daae759b110015403a74","_agentId":"5ed5d9d4759b110015403a54","source":1,"status":22,"dateStarted":"2020-06-02T04:50:54.358Z","ipAddress":"172.31.80.129","machineId":"ip-172-31-80-129","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T04:50:55.166Z","route":"fail","id":"5ed5daae759b110015403a76","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5dacc759b110015403a78","_taskId":"5ed5dacc759b110015403a79","_agentId":"5ed5d9d4759b110015403a54","source":1,"status":22,"dateStarted":"2020-06-02T04:51:24.515Z","ipAddress":"172.31.80.129","machineId":"ip-172-31-80-129","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T04:51:25.317Z","route":"fail","id":"5ed5dacc759b110015403a7b","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed5daea759b110015403a7d","_taskId":"5ed5daea759b110015403a7e","_agentId":"5ed5d9d4759b110015403a54","source":1,"status":22,"dateStarted":"2020-06-02T04:51:54.757Z","ipAddress":"172.31.80.129","machineId":"ip-172-31-80-129","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T04:51:55.576Z","route":"fail","id":"5ed5daea759b110015403a80","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed678a0759b110015403a82","_taskId":"5ed678a0759b110015403a83","_agentId":"5e9bf416ed382e0015d511e7","source":0,"status":20,"correlationId":"119534579","dateStarted":"2020-06-02T16:04:49.127Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":0,"target":4,"runtimeVars":{},"dateCompleted":"2020-06-02T16:04:50.021Z","id":"5ed678a1759b110015403a85","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67a47759b110015403a87","_taskId":"5ed67a47759b110015403a88","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":20,"dateStarted":"2020-06-02T16:11:51.771Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10216,"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MinCount":"1","MaxCount":"1","IAMRole":"None"},"dateCompleted":"2020-06-02T16:16:37.015Z","id":"5ed67a47759b110015403a8a","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67ad1759b110015403a8d","_taskId":"5ed67ad2759b110015403a8e","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:14:10.069Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:14:16.246Z","route":"fail","id":"5ed67ad2759b110015403a90","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67af6759b110015403a92","_taskId":"5ed67af6759b110015403a93","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:14:46.205Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:14:47.040Z","route":"fail","id":"5ed67af6759b110015403a95","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b14759b110015403a97","_taskId":"5ed67b14759b110015403a98","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:15:16.381Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:15:17.227Z","route":"fail","id":"5ed67b14759b110015403a9a","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b32759b110015403a9c","_taskId":"5ed67b32759b110015403a9d","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:15:46.514Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:15:47.379Z","route":"fail","id":"5ed67b32759b110015403a9f","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b50759b110015403aa1","_taskId":"5ed67b50759b110015403aa2","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:16:16.636Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:16:17.458Z","route":"fail","id":"5ed67b50759b110015403aa4","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b6e759b110015403aa6","_taskId":"5ed67b6e759b110015403aa7","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:16:46.756Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:16:47.602Z","route":"fail","id":"5ed67b6e759b110015403aa9","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67b8c759b110015403aab","_taskId":"5ed67b8c759b110015403aac","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:17:16.887Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:17:17.754Z","route":"fail","id":"5ed67b8c759b110015403aae","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67baa759b110015403ab0","_taskId":"5ed67baa759b110015403ab1","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:17:47.019Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:17:47.844Z","route":"fail","id":"5ed67bab759b110015403ab3","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67bc9759b110015403ab5","_taskId":"5ed67bc9759b110015403ab6","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:18:17.120Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:18:17.934Z","route":"fail","id":"5ed67bc9759b110015403ab8","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67be7759b110015403aba","_taskId":"5ed67be7759b110015403abb","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:18:47.234Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:18:48.056Z","route":"fail","id":"5ed67be7759b110015403abd","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c05759b110015403abf","_taskId":"5ed67c05759b110015403ac0","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:19:17.361Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:19:18.201Z","route":"fail","id":"5ed67c05759b110015403ac2","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c23759b110015403ac4","_taskId":"5ed67c23759b110015403ac5","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:19:47.607Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:19:48.525Z","route":"fail","id":"5ed67c23759b110015403ac7","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c41759b110015403ac9","_taskId":"5ed67c41759b110015403aca","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:20:17.751Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:20:18.587Z","route":"fail","id":"5ed67c41759b110015403acc","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c5f759b110015403ace","_taskId":"5ed67c5f759b110015403acf","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:20:47.870Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:20:48.703Z","route":"fail","id":"5ed67c5f759b110015403ad1","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c7d759b110015403ad3","_taskId":"5ed67c7d759b110015403ad4","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:21:17.997Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:21:18.826Z","route":"fail","id":"5ed67c7e759b110015403ad6","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67c9c759b110015403ad8","_taskId":"5ed67c9c759b110015403ad9","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:21:48.148Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:21:48.991Z","route":"fail","id":"5ed67c9c759b110015403adb","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cba759b110015403add","_taskId":"5ed67cba759b110015403ade","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:22:18.262Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:22:19.095Z","route":"fail","id":"5ed67cba759b110015403ae0","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cd8759b110015403ae2","_taskId":"5ed67cd8759b110015403ae3","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:22:48.413Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:22:49.248Z","route":"fail","id":"5ed67cd8759b110015403ae5","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67cf6759b110015403ae7","_taskId":"5ed67cf6759b110015403ae8","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:23:18.533Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:23:19.344Z","route":"fail","id":"5ed67cf6759b110015403aea","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d14759b110015403aec","_taskId":"5ed67d14759b110015403aed","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:23:48.636Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:23:49.466Z","route":"fail","id":"5ed67d14759b110015403aef","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d32759b110015403af1","_taskId":"5ed67d32759b110015403af2","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:24:18.736Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:24:19.554Z","route":"fail","id":"5ed67d32759b110015403af4","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d50759b110015403af6","_taskId":"5ed67d50759b110015403af7","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:24:48.849Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:24:49.662Z","route":"fail","id":"5ed67d50759b110015403af9","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d6e759b110015403afb","_taskId":"5ed67d6e759b110015403afc","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:25:18.978Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:25:19.812Z","route":"fail","id":"5ed67d6e759b110015403afe","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67d8d759b110015403b00","_taskId":"5ed67d8d759b110015403b01","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:25:49.101Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:25:49.927Z","route":"fail","id":"5ed67d8d759b110015403b03","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67dab759b110015403b05","_taskId":"5ed67dab759b110015403b06","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:26:19.202Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:26:20.006Z","route":"fail","id":"5ed67dab759b110015403b08","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67dc9759b110015403b0a","_taskId":"5ed67dc9759b110015403b0b","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:26:49.327Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:26:50.158Z","route":"fail","id":"5ed67dc9759b110015403b0d","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67de7759b110015403b0f","_taskId":"5ed67de7759b110015403b10","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:27:19.475Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:27:20.304Z","route":"fail","id":"5ed67de7759b110015403b12","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e05759b110015403b14","_taskId":"5ed67e05759b110015403b15","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:27:49.612Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:27:50.432Z","route":"fail","id":"5ed67e05759b110015403b17","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e23759b110015403b19","_taskId":"5ed67e23759b110015403b1a","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:28:19.721Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:28:20.569Z","route":"fail","id":"5ed67e23759b110015403b1c","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e41759b110015403b1e","_taskId":"5ed67e41759b110015403b1f","_agentId":"5ed67ab1759b110015403a8c","source":1,"status":22,"dateStarted":"2020-06-02T16:28:49.822Z","ipAddress":"172.31.87.230","machineId":"ip-172-31-87-230","artifactsDownloadedSize":0,"target":16,"runtimeVars":{"route":"fail"},"dateCompleted":"2020-06-02T16:28:50.647Z","route":"fail","id":"5ed67e41759b110015403b21","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67e8f759b110015403b23","_taskId":"5ed67e8f759b110015403b24","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":20,"dateStarted":"2020-06-02T16:30:07.299Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10216,"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MinCount":"1","MaxCount":"1","IAMRole":"None"},"dateCompleted":"2020-06-02T16:30:09.190Z","id":"5ed67e8f759b110015403b26","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed67f74759b110015403b28","_taskId":"5ed67f74759b110015403b29","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":20,"dateStarted":"2020-06-02T16:33:56.838Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10216,"target":4,"runtimeVars":{"maxInstances":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MinCount":"1","MaxCount":"1","IAMRole":"None"},"dateCompleted":"2020-06-02T16:37:41.678Z","id":"5ed67f75759b110015403b2b","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed681f2759b110015403b2d","_taskId":"5ed681f2759b110015403b2e","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":20,"dateStarted":"2020-06-02T16:44:34.635Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10216,"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MaxCount":"1","IAMRole":"None"},"dateCompleted":"2020-06-02T16:47:38.366Z","id":"5ed681f2759b110015403b30","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68483759b110015403b32","_taskId":"5ed68483759b110015403b33","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":22,"dateStarted":"2020-06-02T16:55:32.062Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10216,"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"30000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MaxCount":"1","IAMRole":"None","route":"fail"},"dateCompleted":"2020-06-02T16:57:45.444Z","route":"fail","id":"5ed68484759b110015403b35","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68500759b110015403b38","_taskId":"5ed68500759b110015403b39","_agentId":"5ed684e0759b110015403b37","source":1,"status":20,"dateStarted":"2020-06-02T16:57:37.140Z","ipAddress":"172.31.87.203","machineId":"ip-172-31-87-203","artifactsDownloadedSize":0,"target":16,"runtimeVars":{},"dateCompleted":"2020-06-02T16:57:42.175Z","id":"5ed68501759b110015403b3b","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68563759b110015403b3d","_taskId":"5ed68563759b110015403b3e","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":20,"dateStarted":"2020-06-02T16:59:15.255Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10216,"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"90000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MaxCount":"1","IAMRole":"None"},"dateCompleted":"2020-06-02T16:59:16.292Z","id":"5ed68563759b110015403b40","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68584759b110015403b42","_taskId":"5ed68584759b110015403b43","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":22,"dateStarted":"2020-06-02T16:59:48.309Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10216,"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"90000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MaxCount":"2","IAMRole":"None","route":"fail"},"dateCompleted":"2020-06-02T16:59:49.198Z","route":"fail","id":"5ed68584759b110015403b45","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed685cd759b110015403b47","_taskId":"5ed685cd759b110015403b48","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":22,"dateStarted":"2020-06-02T17:01:01.575Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10216,"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"90000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","MaxCount":"2","IAMRole":"None","route":"fail"},"dateCompleted":"2020-06-02T17:04:05.684Z","route":"fail","id":"5ed685cd759b110015403b4a","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68680759b110015403b4e","_taskId":"5ed68680759b110015403b4f","_agentId":"5ed68623759b110015403b4c","source":1,"status":20,"dateStarted":"2020-06-02T17:04:00.203Z","ipAddress":"172.31.92.27","machineId":"ip-172-31-92-27","artifactsDownloadedSize":0,"target":16,"runtimeVars":{},"dateCompleted":"2020-06-02T17:04:04.769Z","id":"5ed68680759b110015403b54","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68680759b110015403b50","_taskId":"5ed68680759b110015403b52","_agentId":"5ed68623759b110015403b4d","source":1,"status":20,"dateStarted":"2020-06-02T17:04:00.263Z","ipAddress":"172.31.91.43","machineId":"ip-172-31-91-43","artifactsDownloadedSize":0,"target":16,"runtimeVars":{},"dateCompleted":"2020-06-02T17:04:04.738Z","id":"5ed68680759b110015403b55","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68bd8759b110015403b59","_taskId":"5ed68bd8759b110015403b5a","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":20,"dateStarted":"2020-06-02T17:26:48.860Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10791,"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"90000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","IAMRole":"None","MaxCount":"2"},"dateCompleted":"2020-06-02T17:31:44.135Z","id":"5ed68bd9759b110015403b5c","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed68fc8759b110015403b5f","_taskId":"5ed68fc8759b110015403b60","_agentId":"5e9bf416ed382e0015d511e7","source":1,"status":20,"dateStarted":"2020-06-02T17:43:37.095Z","ipAddress":"172.31.93.56","machineId":"ip-172-31-93-56.ec2.internal","artifactsDownloadedSize":10791,"target":4,"runtimeVars":{"MinCount":"1","teamId":"5de95c0453162e8891f5a830","email":"testuser@saasglue.com","password":"mypassword","workingdir":"/home/ec2-user","tags":"{\"agentbuilder\":\"true\"}","InactiveAgentScriptId":"5ed5d475759b110015403a49","AWS_ACCESS_KEY_ID":"AKIATV2XO2YFWAJMQJSN","AWS_SECRET_ACCESS_KEY":"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","inactivePeriodWaitTime":"90000","ImageId":"'ami-099e882b0876c8124'","KeyName":"'kiki-2019Q1'","InstanceType":"'t1.micro'","SecurityGroupIds":"['sg-036de2537c059a4af']","SubnetId":"'subnet-d47a2bfa'","VpcId":"'vpc-d2d3b4a8'","IAMRole":"None","MaxCount":"2"},"dateCompleted":"2020-06-02T17:46:21.158Z","id":"5ed68fc9759b110015403b62","version":0},{"_teamId":"5de95c0453162e8891f5a830","_jobId":"5ed6907e759b110015403b65","_taskId":"5ed6907e759b110015403b66","_agentId":"5ed69022759b110015403b64","source":1,"status":20,"dateStarted":"2020-06-02T17:46:38.350Z","ipAddress":"172.31.84.218","machineId":"ip-172-31-84-218","artifactsDownloadedSize":0,"target":16,"runtimeVars":{},"dateCompleted":"2020-06-02T17:46:43.558Z","id":"5ed6907e759b110015403b68","version":0}],"schedule":[],"invoice":[],"paymentMethod":[],"paymentTransaction":[]}